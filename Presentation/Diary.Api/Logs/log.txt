2024-05-04 06:05:55.429 +03:00 [DBG] Hosting starting
2024-05-04 06:05:55.981 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-04 06:05:55.983 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 06:05:55.984 +03:00 [INF] Hosting environment: Development
2024-05-04 06:05:55.984 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-04 06:05:55.984 +03:00 [DBG] Hosting started
2024-05-04 06:05:56.193 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-04 06:05:56.200 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 06:05:56.282 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/index.html - null null
2024-05-04 06:05:56.283 +03:00 [DBG] Connection ID "18374686519936942095" disconnecting.
2024-05-04 06:05:56.304 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 301 null null 117.1189ms
2024-05-04 06:05:56.388 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/index.html - 200 null text/html;charset=utf-8 105.8357ms
2024-05-04 06:05:56.392 +03:00 [DBG] Connection ID "18374686498462105633" disconnecting.
2024-05-04 06:05:56.503 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/swagger-ui-bundle.js - null null
2024-05-04 06:05:56.503 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/swagger-ui-standalone-preset.js - null null
2024-05-04 06:05:56.507 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/swagger-ui.css - null null
2024-05-04 06:05:56.543 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-05-04 06:05:56.543 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-05-04 06:05:56.544 +03:00 [DBG] Connection ID "18374686481282236453" disconnecting.
2024-05-04 06:05:56.567 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/swagger-ui.css - 200 143943 text/css 60.2809ms
2024-05-04 06:05:56.568 +03:00 [DBG] Connection ID "18230571318976184321" disconnecting.
2024-05-04 06:05:56.577 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/swagger-ui-standalone-preset.js - 200 339486 text/javascript 74.673ms
2024-05-04 06:05:56.579 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-05-04 06:05:56.601 +03:00 [DBG] Connection ID "18374686489872171041" disconnecting.
2024-05-04 06:05:56.601 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/swagger-ui-bundle.js - 200 1096145 text/javascript 99.2632ms
2024-05-04 06:05:56.899 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-04 06:05:56.904 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2024-05-04 06:05:56.925 +03:00 [DBG] Connection ID "18374686519936942097" disconnecting.
2024-05-04 06:05:56.925 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 26.8901ms
2024-05-04 06:05:56.936 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/favicon-32x32.png - null null
2024-05-04 06:05:56.938 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-05-04 06:05:56.938 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/favicon-32x32.png - 200 628 image/png 1.9505ms
2024-05-04 06:08:31.501 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-04 06:08:31.631 +03:00 [DBG] Hosting starting
2024-05-04 06:08:31.752 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-04 06:08:31.753 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 06:08:31.763 +03:00 [INF] Hosting environment: Development
2024-05-04 06:08:31.764 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-04 06:08:31.764 +03:00 [DBG] Hosting started
2024-05-04 06:08:31.821 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/index.html - null null
2024-05-04 06:08:31.826 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 06:08:31.842 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 06:08:31.843 +03:00 [DBG] Request did not match any endpoints
2024-05-04 06:08:31.981 +03:00 [DBG] Connection ID "18230571323271151617" disconnecting.
2024-05-04 06:08:31.983 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/index.html - 200 null text/html;charset=utf-8 167.9025ms
2024-05-04 06:08:32.480 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-04 06:08:32.480 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 06:08:32.480 +03:00 [DBG] Request did not match any endpoints
2024-05-04 06:08:32.612 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 130.2958ms
2024-05-04 06:08:32.615 +03:00 [DBG] Connection ID "18374686481282236455" disconnecting.
2024-05-04 06:09:32.230 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/api/v1/Report/1 - null null
2024-05-04 06:09:32.240 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report/1'
2024-05-04 06:09:32.244 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)' with route pattern 'api/v1/Report/{id}' is valid for the request path '/api/v1/Report/1'
2024-05-04 06:09:32.244 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 06:09:32.247 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 06:09:32.248 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 06:09:32.281 +03:00 [INF] Route matched with {action = "GetReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] GetReport(Int64) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-04 06:09:32.285 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-04 06:09:32.285 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 06:09:32.286 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-04 06:09:32.287 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 06:09:32.287 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-04 06:09:32.289 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 06:09:32.609 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-04 06:09:33.357 +03:00 [WRN] The foreign key property 'Report.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-05-04 06:09:33.550 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.0-preview.3.24172.4' with options: None
2024-05-04 06:09:33.594 +03:00 [DBG] Creating DbConnection.
2024-05-04 06:09:33.613 +03:00 [DBG] Created DbConnection. (17ms).
2024-05-04 06:09:33.616 +03:00 [DBG] Opening connection to database '' on server ''.
2024-05-04 06:09:34.117 +03:00 [DBG] An error occurred using the connection to database '' on server ''.
2024-05-04 17:25:47.941 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-04 17:25:48.085 +03:00 [DBG] Hosting starting
2024-05-04 17:25:48.538 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-04 17:25:48.539 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 17:25:48.541 +03:00 [INF] Hosting environment: Development
2024-05-04 17:25:48.542 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-04 17:25:48.542 +03:00 [DBG] Hosting started
2024-05-04 17:25:48.765 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-04 17:25:48.772 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 17:25:48.791 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-04 17:25:48.792 +03:00 [DBG] Request did not match any endpoints
2024-05-04 17:25:48.878 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/index.html - null null
2024-05-04 17:25:48.879 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 17:25:48.879 +03:00 [DBG] Request did not match any endpoints
2024-05-04 17:25:48.879 +03:00 [DBG] Connection ID "18374686507052040215" disconnecting.
2024-05-04 17:25:48.901 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 301 null null 143.4549ms
2024-05-04 17:25:49.009 +03:00 [DBG] Connection ID "18374686498462105638" disconnecting.
2024-05-04 17:25:49.009 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/index.html - 200 null text/html;charset=utf-8 131.0129ms
2024-05-04 17:25:49.137 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/swagger-ui-standalone-preset.js - null null
2024-05-04 17:25:49.137 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/swagger-ui-bundle.js - null null
2024-05-04 17:25:49.139 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2024-05-04 17:25:49.139 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2024-05-04 17:25:49.139 +03:00 [DBG] Request did not match any endpoints
2024-05-04 17:25:49.140 +03:00 [DBG] Request did not match any endpoints
2024-05-04 17:25:49.140 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/swagger-ui.css - null null
2024-05-04 17:25:49.140 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-05-04 17:25:49.140 +03:00 [DBG] Request did not match any endpoints
2024-05-04 17:25:49.176 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-05-04 17:25:49.176 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-05-04 17:25:49.182 +03:00 [DBG] Connection ID "18230571297501347850" disconnecting.
2024-05-04 17:25:49.191 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/swagger-ui.css - 200 143943 text/css 51.0088ms
2024-05-04 17:25:49.192 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-05-04 17:25:49.197 +03:00 [DBG] Connection ID "18158513729233223681" disconnecting.
2024-05-04 17:25:49.197 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/swagger-ui-standalone-preset.js - 200 339486 text/javascript 61.4875ms
2024-05-04 17:25:49.269 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/swagger-ui-bundle.js - 200 1096145 text/javascript 133.4473ms
2024-05-04 17:25:49.269 +03:00 [DBG] Connection ID "18230571323271151619" disconnecting.
2024-05-04 17:25:49.638 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-04 17:25:49.638 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 17:25:49.638 +03:00 [DBG] Request did not match any endpoints
2024-05-04 17:25:49.747 +03:00 [DBG] Connection ID "18374686524231909385" disconnecting.
2024-05-04 17:25:49.747 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 109.3022ms
2024-05-04 17:26:10.285 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/api/v1/Report/1 - null null
2024-05-04 17:26:10.294 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report/1'
2024-05-04 17:26:10.298 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)' with route pattern 'api/v1/Report/{id}' is valid for the request path '/api/v1/Report/1'
2024-05-04 17:26:10.299 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 17:26:10.301 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 17:26:10.302 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 17:26:10.336 +03:00 [INF] Route matched with {action = "GetReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] GetReport(Int64) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-04 17:26:10.338 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-04 17:26:10.338 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 17:26:10.338 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-04 17:26:10.339 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 17:26:10.339 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-04 17:26:10.341 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 17:26:10.797 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-04 17:26:11.857 +03:00 [WRN] The foreign key property 'Report.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-05-04 17:26:12.053 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-04 17:26:12.070 +03:00 [DBG] Creating DbConnection.
2024-05-04 17:26:12.172 +03:00 [DBG] Created DbConnection. (101ms).
2024-05-04 17:26:12.179 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 17:26:12.317 +03:00 [DBG] An error occurred using the connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 17:29:17.057 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-04 17:29:17.133 +03:00 [DBG] Hosting starting
2024-05-04 17:29:17.257 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-04 17:29:17.266 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 17:29:17.275 +03:00 [INF] Hosting environment: Development
2024-05-04 17:29:17.275 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-04 17:29:17.275 +03:00 [DBG] Hosting started
2024-05-04 17:29:17.316 +03:00 [DBG] Connection ID "18302628904424177685" disconnecting.
2024-05-04 17:29:17.316 +03:00 [DBG] Connection ID "18230571331861086209" disconnecting.
2024-05-04 17:29:17.337 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/index.html - null null
2024-05-04 17:29:17.337 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/index.html - null null
2024-05-04 17:29:17.343 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 17:29:17.343 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 17:29:17.360 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 17:29:17.360 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 17:29:17.360 +03:00 [DBG] Request did not match any endpoints
2024-05-04 17:29:17.360 +03:00 [DBG] Request did not match any endpoints
2024-05-04 17:29:17.481 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/index.html - 200 null text/html;charset=utf-8 150.6926ms
2024-05-04 17:29:17.494 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/index.html - 200 null text/html;charset=utf-8 164.7057ms
2024-05-04 17:30:28.007 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-04 17:30:28.089 +03:00 [DBG] Hosting starting
2024-05-04 17:30:28.203 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-04 17:30:28.212 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 17:30:28.213 +03:00 [INF] Hosting environment: Development
2024-05-04 17:30:28.214 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-04 17:30:28.221 +03:00 [DBG] Hosting started
2024-05-04 17:30:28.266 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/index.html - null null
2024-05-04 17:30:28.271 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 17:30:28.288 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 17:30:28.288 +03:00 [DBG] Request did not match any endpoints
2024-05-04 17:30:28.410 +03:00 [DBG] Connection ID "18302628887244308489" disconnecting.
2024-05-04 17:30:28.411 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/index.html - 200 null text/html;charset=utf-8 150.4834ms
2024-05-04 17:30:28.795 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-04 17:30:28.795 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 17:30:28.795 +03:00 [DBG] Request did not match any endpoints
2024-05-04 17:30:28.824 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/favicon-32x32.png - null null
2024-05-04 17:30:28.824 +03:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2024-05-04 17:30:28.824 +03:00 [DBG] Request did not match any endpoints
2024-05-04 17:30:28.837 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-05-04 17:30:28.839 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/favicon-32x32.png - 200 628 image/png 13.5538ms
2024-05-04 17:30:28.841 +03:00 [DBG] Connection ID "18374686507052040219" disconnecting.
2024-05-04 17:30:28.906 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 110.7056ms
2024-05-04 17:30:28.909 +03:00 [DBG] Connection ID "18302628891539275783" disconnecting.
2024-05-04 17:31:54.230 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-04 17:31:54.902 +03:00 [DBG] Hosting starting
2024-05-04 17:31:55.014 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-04 17:31:55.023 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 17:31:55.031 +03:00 [INF] Hosting environment: Development
2024-05-04 17:31:55.032 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-04 17:31:55.032 +03:00 [DBG] Hosting started
2024-05-04 17:31:55.074 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/index.html - null null
2024-05-04 17:31:55.079 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 17:31:55.094 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 17:31:55.095 +03:00 [DBG] Request did not match any endpoints
2024-05-04 17:31:55.221 +03:00 [DBG] Connection ID "18374686498462105641" disconnecting.
2024-05-04 17:31:55.223 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/index.html - 200 null text/html;charset=utf-8 154.7995ms
2024-05-04 17:31:55.529 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-04 17:31:55.529 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 17:31:55.529 +03:00 [DBG] Request did not match any endpoints
2024-05-04 17:31:55.653 +03:00 [DBG] Connection ID "18374686515641974802" disconnecting.
2024-05-04 17:31:55.653 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 124.9755ms
2024-05-04 17:37:44.504 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-04 17:37:44.579 +03:00 [DBG] Hosting starting
2024-05-04 17:37:44.698 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-04 17:37:44.699 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 17:37:44.707 +03:00 [INF] Hosting environment: Development
2024-05-04 17:37:44.707 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-04 17:37:44.707 +03:00 [DBG] Hosting started
2024-05-04 17:37:44.760 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/index.html - null null
2024-05-04 17:37:44.765 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 17:37:44.780 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 17:37:44.781 +03:00 [DBG] Request did not match any endpoints
2024-05-04 17:37:44.906 +03:00 [DBG] Connection ID "18374686498462105643" disconnecting.
2024-05-04 17:37:44.908 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/index.html - 200 null text/html;charset=utf-8 152.9765ms
2024-05-04 17:37:45.191 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-04 17:37:45.192 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 17:37:45.192 +03:00 [DBG] Request did not match any endpoints
2024-05-04 17:37:45.326 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 130.5457ms
2024-05-04 17:37:45.326 +03:00 [DBG] Connection ID "18374686515641974804" disconnecting.
2024-05-04 17:38:08.003 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/api/v1/Report/1 - null null
2024-05-04 17:38:08.013 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report/1'
2024-05-04 17:38:08.017 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)' with route pattern 'api/v1/Report/{id}' is valid for the request path '/api/v1/Report/1'
2024-05-04 17:38:08.017 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 17:38:08.019 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 17:38:08.020 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 17:38:08.048 +03:00 [INF] Route matched with {action = "GetReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] GetReport(Int64) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-04 17:38:08.052 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-04 17:38:08.052 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 17:38:08.053 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-04 17:38:08.053 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 17:38:08.053 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-04 17:38:08.055 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 17:38:08.214 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-04 17:38:08.872 +03:00 [WRN] The foreign key property 'Report.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-05-04 17:38:09.069 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-04 17:38:09.083 +03:00 [DBG] Creating DbConnection.
2024-05-04 17:38:09.136 +03:00 [DBG] Created DbConnection. (50ms).
2024-05-04 17:38:09.142 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 17:38:09.227 +03:00 [DBG] An error occurred using the connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 17:38:58.145 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-04 17:38:58.223 +03:00 [DBG] Hosting starting
2024-05-04 17:38:58.348 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-04 17:38:58.352 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 17:38:58.366 +03:00 [INF] Hosting environment: Development
2024-05-04 17:38:58.366 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-04 17:38:58.366 +03:00 [DBG] Hosting started
2024-05-04 17:38:58.416 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/index.html - null null
2024-05-04 17:38:58.420 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 17:38:58.435 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 17:38:58.435 +03:00 [DBG] Request did not match any endpoints
2024-05-04 17:38:58.573 +03:00 [DBG] Connection ID "18374686511347007505" disconnecting.
2024-05-04 17:38:58.574 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/index.html - 200 null text/html;charset=utf-8 164.6672ms
2024-05-04 17:38:58.841 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-04 17:38:58.841 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 17:38:58.841 +03:00 [DBG] Request did not match any endpoints
2024-05-04 17:38:58.946 +03:00 [DBG] Connection ID "18374686507052040222" disconnecting.
2024-05-04 17:38:58.946 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 104.9707ms
2024-05-04 17:39:14.197 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/api/v1/Report/1 - null null
2024-05-04 17:39:14.201 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report/1'
2024-05-04 17:39:14.204 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)' with route pattern 'api/v1/Report/{id}' is valid for the request path '/api/v1/Report/1'
2024-05-04 17:39:14.205 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 17:39:14.207 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 17:39:14.208 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 17:39:14.236 +03:00 [INF] Route matched with {action = "GetReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] GetReport(Int64) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-04 17:39:14.240 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-04 17:39:14.240 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 17:39:14.242 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-04 17:39:14.242 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 17:39:14.242 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-04 17:39:14.244 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 17:39:14.412 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-04 17:42:03.345 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-04 17:42:03.424 +03:00 [DBG] Hosting starting
2024-05-04 17:42:03.534 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-04 17:42:03.542 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 17:42:03.550 +03:00 [INF] Hosting environment: Development
2024-05-04 17:42:03.550 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-04 17:42:03.550 +03:00 [DBG] Hosting started
2024-05-04 17:42:03.595 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/index.html - null null
2024-05-04 17:42:03.600 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 17:42:03.614 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 17:42:03.615 +03:00 [DBG] Request did not match any endpoints
2024-05-04 17:42:03.740 +03:00 [DBG] Connection ID "18302628887244308492" disconnecting.
2024-05-04 17:42:03.742 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/index.html - 200 null text/html;charset=utf-8 152.2447ms
2024-05-04 17:42:04.014 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-04 17:42:04.014 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 17:42:04.014 +03:00 [DBG] Request did not match any endpoints
2024-05-04 17:42:04.132 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 117.584ms
2024-05-04 17:42:04.136 +03:00 [DBG] Connection ID "18374686507052040224" disconnecting.
2024-05-04 17:42:07.776 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/api/v1/Report/1 - null null
2024-05-04 17:42:07.780 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report/1'
2024-05-04 17:42:07.784 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)' with route pattern 'api/v1/Report/{id}' is valid for the request path '/api/v1/Report/1'
2024-05-04 17:42:07.785 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 17:42:07.787 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 17:42:07.788 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 17:42:07.817 +03:00 [INF] Route matched with {action = "GetReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] GetReport(Int64) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-04 17:42:07.820 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-04 17:42:07.821 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 17:42:07.822 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-04 17:42:07.822 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 17:42:07.822 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-04 17:42:07.824 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 17:42:07.993 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-04 17:43:14.371 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-04 17:43:14.871 +03:00 [DBG] Hosting starting
2024-05-04 17:43:14.975 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-04 17:43:14.983 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 17:43:14.992 +03:00 [INF] Hosting environment: Development
2024-05-04 17:43:14.992 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-04 17:43:14.992 +03:00 [DBG] Hosting started
2024-05-04 17:43:15.034 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/index.html - null null
2024-05-04 17:43:15.039 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 17:43:15.053 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 17:43:15.054 +03:00 [DBG] Request did not match any endpoints
2024-05-04 17:43:15.181 +03:00 [DBG] Connection ID "18230571323271151621" disconnecting.
2024-05-04 17:43:15.184 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/index.html - 200 null text/html;charset=utf-8 154.9557ms
2024-05-04 17:43:15.487 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-04 17:43:15.488 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 17:43:15.488 +03:00 [DBG] Request did not match any endpoints
2024-05-04 17:43:15.621 +03:00 [DBG] Connection ID "18374686524231909389" disconnecting.
2024-05-04 17:43:15.621 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 133.3058ms
2024-05-04 17:43:23.050 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/api/v1/Report/1 - null null
2024-05-04 17:43:23.054 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report/1'
2024-05-04 17:43:23.058 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)' with route pattern 'api/v1/Report/{id}' is valid for the request path '/api/v1/Report/1'
2024-05-04 17:43:23.058 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 17:43:23.060 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 17:43:23.061 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 17:43:23.089 +03:00 [INF] Route matched with {action = "GetReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] GetReport(Int64) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-04 17:43:23.092 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-04 17:43:23.092 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 17:43:23.093 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-04 17:43:23.093 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 17:43:23.093 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-04 17:43:23.095 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 17:43:23.264 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-04 17:43:37.107 +03:00 [WRN] The foreign key property 'Report.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-05-04 17:43:37.277 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-04 17:43:37.289 +03:00 [DBG] Creating DbConnection.
2024-05-04 17:43:37.338 +03:00 [DBG] Created DbConnection. (47ms).
2024-05-04 17:43:37.344 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 17:43:37.419 +03:00 [DBG] An error occurred using the connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 17:45:06.848 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-04 17:45:06.923 +03:00 [DBG] Hosting starting
2024-05-04 17:45:07.043 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-04 17:45:07.053 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 17:45:07.069 +03:00 [INF] Hosting environment: Development
2024-05-04 17:45:07.069 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-04 17:45:07.069 +03:00 [DBG] Hosting started
2024-05-04 17:45:07.108 +03:00 [DBG] Connection ID "18374686498462105647" disconnecting.
2024-05-04 17:45:07.135 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/index.html - null null
2024-05-04 17:45:07.135 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/index.html - null null
2024-05-04 17:45:07.142 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 17:45:07.142 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 17:45:07.162 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 17:45:07.162 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 17:45:07.162 +03:00 [DBG] Request did not match any endpoints
2024-05-04 17:45:07.162 +03:00 [DBG] Request did not match any endpoints
2024-05-04 17:45:07.311 +03:00 [DBG] Connection ID "18374686489872171047" disconnecting.
2024-05-04 17:45:07.312 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/index.html - 200 null text/html;charset=utf-8 184.4625ms
2024-05-04 17:45:07.312 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/index.html - 200 null text/html;charset=utf-8 184.5063ms
2024-05-04 17:45:07.599 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-04 17:45:07.599 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 17:45:07.599 +03:00 [DBG] Request did not match any endpoints
2024-05-04 17:45:07.706 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 106.8391ms
2024-05-04 17:45:07.709 +03:00 [DBG] Connection ID "18374686489872171049" disconnecting.
2024-05-04 17:45:10.643 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/api/v1/Report/1 - null null
2024-05-04 17:45:10.647 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report/1'
2024-05-04 17:45:10.650 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)' with route pattern 'api/v1/Report/{id}' is valid for the request path '/api/v1/Report/1'
2024-05-04 17:45:10.651 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 17:45:10.653 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 17:45:10.653 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 17:45:10.682 +03:00 [INF] Route matched with {action = "GetReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] GetReport(Int64) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-04 17:45:10.686 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-04 17:45:10.686 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 17:45:10.687 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-04 17:45:10.687 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 17:45:10.687 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-04 17:45:10.689 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 17:45:10.858 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-04 17:45:14.281 +03:00 [WRN] The foreign key property 'Report.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-05-04 17:45:14.449 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-04 17:45:14.461 +03:00 [DBG] Creating DbConnection.
2024-05-04 17:45:14.511 +03:00 [DBG] Created DbConnection. (47ms).
2024-05-04 17:45:14.517 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 17:45:14.594 +03:00 [DBG] An error occurred using the connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 17:45:14.610 +03:00 [WRN] The foreign key property 'Report.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-05-04 17:45:14.631 +03:00 [DBG] Creating DbConnection.
2024-05-04 17:45:14.632 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-04 17:45:14.632 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-04 17:45:14.703 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-04 17:45:14.712 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-04 17:45:14.719 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (4ms).
2024-05-04 17:45:14.721 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (9ms).
2024-05-04 17:45:14.728 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "Diary";
2024-05-04 17:45:14.984 +03:00 [INF] Executed DbCommand (257ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "Diary";
2024-05-04 17:45:14.988 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-04 17:45:14.996 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5438' (4ms).
2024-05-04 17:45:14.998 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-04 17:45:14.999 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5438' (0ms).
2024-05-04 17:45:15.000 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 17:45:15.062 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 17:45:15.062 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 17:45:15.062 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 17:45:15.151 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 17:45:15.178 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 17:45:15.184 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-04 17:45:15.188 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-04 17:45:15.190 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-04 17:45:15.190 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 17:45:15.190 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 17:45:15.190 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "User" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Login" character varying(100) NOT NULL,
    "Password" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone NOT NULL,
    "UpdatedBy" bigint NOT NULL,
    CONSTRAINT "PK_User" PRIMARY KEY ("Id")
);
2024-05-04 17:45:15.206 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "User" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Login" character varying(100) NOT NULL,
    "Password" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone NOT NULL,
    "UpdatedBy" bigint NOT NULL,
    CONSTRAINT "PK_User" PRIMARY KEY ("Id")
);
2024-05-04 17:45:15.206 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-04 17:45:15.206 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 17:45:15.206 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 17:45:15.206 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Report" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(100) NOT NULL,
    "Description" character varying(2000) NOT NULL,
    "UserId" bigint NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone NOT NULL,
    "UpdatedBy" bigint NOT NULL,
    "UserId1" bigint,
    CONSTRAINT "PK_Report" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Report_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Report_User_UserId1" FOREIGN KEY ("UserId1") REFERENCES "User" ("Id")
);
2024-05-04 17:45:15.216 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Report" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(100) NOT NULL,
    "Description" character varying(2000) NOT NULL,
    "UserId" bigint NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone NOT NULL,
    "UpdatedBy" bigint NOT NULL,
    "UserId1" bigint,
    CONSTRAINT "PK_Report" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Report_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Report_User_UserId1" FOREIGN KEY ("UserId1") REFERENCES "User" ("Id")
);
2024-05-04 17:45:15.217 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-04 17:45:15.217 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 17:45:15.217 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 17:45:15.217 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Report_UserId" ON "Report" ("UserId");
2024-05-04 17:45:15.221 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Report_UserId" ON "Report" ("UserId");
2024-05-04 17:45:15.222 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-04 17:45:15.222 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 17:45:15.222 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 17:45:15.222 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Report_UserId1" ON "Report" ("UserId1");
2024-05-04 17:45:15.226 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Report_UserId1" ON "Report" ("UserId1");
2024-05-04 17:45:15.228 +03:00 [DBG] Committing transaction.
2024-05-04 17:45:15.234 +03:00 [DBG] Committed transaction.
2024-05-04 17:45:15.236 +03:00 [DBG] Disposing transaction.
2024-05-04 17:45:15.236 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 17:45:15.238 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (1ms).
2024-05-04 17:46:25.480 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 17:46:25.487 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int64' ...
2024-05-04 17:46:25.489 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int64' using the name 'id' in request data ...
2024-05-04 17:46:25.490 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int64'.
2024-05-04 17:46:25.490 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int64'.
2024-05-04 17:46:25.490 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int64' ...
2024-05-04 17:46:25.492 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int64'.
2024-05-04 17:46:25.498 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.GetReport (Diary.Api) - Validation state: "Valid"
2024-05-04 17:46:33.222 +03:00 [DBG] Compiling query expression: 
'DbSet<Report>()'
2024-05-04 17:46:33.448 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Report>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Report.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Report.CreatedAt (DateTime) Required, 1], [Property: Report.CreatedBy (long) Required, 2], [Property: Report.Description (string) Required MaxLength(2000), 3], [Property: Report.Name (string) Required MaxLength(100), 4], [Property: Report.UpdatedAt (DateTime) Required, 5], [Property: Report.UpdatedBy (long) Required, 6], [Property: Report.UserId (long) Required FK Index, 7], [Property: Report.UserId1 (no field, long?) Shadow FK Index, 8] }
        SELECT r.Id, r.CreatedAt, r.CreatedBy, r.Description, r.Name, r.UpdatedAt, r.UpdatedBy, r.UserId, r.UserId1
        FROM Report AS r), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Report>, 
    Diary.DAL.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-05-04 17:46:33.475 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 17:46:33.476 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 17:46:33.476 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 17:46:33.476 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-04 17:46:33.476 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-04 17:46:33.477 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId", r."UserId1"
FROM "Report" AS r
2024-05-04 17:46:33.482 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId", r."UserId1"
FROM "Report" AS r
2024-05-04 17:46:33.487 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 17:46:33.490 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 6ms reading results.
2024-05-04 17:46:33.491 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 17:46:33.492 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 17:46:33.493 +03:00 [WRN]   1  
2024-05-04 17:47:42.574 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-04 17:47:42.653 +03:00 [DBG] Hosting starting
2024-05-04 17:47:42.784 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-04 17:47:42.793 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 17:47:42.803 +03:00 [INF] Hosting environment: Development
2024-05-04 17:47:42.804 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-04 17:47:42.804 +03:00 [DBG] Hosting started
2024-05-04 17:47:42.851 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/index.html - null null
2024-05-04 17:47:42.856 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 17:47:42.871 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 17:47:42.872 +03:00 [DBG] Request did not match any endpoints
2024-05-04 17:47:43.001 +03:00 [DBG] Connection ID "18374686515641974807" disconnecting.
2024-05-04 17:47:43.003 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/index.html - 200 null text/html;charset=utf-8 157.7162ms
2024-05-04 17:47:43.276 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-04 17:47:43.276 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 17:47:43.276 +03:00 [DBG] Request did not match any endpoints
2024-05-04 17:47:43.385 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 108.5332ms
2024-05-04 17:47:43.388 +03:00 [DBG] Connection ID "18374686519936942109" disconnecting.
2024-05-04 17:47:47.676 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/api/v1/Report/1 - null null
2024-05-04 17:47:47.680 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report/1'
2024-05-04 17:47:47.684 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)' with route pattern 'api/v1/Report/{id}' is valid for the request path '/api/v1/Report/1'
2024-05-04 17:47:47.685 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 17:47:47.687 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 17:47:47.688 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 17:47:47.719 +03:00 [INF] Route matched with {action = "GetReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] GetReport(Int64) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-04 17:47:47.723 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-04 17:47:47.723 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 17:47:47.724 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-04 17:47:47.724 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 17:47:47.724 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-04 17:47:47.726 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 17:47:47.892 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-04 17:48:02.789 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-04 17:48:02.880 +03:00 [DBG] Hosting starting
2024-05-04 17:48:03.003 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-04 17:48:03.013 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 17:48:03.015 +03:00 [INF] Hosting environment: Development
2024-05-04 17:48:03.023 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-04 17:48:03.023 +03:00 [DBG] Hosting started
2024-05-04 17:48:03.067 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/index.html - null null
2024-05-04 17:48:03.072 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 17:48:03.087 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 17:48:03.088 +03:00 [DBG] Request did not match any endpoints
2024-05-04 17:48:03.211 +03:00 [DBG] Connection ID "18374686511347007509" disconnecting.
2024-05-04 17:48:03.213 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/index.html - 200 null text/html;charset=utf-8 151.451ms
2024-05-04 17:48:03.556 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-04 17:48:03.556 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 17:48:03.556 +03:00 [DBG] Request did not match any endpoints
2024-05-04 17:48:03.667 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 111.6191ms
2024-05-04 17:48:03.671 +03:00 [DBG] Connection ID "18302628913014112264" disconnecting.
2024-05-04 17:48:07.586 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/api/v1/Report/1 - null null
2024-05-04 17:48:07.591 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report/1'
2024-05-04 17:48:07.595 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)' with route pattern 'api/v1/Report/{id}' is valid for the request path '/api/v1/Report/1'
2024-05-04 17:48:07.595 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 17:48:07.598 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 17:48:07.598 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 17:48:07.629 +03:00 [INF] Route matched with {action = "GetReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] GetReport(Int64) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-04 17:48:07.633 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-04 17:48:07.633 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 17:48:07.633 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-04 17:48:07.634 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 17:48:07.634 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-04 17:48:07.635 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 17:48:07.806 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-04 17:48:08.424 +03:00 [WRN] The foreign key property 'Report.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-05-04 17:48:08.600 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-04 17:48:08.615 +03:00 [DBG] Creating DbConnection.
2024-05-04 17:48:08.669 +03:00 [DBG] Created DbConnection. (52ms).
2024-05-04 17:48:08.675 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 17:48:08.796 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 17:48:08.803 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 17:48:08.815 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (8ms).
2024-05-04 17:48:08.824 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-04 17:48:08.831 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2024-05-04 17:48:08.832 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (9ms).
2024-05-04 17:48:08.833 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 17:48:08.857 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 17:48:08.867 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 17:48:08.983 +03:00 [INF] Executed DbCommand (118ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 17:48:08.985 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 17:48:08.988 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-04 17:48:09.097 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 17:48:09.101 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int64' ...
2024-05-04 17:48:09.103 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int64' using the name 'id' in request data ...
2024-05-04 17:48:09.104 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int64'.
2024-05-04 17:48:09.104 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int64'.
2024-05-04 17:48:09.104 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int64' ...
2024-05-04 17:48:09.106 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int64'.
2024-05-04 17:48:09.111 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.GetReport (Diary.Api) - Validation state: "Valid"
2024-05-04 17:48:09.144 +03:00 [DBG] Compiling query expression: 
'DbSet<Report>()'
2024-05-04 17:48:09.372 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Report>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Report.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Report.CreatedAt (DateTime) Required, 1], [Property: Report.CreatedBy (long) Required, 2], [Property: Report.Description (string) Required MaxLength(2000), 3], [Property: Report.Name (string) Required MaxLength(100), 4], [Property: Report.UpdatedAt (DateTime) Required, 5], [Property: Report.UpdatedBy (long) Required, 6], [Property: Report.UserId (long) Required FK Index, 7], [Property: Report.UserId1 (no field, long?) Shadow FK Index, 8] }
        SELECT r.Id, r.CreatedAt, r.CreatedBy, r.Description, r.Name, r.UpdatedAt, r.UpdatedBy, r.UserId, r.UserId1
        FROM Report AS r), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Report>, 
    Diary.DAL.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-05-04 17:48:09.395 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 17:48:09.396 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 17:48:09.396 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 17:48:09.396 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-04 17:48:09.396 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-04 17:48:09.397 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId", r."UserId1"
FROM "Report" AS r
2024-05-04 17:48:09.401 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId", r."UserId1"
FROM "Report" AS r
2024-05-04 17:48:09.405 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 17:48:09.407 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 3ms reading results.
2024-05-04 17:48:09.408 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 17:48:09.408 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 17:48:09.410 +03:00 [WRN]   1  
2024-05-04 17:48:09.417 +03:00 [INF] Executed action method Diary.Api.Controllers.ReportController.GetReport (Diary.Api), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 302.2251ms.
2024-05-04 17:48:09.427 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-04 17:48:09.429 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-04 17:48:09.430 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-04 17:48:09.431 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-04 17:48:09.431 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-04 17:48:09.431 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-04 17:48:09.432 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.ReportDto.ReportDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-04 17:48:09.453 +03:00 [INF] Executed action Diary.Api.Controllers.ReportController.GetReport (Diary.Api) in 1816.1621ms
2024-05-04 17:48:09.453 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 17:48:09.457 +03:00 [DBG] Connection ID "18374686498462105649" disconnecting.
2024-05-04 17:48:09.460 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-04 17:48:09.467 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 17:48:09.470 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (3ms).
2024-05-04 17:48:09.471 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/api/v1/Report/1 - 400 null application/json; charset=utf-8 1885.255ms
2024-05-04 17:55:24.076 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-04 17:55:24.161 +03:00 [DBG] Hosting starting
2024-05-04 17:55:24.324 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-04 17:55:24.325 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 17:55:24.336 +03:00 [INF] Hosting environment: Development
2024-05-04 17:55:24.336 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-04 17:55:24.336 +03:00 [DBG] Hosting started
2024-05-04 17:55:24.398 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/index.html - null null
2024-05-04 17:55:24.404 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 17:55:24.419 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 17:55:24.420 +03:00 [DBG] Request did not match any endpoints
2024-05-04 17:55:24.545 +03:00 [DBG] Connection ID "18374686498462105651" disconnecting.
2024-05-04 17:55:24.547 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/index.html - 200 null text/html;charset=utf-8 157.6221ms
2024-05-04 17:55:24.821 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-04 17:55:24.821 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 17:55:24.821 +03:00 [DBG] Request did not match any endpoints
2024-05-04 17:55:24.926 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 105.5427ms
2024-05-04 17:55:24.929 +03:00 [DBG] Connection ID "18374686498462105653" disconnecting.
2024-05-04 17:55:33.396 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/api/v1/Report/5 - null null
2024-05-04 17:55:33.401 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report/5'
2024-05-04 17:55:33.405 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)' with route pattern 'api/v1/Report/{id}' is valid for the request path '/api/v1/Report/5'
2024-05-04 17:55:33.406 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 17:55:33.408 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 17:55:33.409 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 17:55:33.437 +03:00 [INF] Route matched with {action = "GetReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] GetReport(Int64) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-04 17:55:33.440 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-04 17:55:33.440 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 17:55:33.441 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-04 17:55:33.441 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 17:55:33.441 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-04 17:55:33.443 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 17:55:33.611 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-04 17:55:34.225 +03:00 [WRN] The foreign key property 'Report.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-05-04 17:55:34.409 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-04 17:55:34.424 +03:00 [DBG] Creating DbConnection.
2024-05-04 17:55:34.486 +03:00 [DBG] Created DbConnection. (59ms).
2024-05-04 17:55:34.492 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 17:55:34.612 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 17:55:34.617 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 17:55:34.628 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (7ms).
2024-05-04 17:55:34.636 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-04 17:55:34.643 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2024-05-04 17:55:34.644 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (9ms).
2024-05-04 17:55:34.644 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 17:55:34.667 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 17:55:34.677 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 17:55:34.767 +03:00 [INF] Executed DbCommand (90ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 17:55:34.770 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 17:55:34.772 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-04 17:55:34.875 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 17:55:34.879 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int64' ...
2024-05-04 17:55:34.881 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int64' using the name 'id' in request data ...
2024-05-04 17:55:34.882 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int64'.
2024-05-04 17:55:34.882 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int64'.
2024-05-04 17:55:34.882 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int64' ...
2024-05-04 17:55:34.884 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int64'.
2024-05-04 17:55:34.890 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.GetReport (Diary.Api) - Validation state: "Valid"
2024-05-04 17:55:34.918 +03:00 [DBG] Compiling query expression: 
'DbSet<Report>()'
2024-05-04 17:55:35.102 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Report>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Report.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Report.CreatedAt (DateTime) Required, 1], [Property: Report.CreatedBy (long) Required, 2], [Property: Report.Description (string) Required MaxLength(2000), 3], [Property: Report.Name (string) Required MaxLength(100), 4], [Property: Report.UpdatedAt (DateTime?), 5], [Property: Report.UpdatedBy (long?), 6], [Property: Report.UserId (long) Required FK Index, 7], [Property: Report.UserId1 (no field, long?) Shadow FK Index, 8] }
        SELECT r.Id, r.CreatedAt, r.CreatedBy, r.Description, r.Name, r.UpdatedAt, r.UpdatedBy, r.UserId, r.UserId1
        FROM Report AS r), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Report>, 
    Diary.DAL.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-05-04 17:55:35.125 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 17:55:35.126 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 17:55:35.126 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 17:55:35.126 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-04 17:55:35.126 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-04 17:55:35.127 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId", r."UserId1"
FROM "Report" AS r
2024-05-04 17:55:35.131 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId", r."UserId1"
FROM "Report" AS r
2024-05-04 17:55:35.134 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 17:55:35.136 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 3ms reading results.
2024-05-04 17:55:35.137 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 17:55:35.137 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 17:55:35.138 +03:00 [WRN]   5  
2024-05-04 17:55:35.144 +03:00 [INF] Executed action method Diary.Api.Controllers.ReportController.GetReport (Diary.Api), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 251.006ms.
2024-05-04 17:55:35.148 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-04 17:55:35.150 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-04 17:55:35.151 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-04 17:55:35.151 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-04 17:55:35.152 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-04 17:55:35.152 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-04 17:55:35.152 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.ReportDto.ReportDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-04 17:55:35.172 +03:00 [INF] Executed action Diary.Api.Controllers.ReportController.GetReport (Diary.Api) in 1727.7382ms
2024-05-04 17:55:35.173 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 17:55:35.177 +03:00 [DBG] Connection ID "18374686489872171051" disconnecting.
2024-05-04 17:55:35.179 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-04 17:55:35.183 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 17:55:35.186 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-04 17:55:35.187 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/api/v1/Report/5 - 400 null application/json; charset=utf-8 1790.9406ms
2024-05-04 18:06:38.615 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-04 18:06:38.693 +03:00 [DBG] Hosting starting
2024-05-04 18:06:38.804 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-04 18:06:38.812 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 18:06:38.820 +03:00 [INF] Hosting environment: Development
2024-05-04 18:06:38.820 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-04 18:06:38.821 +03:00 [DBG] Hosting started
2024-05-04 18:06:38.863 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/index.html - null null
2024-05-04 18:06:38.868 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 18:06:38.882 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 18:06:38.882 +03:00 [DBG] Request did not match any endpoints
2024-05-04 18:06:39.001 +03:00 [DBG] Connection ID "18374686507052040230" disconnecting.
2024-05-04 18:06:39.002 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/index.html - 200 null text/html;charset=utf-8 144.9234ms
2024-05-04 18:06:39.259 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-04 18:06:39.259 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 18:06:39.259 +03:00 [DBG] Request did not match any endpoints
2024-05-04 18:06:39.373 +03:00 [DBG] Connection ID "18374686515641974809" disconnecting.
2024-05-04 18:06:39.373 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 114.3228ms
2024-05-04 18:15:06.335 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-04 18:15:06.416 +03:00 [DBG] Hosting starting
2024-05-04 18:15:06.529 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-04 18:15:06.538 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 18:15:06.539 +03:00 [INF] Hosting environment: Development
2024-05-04 18:15:06.539 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-04 18:15:06.539 +03:00 [DBG] Hosting started
2024-05-04 18:15:06.590 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/index.html - null null
2024-05-04 18:15:06.596 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 18:15:06.612 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 18:15:06.612 +03:00 [DBG] Request did not match any endpoints
2024-05-04 18:15:06.738 +03:00 [DBG] Connection ID "18374686528526876680" disconnecting.
2024-05-04 18:15:06.739 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/index.html - 200 null text/html;charset=utf-8 154.7592ms
2024-05-04 18:15:07.010 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-04 18:15:07.010 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 18:15:07.010 +03:00 [DBG] Request did not match any endpoints
2024-05-04 18:15:07.127 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 116.8253ms
2024-05-04 18:15:07.130 +03:00 [DBG] Connection ID "18302628891539275785" disconnecting.
2024-05-04 18:22:30.120 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-04 18:22:30.195 +03:00 [DBG] Hosting starting
2024-05-04 18:22:30.320 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-04 18:22:30.328 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 18:22:30.337 +03:00 [INF] Hosting environment: Development
2024-05-04 18:22:30.337 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-04 18:22:30.337 +03:00 [DBG] Hosting started
2024-05-04 18:22:30.387 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/index.html - null null
2024-05-04 18:22:30.395 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 18:22:30.414 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 18:22:30.414 +03:00 [DBG] Request did not match any endpoints
2024-05-04 18:22:30.549 +03:00 [DBG] Connection ID "18158513699168452609" disconnecting.
2024-05-04 18:22:30.551 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/index.html - 200 null text/html;charset=utf-8 172.6769ms
2024-05-04 18:22:30.815 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-04 18:22:30.815 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 18:22:30.815 +03:00 [DBG] Request did not match any endpoints
2024-05-04 18:22:30.916 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 100.6919ms
2024-05-04 18:22:30.918 +03:00 [DBG] Connection ID "18374686489872171053" disconnecting.
2024-05-04 18:22:50.800 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/api/v1/Report/1 - null null
2024-05-04 18:22:50.807 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report/1'
2024-05-04 18:22:50.812 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)' with route pattern 'api/v1/Report/{id}' is valid for the request path '/api/v1/Report/1'
2024-05-04 18:22:50.813 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 18:22:50.815 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 18:22:50.816 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 18:22:50.847 +03:00 [INF] Route matched with {action = "GetReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] GetReport(Int64) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-04 18:22:50.851 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-04 18:22:50.851 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 18:22:50.852 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-04 18:22:50.852 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 18:22:50.852 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-04 18:22:50.854 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 18:22:51.027 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-04 18:22:51.646 +03:00 [WRN] The foreign key property 'Report.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-05-04 18:22:51.816 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-04 18:22:51.829 +03:00 [DBG] Creating DbConnection.
2024-05-04 18:22:51.881 +03:00 [DBG] Created DbConnection. (49ms).
2024-05-04 18:22:51.887 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:22:52.003 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:22:52.008 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:22:52.019 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (7ms).
2024-05-04 18:22:52.027 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-04 18:22:52.033 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2024-05-04 18:22:52.035 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (9ms).
2024-05-04 18:22:52.035 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:22:52.058 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:22:52.067 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 18:22:52.164 +03:00 [INF] Executed DbCommand (98ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 18:22:52.167 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:22:52.170 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-04 18:22:52.282 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 18:22:52.286 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int64' ...
2024-05-04 18:22:52.288 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int64' using the name 'id' in request data ...
2024-05-04 18:22:52.289 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int64'.
2024-05-04 18:22:52.289 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int64'.
2024-05-04 18:22:52.290 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int64' ...
2024-05-04 18:22:52.291 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int64'.
2024-05-04 18:22:52.297 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.GetReport (Diary.Api) - Validation state: "Valid"
2024-05-04 18:22:52.325 +03:00 [DBG] Compiling query expression: 
'DbSet<Report>()'
2024-05-04 18:22:52.506 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Report>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Report.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Report.CreatedAt (DateTime) Required, 1], [Property: Report.CreatedBy (long) Required, 2], [Property: Report.Description (string) Required MaxLength(2000), 3], [Property: Report.Name (string) Required MaxLength(100), 4], [Property: Report.UpdatedAt (DateTime?), 5], [Property: Report.UpdatedBy (long?), 6], [Property: Report.UserId (long) Required FK Index, 7], [Property: Report.UserId1 (no field, long?) Shadow FK Index, 8] }
        SELECT r.Id, r.CreatedAt, r.CreatedBy, r.Description, r.Name, r.UpdatedAt, r.UpdatedBy, r.UserId, r.UserId1
        FROM Report AS r), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Report>, 
    Diary.DAL.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-05-04 18:22:52.527 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:22:52.527 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:22:52.528 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 18:22:52.528 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-04 18:22:52.528 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-04 18:22:52.528 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId", r."UserId1"
FROM "Report" AS r
2024-05-04 18:22:52.541 +03:00 [ERR] Failed executing DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId", r."UserId1"
FROM "Report" AS r
2024-05-04 18:22:52.541 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:22:52.541 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 18:22:52.561 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Diary.DAL.ApplicationDbContext'.
Npgsql.PostgresException (0x80004005): 42703: column r.UserId1 does not exist

POSITION: 115
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column r.UserId1 does not exist
    Hint: Perhaps you meant to reference the column "r.UserId".
    Position: 115
    File: parse_relation.c
    Line: 3720
    Routine: errorMissingColumn
Npgsql.PostgresException (0x80004005): 42703: column r.UserId1 does not exist

POSITION: 115
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column r.UserId1 does not exist
    Hint: Perhaps you meant to reference the column "r.UserId".
    Position: 115
    File: parse_relation.c
    Line: 3720
    Routine: errorMissingColumn
2024-05-04 18:22:52.630 +03:00 [ERR] 42703: column r.UserId1 does not exist

POSITION: 115
Npgsql.PostgresException (0x80004005): 42703: column r.UserId1 does not exist

POSITION: 115
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Func`2 predicate, Boolean& found)
   at System.Linq.Enumerable.FirstOrDefault[TSource](IEnumerable`1 source, Func`2 predicate)
   at Diary.Application.Services.ReportService.GetReportByIdAsync(Int64 id) in C:\Users\Eugeny\Desktop\Diary\Core\Diary.Application\Services\ReportService.cs:line 79
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column r.UserId1 does not exist
    Hint: Perhaps you meant to reference the column "r.UserId".
    Position: 115
    File: parse_relation.c
    Line: 3720
    Routine: errorMissingColumn
2024-05-04 18:22:52.641 +03:00 [INF] Executed action method Diary.Api.Controllers.ReportController.GetReport (Diary.Api), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 341.3364ms.
2024-05-04 18:22:52.645 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-04 18:22:52.648 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-04 18:22:52.649 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-04 18:22:52.649 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-04 18:22:52.649 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-04 18:22:52.649 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-04 18:22:52.650 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.ReportDto.ReportDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-04 18:22:52.668 +03:00 [INF] Executed action Diary.Api.Controllers.ReportController.GetReport (Diary.Api) in 1812.728ms
2024-05-04 18:22:52.668 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 18:22:52.672 +03:00 [DBG] Connection ID "18374686494167138318" disconnecting.
2024-05-04 18:22:52.673 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-04 18:22:52.677 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:22:52.680 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-04 18:22:52.680 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/api/v1/Report/1 - 400 null application/json; charset=utf-8 1880.9358ms
2024-05-04 18:23:34.209 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-04 18:23:34.296 +03:00 [DBG] Hosting starting
2024-05-04 18:23:34.413 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-04 18:23:34.425 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 18:23:34.426 +03:00 [INF] Hosting environment: Development
2024-05-04 18:23:34.426 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-04 18:23:34.427 +03:00 [DBG] Hosting started
2024-05-04 18:23:34.486 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/index.html - null null
2024-05-04 18:23:34.491 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 18:23:34.506 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 18:23:34.506 +03:00 [DBG] Request did not match any endpoints
2024-05-04 18:23:34.631 +03:00 [DBG] Connection ID "18374686498462105655" disconnecting.
2024-05-04 18:23:34.633 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/index.html - 200 null text/html;charset=utf-8 152.1158ms
2024-05-04 18:23:34.895 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-04 18:23:34.895 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 18:23:34.895 +03:00 [DBG] Request did not match any endpoints
2024-05-04 18:23:34.998 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 102.3994ms
2024-05-04 18:23:35.001 +03:00 [DBG] Connection ID "18374686507052040232" disconnecting.
2024-05-04 18:23:39.875 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/api/v1/Report/1 - null null
2024-05-04 18:23:39.879 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report/1'
2024-05-04 18:23:39.883 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)' with route pattern 'api/v1/Report/{id}' is valid for the request path '/api/v1/Report/1'
2024-05-04 18:23:39.884 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 18:23:39.886 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 18:23:39.887 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 18:23:39.917 +03:00 [INF] Route matched with {action = "GetReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] GetReport(Int64) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-04 18:23:39.921 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-04 18:23:39.921 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 18:23:39.922 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-04 18:23:39.922 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 18:23:39.922 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-04 18:23:39.924 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 18:23:40.094 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-04 18:23:40.710 +03:00 [WRN] The foreign key property 'Report.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-05-04 18:23:40.885 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-04 18:23:40.898 +03:00 [DBG] Creating DbConnection.
2024-05-04 18:23:40.948 +03:00 [DBG] Created DbConnection. (48ms).
2024-05-04 18:23:40.955 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:23:41.065 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:23:41.071 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:23:41.081 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (6ms).
2024-05-04 18:23:41.089 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-04 18:23:41.096 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2024-05-04 18:23:41.097 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (9ms).
2024-05-04 18:23:41.097 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:23:41.121 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:23:41.131 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 18:23:41.220 +03:00 [INF] Executed DbCommand (89ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 18:23:41.224 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:23:41.228 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (3ms).
2024-05-04 18:23:41.336 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 18:23:41.340 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int64' ...
2024-05-04 18:23:41.342 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int64' using the name 'id' in request data ...
2024-05-04 18:23:41.343 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int64'.
2024-05-04 18:23:41.343 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int64'.
2024-05-04 18:23:41.343 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int64' ...
2024-05-04 18:23:41.345 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int64'.
2024-05-04 18:23:41.351 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.GetReport (Diary.Api) - Validation state: "Valid"
2024-05-04 18:23:43.830 +03:00 [DBG] Compiling query expression: 
'DbSet<Report>()'
2024-05-04 18:23:44.003 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Report>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Report.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Report.CreatedAt (DateTime) Required, 1], [Property: Report.CreatedBy (long) Required, 2], [Property: Report.Description (string) Required MaxLength(2000), 3], [Property: Report.Name (string) Required MaxLength(100), 4], [Property: Report.UpdatedAt (DateTime?), 5], [Property: Report.UpdatedBy (long?), 6], [Property: Report.UserId (long) Required FK Index, 7], [Property: Report.UserId1 (no field, long?) Shadow FK Index, 8] }
        SELECT r.Id, r.CreatedAt, r.CreatedBy, r.Description, r.Name, r.UpdatedAt, r.UpdatedBy, r.UserId, r.UserId1
        FROM Report AS r), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Report>, 
    Diary.DAL.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-05-04 18:23:44.025 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:23:44.025 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:23:44.025 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 18:23:44.025 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-04 18:23:44.025 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-04 18:23:44.026 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId", r."UserId1"
FROM "Report" AS r
2024-05-04 18:23:44.037 +03:00 [ERR] Failed executing DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId", r."UserId1"
FROM "Report" AS r
2024-05-04 18:23:44.037 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:23:44.038 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 18:23:44.058 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Diary.DAL.ApplicationDbContext'.
Npgsql.PostgresException (0x80004005): 42703: column r.UserId1 does not exist

POSITION: 115
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column r.UserId1 does not exist
    Hint: Perhaps you meant to reference the column "r.UserId".
    Position: 115
    File: parse_relation.c
    Line: 3720
    Routine: errorMissingColumn
Npgsql.PostgresException (0x80004005): 42703: column r.UserId1 does not exist

POSITION: 115
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column r.UserId1 does not exist
    Hint: Perhaps you meant to reference the column "r.UserId".
    Position: 115
    File: parse_relation.c
    Line: 3720
    Routine: errorMissingColumn
2024-05-04 18:23:44.091 +03:00 [ERR] 42703: column r.UserId1 does not exist

POSITION: 115
Npgsql.PostgresException (0x80004005): 42703: column r.UserId1 does not exist

POSITION: 115
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Func`2 predicate, Boolean& found)
   at System.Linq.Enumerable.FirstOrDefault[TSource](IEnumerable`1 source, Func`2 predicate)
   at Diary.Application.Services.ReportService.GetReportByIdAsync(Int64 id) in C:\Users\Eugeny\Desktop\Diary\Core\Diary.Application\Services\ReportService.cs:line 79
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column r.UserId1 does not exist
    Hint: Perhaps you meant to reference the column "r.UserId".
    Position: 115
    File: parse_relation.c
    Line: 3720
    Routine: errorMissingColumn
2024-05-04 18:24:05.398 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-04 18:24:05.474 +03:00 [DBG] Hosting starting
2024-05-04 18:24:05.589 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-04 18:24:05.597 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 18:24:05.606 +03:00 [INF] Hosting environment: Development
2024-05-04 18:24:05.606 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-04 18:24:05.606 +03:00 [DBG] Hosting started
2024-05-04 18:24:05.652 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/index.html - null null
2024-05-04 18:24:05.657 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 18:24:05.672 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 18:24:05.672 +03:00 [DBG] Request did not match any endpoints
2024-05-04 18:24:05.792 +03:00 [DBG] Connection ID "18230571297501347860" disconnecting.
2024-05-04 18:24:05.793 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/index.html - 200 null text/html;charset=utf-8 147.116ms
2024-05-04 18:24:06.073 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-04 18:24:06.073 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 18:24:06.073 +03:00 [DBG] Request did not match any endpoints
2024-05-04 18:24:06.179 +03:00 [DBG] Connection ID "18374686515641974811" disconnecting.
2024-05-04 18:24:06.179 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 106.1949ms
2024-05-04 18:24:10.093 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/api/v1/Report/1 - null null
2024-05-04 18:24:10.097 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report/1'
2024-05-04 18:24:10.101 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)' with route pattern 'api/v1/Report/{id}' is valid for the request path '/api/v1/Report/1'
2024-05-04 18:24:10.102 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 18:24:10.104 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 18:24:10.105 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 18:24:10.133 +03:00 [INF] Route matched with {action = "GetReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] GetReport(Int64) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-04 18:24:10.137 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-04 18:24:10.137 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 18:24:10.138 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-04 18:24:10.138 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 18:24:10.138 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-04 18:24:10.140 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 18:24:10.341 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-04 18:24:10.993 +03:00 [WRN] The foreign key property 'Report.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-05-04 18:24:11.165 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-04 18:24:11.178 +03:00 [DBG] Creating DbConnection.
2024-05-04 18:24:11.229 +03:00 [DBG] Created DbConnection. (48ms).
2024-05-04 18:24:11.235 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:24:11.350 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:24:11.356 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:24:11.367 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (7ms).
2024-05-04 18:24:11.376 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-04 18:24:11.384 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (5ms).
2024-05-04 18:24:11.385 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (11ms).
2024-05-04 18:24:11.385 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:24:11.408 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:24:11.418 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 18:24:11.513 +03:00 [INF] Executed DbCommand (93ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 18:24:11.517 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:24:11.519 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-04 18:24:11.630 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 18:24:11.634 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int64' ...
2024-05-04 18:24:11.636 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int64' using the name 'id' in request data ...
2024-05-04 18:24:11.637 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int64'.
2024-05-04 18:24:11.637 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int64'.
2024-05-04 18:24:11.638 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int64' ...
2024-05-04 18:24:11.639 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int64'.
2024-05-04 18:24:11.646 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.GetReport (Diary.Api) - Validation state: "Valid"
2024-05-04 18:25:06.532 +03:00 [DBG] Compiling query expression: 
'DbSet<Report>()'
2024-05-04 18:25:06.704 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Report>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Report.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Report.CreatedAt (DateTime) Required, 1], [Property: Report.CreatedBy (long) Required, 2], [Property: Report.Description (string) Required MaxLength(2000), 3], [Property: Report.Name (string) Required MaxLength(100), 4], [Property: Report.UpdatedAt (DateTime?), 5], [Property: Report.UpdatedBy (long?), 6], [Property: Report.UserId (long) Required FK Index, 7], [Property: Report.UserId1 (no field, long?) Shadow FK Index, 8] }
        SELECT r.Id, r.CreatedAt, r.CreatedBy, r.Description, r.Name, r.UpdatedAt, r.UpdatedBy, r.UserId, r.UserId1
        FROM Report AS r), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Report>, 
    Diary.DAL.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-05-04 18:25:06.726 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:25:06.726 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:25:06.727 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 18:25:06.727 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-04 18:25:06.727 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-04 18:25:06.727 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId", r."UserId1"
FROM "Report" AS r
2024-05-04 18:25:06.739 +03:00 [ERR] Failed executing DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId", r."UserId1"
FROM "Report" AS r
2024-05-04 18:25:06.740 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:25:06.740 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 18:25:06.760 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Diary.DAL.ApplicationDbContext'.
Npgsql.PostgresException (0x80004005): 42703: column r.UserId1 does not exist

POSITION: 115
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column r.UserId1 does not exist
    Hint: Perhaps you meant to reference the column "r.UserId".
    Position: 115
    File: parse_relation.c
    Line: 3720
    Routine: errorMissingColumn
Npgsql.PostgresException (0x80004005): 42703: column r.UserId1 does not exist

POSITION: 115
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column r.UserId1 does not exist
    Hint: Perhaps you meant to reference the column "r.UserId".
    Position: 115
    File: parse_relation.c
    Line: 3720
    Routine: errorMissingColumn
2024-05-04 18:25:14.625 +03:00 [ERR] 42703: column r.UserId1 does not exist

POSITION: 115
Npgsql.PostgresException (0x80004005): 42703: column r.UserId1 does not exist

POSITION: 115
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Func`2 predicate, Boolean& found)
   at System.Linq.Enumerable.FirstOrDefault[TSource](IEnumerable`1 source, Func`2 predicate)
   at Diary.Application.Services.ReportService.GetReportByIdAsync(Int64 id) in C:\Users\Eugeny\Desktop\Diary\Core\Diary.Application\Services\ReportService.cs:line 79
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column r.UserId1 does not exist
    Hint: Perhaps you meant to reference the column "r.UserId".
    Position: 115
    File: parse_relation.c
    Line: 3720
    Routine: errorMissingColumn
2024-05-04 18:25:48.292 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-04 18:25:48.367 +03:00 [DBG] Hosting starting
2024-05-04 18:25:48.494 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-04 18:25:48.504 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 18:25:48.505 +03:00 [INF] Hosting environment: Development
2024-05-04 18:25:48.505 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-04 18:25:48.514 +03:00 [DBG] Hosting started
2024-05-04 18:25:48.560 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/index.html - null null
2024-05-04 18:25:48.565 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 18:25:48.580 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 18:25:48.580 +03:00 [DBG] Request did not match any endpoints
2024-05-04 18:25:48.702 +03:00 [DBG] Connection ID "18374686515641974813" disconnecting.
2024-05-04 18:25:48.704 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/index.html - 200 null text/html;charset=utf-8 148.9295ms
2024-05-04 18:25:48.970 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-04 18:25:48.970 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 18:25:48.970 +03:00 [DBG] Request did not match any endpoints
2024-05-04 18:25:49.070 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 99.162ms
2024-05-04 18:25:49.072 +03:00 [DBG] Connection ID "18374686489872171055" disconnecting.
2024-05-04 18:25:53.373 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/api/v1/Report/1 - null null
2024-05-04 18:25:53.378 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report/1'
2024-05-04 18:25:53.381 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)' with route pattern 'api/v1/Report/{id}' is valid for the request path '/api/v1/Report/1'
2024-05-04 18:25:53.382 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 18:25:53.384 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 18:25:53.385 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 18:25:53.413 +03:00 [INF] Route matched with {action = "GetReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] GetReport(Int64) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-04 18:25:53.416 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-04 18:25:53.417 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 18:25:53.417 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-04 18:25:53.417 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 18:25:53.417 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-04 18:25:53.419 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 18:25:53.585 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-04 18:25:54.206 +03:00 [WRN] The foreign key property 'Report.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-05-04 18:25:54.386 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-04 18:25:54.401 +03:00 [DBG] Creating DbConnection.
2024-05-04 18:25:54.455 +03:00 [DBG] Created DbConnection. (52ms).
2024-05-04 18:25:54.463 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:25:54.580 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:25:54.586 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:25:54.596 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (6ms).
2024-05-04 18:25:54.605 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-04 18:25:54.611 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2024-05-04 18:25:54.613 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (8ms).
2024-05-04 18:25:54.613 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:25:54.636 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:25:54.646 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 18:25:54.735 +03:00 [INF] Executed DbCommand (92ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 18:25:54.738 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:25:54.740 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-04 18:25:54.850 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 18:25:54.854 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int64' ...
2024-05-04 18:25:54.856 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int64' using the name 'id' in request data ...
2024-05-04 18:25:54.858 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int64'.
2024-05-04 18:25:54.858 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int64'.
2024-05-04 18:25:54.858 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int64' ...
2024-05-04 18:25:54.859 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int64'.
2024-05-04 18:25:54.865 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.GetReport (Diary.Api) - Validation state: "Valid"
2024-05-04 18:26:00.884 +03:00 [DBG] Compiling query expression: 
'DbSet<Report>()'
2024-05-04 18:26:01.058 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Report>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Report.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Report.CreatedAt (DateTime) Required, 1], [Property: Report.CreatedBy (long) Required, 2], [Property: Report.Description (string) Required MaxLength(2000), 3], [Property: Report.Name (string) Required MaxLength(100), 4], [Property: Report.UpdatedAt (DateTime?), 5], [Property: Report.UpdatedBy (long?), 6], [Property: Report.UserId (long) Required FK Index, 7], [Property: Report.UserId1 (no field, long?) Shadow FK Index, 8] }
        SELECT r.Id, r.CreatedAt, r.CreatedBy, r.Description, r.Name, r.UpdatedAt, r.UpdatedBy, r.UserId, r.UserId1
        FROM Report AS r), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Report>, 
    Diary.DAL.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-05-04 18:26:01.080 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:26:01.080 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:26:01.080 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 18:26:01.080 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-04 18:26:01.080 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-04 18:26:01.081 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId", r."UserId1"
FROM "Report" AS r
2024-05-04 18:26:01.093 +03:00 [ERR] Failed executing DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId", r."UserId1"
FROM "Report" AS r
2024-05-04 18:26:01.093 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:26:01.093 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 18:26:01.115 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Diary.DAL.ApplicationDbContext'.
Npgsql.PostgresException (0x80004005): 42703: column r.UserId1 does not exist

POSITION: 115
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column r.UserId1 does not exist
    Hint: Perhaps you meant to reference the column "r.UserId".
    Position: 115
    File: parse_relation.c
    Line: 3720
    Routine: errorMissingColumn
Npgsql.PostgresException (0x80004005): 42703: column r.UserId1 does not exist

POSITION: 115
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column r.UserId1 does not exist
    Hint: Perhaps you meant to reference the column "r.UserId".
    Position: 115
    File: parse_relation.c
    Line: 3720
    Routine: errorMissingColumn
2024-05-04 18:27:16.691 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-04 18:27:16.782 +03:00 [DBG] Hosting starting
2024-05-04 18:27:16.898 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-04 18:27:16.907 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 18:27:16.915 +03:00 [INF] Hosting environment: Development
2024-05-04 18:27:16.915 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-04 18:27:16.915 +03:00 [DBG] Hosting started
2024-05-04 18:27:16.961 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/index.html - null null
2024-05-04 18:27:16.966 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 18:27:16.981 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 18:27:16.981 +03:00 [DBG] Request did not match any endpoints
2024-05-04 18:27:17.112 +03:00 [DBG] Connection ID "18374686519936942112" disconnecting.
2024-05-04 18:27:17.113 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/index.html - 200 null text/html;charset=utf-8 157.713ms
2024-05-04 18:27:17.373 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-04 18:27:17.373 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 18:27:17.373 +03:00 [DBG] Request did not match any endpoints
2024-05-04 18:27:17.479 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 106.3854ms
2024-05-04 18:27:17.483 +03:00 [DBG] Connection ID "18374686524231909393" disconnecting.
2024-05-04 18:27:28.963 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/api/v1/Report/1 - null null
2024-05-04 18:27:28.967 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report/1'
2024-05-04 18:27:28.970 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)' with route pattern 'api/v1/Report/{id}' is valid for the request path '/api/v1/Report/1'
2024-05-04 18:27:28.971 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 18:27:28.973 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 18:27:28.974 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 18:27:29.003 +03:00 [INF] Route matched with {action = "GetReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] GetReport(Int64) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-04 18:27:29.007 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-04 18:27:29.007 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 18:27:29.007 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-04 18:27:29.008 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 18:27:29.008 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-04 18:27:29.010 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 18:27:29.185 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-04 18:27:29.793 +03:00 [WRN] The foreign key property 'Report.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-05-04 18:27:29.963 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-04 18:27:29.976 +03:00 [DBG] Creating DbConnection.
2024-05-04 18:27:30.040 +03:00 [DBG] Created DbConnection. (61ms).
2024-05-04 18:27:30.047 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:27:30.167 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:27:30.174 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:27:30.185 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (7ms).
2024-05-04 18:27:30.194 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-04 18:27:30.201 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2024-05-04 18:27:30.203 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (9ms).
2024-05-04 18:27:30.204 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:27:30.228 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:27:30.239 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 18:27:30.330 +03:00 [INF] Executed DbCommand (93ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 18:27:30.332 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:27:30.335 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-04 18:27:30.442 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 18:27:30.446 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int64' ...
2024-05-04 18:27:30.448 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int64' using the name 'id' in request data ...
2024-05-04 18:27:30.449 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int64'.
2024-05-04 18:27:30.449 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int64'.
2024-05-04 18:27:30.450 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int64' ...
2024-05-04 18:27:30.452 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int64'.
2024-05-04 18:27:30.458 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.GetReport (Diary.Api) - Validation state: "Valid"
2024-05-04 18:28:39.361 +03:00 [DBG] Compiling query expression: 
'DbSet<Report>()'
2024-05-04 18:28:39.532 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Report>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Report.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Report.CreatedAt (DateTime) Required, 1], [Property: Report.CreatedBy (long) Required, 2], [Property: Report.Description (string) Required MaxLength(2000), 3], [Property: Report.Name (string) Required MaxLength(100), 4], [Property: Report.UpdatedAt (DateTime?), 5], [Property: Report.UpdatedBy (long?), 6], [Property: Report.UserId (long) Required FK Index, 7], [Property: Report.UserId1 (no field, long?) Shadow FK Index, 8] }
        SELECT r.Id, r.CreatedAt, r.CreatedBy, r.Description, r.Name, r.UpdatedAt, r.UpdatedBy, r.UserId, r.UserId1
        FROM Report AS r), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Report>, 
    Diary.DAL.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-05-04 18:28:39.555 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:28:39.556 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:28:39.556 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 18:28:39.556 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-04 18:28:39.556 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-04 18:28:39.557 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId", r."UserId1"
FROM "Report" AS r
2024-05-04 18:28:39.569 +03:00 [ERR] Failed executing DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId", r."UserId1"
FROM "Report" AS r
2024-05-04 18:28:39.569 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:28:39.569 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 18:28:39.589 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Diary.DAL.ApplicationDbContext'.
Npgsql.PostgresException (0x80004005): 42703: column r.UserId1 does not exist

POSITION: 115
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column r.UserId1 does not exist
    Hint: Perhaps you meant to reference the column "r.UserId".
    Position: 115
    File: parse_relation.c
    Line: 3720
    Routine: errorMissingColumn
Npgsql.PostgresException (0x80004005): 42703: column r.UserId1 does not exist

POSITION: 115
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column r.UserId1 does not exist
    Hint: Perhaps you meant to reference the column "r.UserId".
    Position: 115
    File: parse_relation.c
    Line: 3720
    Routine: errorMissingColumn
2024-05-04 18:29:32.681 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-04 18:29:32.762 +03:00 [DBG] Hosting starting
2024-05-04 18:29:32.878 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-04 18:29:32.886 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 18:29:32.887 +03:00 [INF] Hosting environment: Development
2024-05-04 18:29:32.887 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-04 18:29:32.887 +03:00 [DBG] Hosting started
2024-05-04 18:29:32.942 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/index.html - null null
2024-05-04 18:29:32.947 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 18:29:32.962 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 18:29:32.962 +03:00 [DBG] Request did not match any endpoints
2024-05-04 18:29:33.082 +03:00 [DBG] Connection ID "18302628908719144965" disconnecting.
2024-05-04 18:29:33.083 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/index.html - 200 null text/html;charset=utf-8 146.8805ms
2024-05-04 18:29:33.394 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-04 18:29:33.394 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 18:29:33.394 +03:00 [DBG] Request did not match any endpoints
2024-05-04 18:29:33.493 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 98.8844ms
2024-05-04 18:29:33.496 +03:00 [DBG] Connection ID "18230571301796315143" disconnecting.
2024-05-04 18:29:41.635 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/api/v1/Report/1 - null null
2024-05-04 18:29:41.639 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report/1'
2024-05-04 18:29:41.644 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)' with route pattern 'api/v1/Report/{id}' is valid for the request path '/api/v1/Report/1'
2024-05-04 18:29:41.644 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 18:29:41.647 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 18:29:41.647 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 18:29:41.675 +03:00 [INF] Route matched with {action = "GetReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] GetReport(Int64) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-04 18:29:41.679 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-04 18:29:41.679 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 18:29:41.680 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-04 18:29:41.680 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 18:29:41.680 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-04 18:29:41.682 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 18:29:41.849 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-04 18:29:42.522 +03:00 [WRN] The foreign key property 'Report.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-05-04 18:29:42.694 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-04 18:29:42.707 +03:00 [DBG] Creating DbConnection.
2024-05-04 18:29:42.764 +03:00 [DBG] Created DbConnection. (55ms).
2024-05-04 18:29:42.771 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:29:42.885 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:29:42.891 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:29:42.901 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (6ms).
2024-05-04 18:29:42.908 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-04 18:29:42.915 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2024-05-04 18:29:42.917 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (9ms).
2024-05-04 18:29:42.917 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:29:42.941 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:29:42.952 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 18:29:43.041 +03:00 [INF] Executed DbCommand (93ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 18:29:43.044 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:29:43.046 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-04 18:29:43.151 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 18:29:43.155 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int64' ...
2024-05-04 18:29:43.157 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int64' using the name 'id' in request data ...
2024-05-04 18:29:43.158 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int64'.
2024-05-04 18:29:43.158 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int64'.
2024-05-04 18:29:43.158 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int64' ...
2024-05-04 18:29:43.160 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int64'.
2024-05-04 18:29:43.165 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.GetReport (Diary.Api) - Validation state: "Valid"
2024-05-04 18:29:48.515 +03:00 [DBG] Compiling query expression: 
'DbSet<Report>()'
2024-05-04 18:29:48.686 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Report>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Report.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Report.CreatedAt (DateTime) Required, 1], [Property: Report.CreatedBy (long) Required, 2], [Property: Report.Description (string) Required MaxLength(2000), 3], [Property: Report.Name (string) Required MaxLength(100), 4], [Property: Report.UpdatedAt (DateTime?), 5], [Property: Report.UpdatedBy (long?), 6], [Property: Report.UserId (long) Required FK Index, 7], [Property: Report.UserId1 (no field, long?) Shadow FK Index, 8] }
        SELECT r.Id, r.CreatedAt, r.CreatedBy, r.Description, r.Name, r.UpdatedAt, r.UpdatedBy, r.UserId, r.UserId1
        FROM Report AS r), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Report>, 
    Diary.DAL.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-05-04 18:29:48.709 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:29:48.709 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:29:48.709 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 18:29:48.710 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-04 18:29:48.710 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-04 18:29:48.710 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId", r."UserId1"
FROM "Report" AS r
2024-05-04 18:29:48.722 +03:00 [ERR] Failed executing DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId", r."UserId1"
FROM "Report" AS r
2024-05-04 18:29:48.722 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:29:48.722 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 18:29:48.742 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Diary.DAL.ApplicationDbContext'.
Npgsql.PostgresException (0x80004005): 42703: column r.UserId1 does not exist

POSITION: 115
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column r.UserId1 does not exist
    Hint: Perhaps you meant to reference the column "r.UserId".
    Position: 115
    File: parse_relation.c
    Line: 3720
    Routine: errorMissingColumn
Npgsql.PostgresException (0x80004005): 42703: column r.UserId1 does not exist

POSITION: 115
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column r.UserId1 does not exist
    Hint: Perhaps you meant to reference the column "r.UserId".
    Position: 115
    File: parse_relation.c
    Line: 3720
    Routine: errorMissingColumn
2024-05-04 18:29:48.774 +03:00 [ERR] 42703: column r.UserId1 does not exist

POSITION: 115
Npgsql.PostgresException (0x80004005): 42703: column r.UserId1 does not exist

POSITION: 115
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Func`2 predicate, Boolean& found)
   at System.Linq.Enumerable.FirstOrDefault[TSource](IEnumerable`1 source, Func`2 predicate)
   at Diary.Application.Services.ReportService.GetReportByIdAsync(Int64 id) in C:\Users\Eugeny\Desktop\Diary\Core\Diary.Application\Services\ReportService.cs:line 79
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column r.UserId1 does not exist
    Hint: Perhaps you meant to reference the column "r.UserId".
    Position: 115
    File: parse_relation.c
    Line: 3720
    Routine: errorMissingColumn
2024-05-04 18:30:01.184 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-04 18:30:01.264 +03:00 [DBG] Hosting starting
2024-05-04 18:30:01.380 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-04 18:30:01.382 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 18:30:01.390 +03:00 [INF] Hosting environment: Development
2024-05-04 18:30:01.397 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-04 18:30:01.398 +03:00 [DBG] Hosting started
2024-05-04 18:30:01.444 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/index.html - null null
2024-05-04 18:30:01.449 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 18:30:01.464 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 18:30:01.464 +03:00 [DBG] Request did not match any endpoints
2024-05-04 18:30:01.591 +03:00 [DBG] Connection ID "18374686507052040234" disconnecting.
2024-05-04 18:30:01.593 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/index.html - 200 null text/html;charset=utf-8 154.5947ms
2024-05-04 18:30:01.861 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-04 18:30:01.861 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 18:30:01.861 +03:00 [DBG] Request did not match any endpoints
2024-05-04 18:30:01.967 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 106.416ms
2024-05-04 18:30:01.970 +03:00 [DBG] Connection ID "18374686494167138322" disconnecting.
2024-05-04 18:30:05.321 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/api/v1/Report/1 - null null
2024-05-04 18:30:05.325 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report/1'
2024-05-04 18:30:05.329 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)' with route pattern 'api/v1/Report/{id}' is valid for the request path '/api/v1/Report/1'
2024-05-04 18:30:05.329 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 18:30:05.332 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 18:30:05.332 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 18:30:05.361 +03:00 [INF] Route matched with {action = "GetReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] GetReport(Int64) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-04 18:30:05.364 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-04 18:30:05.365 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 18:30:05.366 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-04 18:30:05.366 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 18:30:05.366 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-04 18:30:05.368 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 18:30:05.541 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-04 18:30:06.154 +03:00 [WRN] The foreign key property 'Report.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-05-04 18:30:06.332 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-04 18:30:06.345 +03:00 [DBG] Creating DbConnection.
2024-05-04 18:30:06.402 +03:00 [DBG] Created DbConnection. (55ms).
2024-05-04 18:30:06.410 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:30:06.530 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:30:06.536 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:30:06.547 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (7ms).
2024-05-04 18:30:06.555 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-04 18:30:06.562 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2024-05-04 18:30:06.564 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (9ms).
2024-05-04 18:30:06.564 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:30:06.587 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:30:06.597 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 18:30:06.690 +03:00 [INF] Executed DbCommand (94ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 18:30:06.692 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:30:06.695 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-04 18:30:06.801 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 18:30:06.805 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int64' ...
2024-05-04 18:30:06.807 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int64' using the name 'id' in request data ...
2024-05-04 18:30:06.808 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int64'.
2024-05-04 18:30:06.808 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int64'.
2024-05-04 18:30:06.808 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int64' ...
2024-05-04 18:30:06.810 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int64'.
2024-05-04 18:30:06.816 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.GetReport (Diary.Api) - Validation state: "Valid"
2024-05-04 18:30:19.703 +03:00 [DBG] Compiling query expression: 
'DbSet<Report>()'
2024-05-04 18:30:19.880 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Report>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Report.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Report.CreatedAt (DateTime) Required, 1], [Property: Report.CreatedBy (long) Required, 2], [Property: Report.Description (string) Required MaxLength(2000), 3], [Property: Report.Name (string) Required MaxLength(100), 4], [Property: Report.UpdatedAt (DateTime?), 5], [Property: Report.UpdatedBy (long?), 6], [Property: Report.UserId (long) Required FK Index, 7], [Property: Report.UserId1 (no field, long?) Shadow FK Index, 8] }
        SELECT r.Id, r.CreatedAt, r.CreatedBy, r.Description, r.Name, r.UpdatedAt, r.UpdatedBy, r.UserId, r.UserId1
        FROM Report AS r), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Report>, 
    Diary.DAL.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-05-04 18:30:19.902 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:30:19.902 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:30:19.903 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 18:30:19.903 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-04 18:30:19.903 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-04 18:30:19.903 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId", r."UserId1"
FROM "Report" AS r
2024-05-04 18:30:19.915 +03:00 [ERR] Failed executing DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId", r."UserId1"
FROM "Report" AS r
2024-05-04 18:30:19.915 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:30:19.915 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 18:30:19.935 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Diary.DAL.ApplicationDbContext'.
Npgsql.PostgresException (0x80004005): 42703: column r.UserId1 does not exist

POSITION: 115
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column r.UserId1 does not exist
    Hint: Perhaps you meant to reference the column "r.UserId".
    Position: 115
    File: parse_relation.c
    Line: 3720
    Routine: errorMissingColumn
Npgsql.PostgresException (0x80004005): 42703: column r.UserId1 does not exist

POSITION: 115
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column r.UserId1 does not exist
    Hint: Perhaps you meant to reference the column "r.UserId".
    Position: 115
    File: parse_relation.c
    Line: 3720
    Routine: errorMissingColumn
2024-05-04 18:31:19.898 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-04 18:31:19.969 +03:00 [DBG] Hosting starting
2024-05-04 18:31:20.076 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-04 18:31:20.085 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 18:31:20.093 +03:00 [INF] Hosting environment: Development
2024-05-04 18:31:20.093 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-04 18:31:20.093 +03:00 [DBG] Hosting started
2024-05-04 18:31:20.133 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/index.html - null null
2024-05-04 18:31:20.138 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 18:31:20.152 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 18:31:20.153 +03:00 [DBG] Request did not match any endpoints
2024-05-04 18:31:20.285 +03:00 [DBG] Connection ID "18374686498462105659" disconnecting.
2024-05-04 18:31:20.286 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/index.html - 200 null text/html;charset=utf-8 158.6897ms
2024-05-04 18:31:20.551 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-04 18:31:20.552 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 18:31:20.552 +03:00 [DBG] Request did not match any endpoints
2024-05-04 18:31:20.660 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 108.1018ms
2024-05-04 18:31:20.662 +03:00 [DBG] Connection ID "18374686515641974816" disconnecting.
2024-05-04 18:31:29.231 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/api/v1/Report/1 - null null
2024-05-04 18:31:29.237 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report/1'
2024-05-04 18:31:29.242 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)' with route pattern 'api/v1/Report/{id}' is valid for the request path '/api/v1/Report/1'
2024-05-04 18:31:29.242 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 18:31:29.245 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 18:31:29.246 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 18:31:29.276 +03:00 [INF] Route matched with {action = "GetReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] GetReport(Int64) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-04 18:31:29.280 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-04 18:31:29.280 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 18:31:29.281 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-04 18:31:29.281 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 18:31:29.281 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-04 18:31:29.283 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 18:31:29.457 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-04 18:31:30.102 +03:00 [WRN] The foreign key property 'Report.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-05-04 18:31:30.279 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-04 18:31:30.292 +03:00 [DBG] Creating DbConnection.
2024-05-04 18:31:30.350 +03:00 [DBG] Created DbConnection. (55ms).
2024-05-04 18:31:30.356 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:31:30.464 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:31:30.470 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:31:30.480 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (5ms).
2024-05-04 18:31:30.487 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-04 18:31:30.494 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2024-05-04 18:31:30.495 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (8ms).
2024-05-04 18:31:30.495 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:31:30.518 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:31:30.528 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 18:31:30.612 +03:00 [INF] Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 18:31:30.615 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:31:30.617 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-04 18:31:30.716 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 18:31:30.720 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int64' ...
2024-05-04 18:31:30.722 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int64' using the name 'id' in request data ...
2024-05-04 18:31:30.722 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int64'.
2024-05-04 18:31:30.722 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int64'.
2024-05-04 18:31:30.723 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int64' ...
2024-05-04 18:31:30.724 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int64'.
2024-05-04 18:31:30.729 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.GetReport (Diary.Api) - Validation state: "Valid"
2024-05-04 18:32:02.203 +03:00 [DBG] Compiling query expression: 
'DbSet<Report>()'
2024-05-04 18:32:02.375 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Report>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Report.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Report.CreatedAt (DateTime) Required, 1], [Property: Report.CreatedBy (long) Required, 2], [Property: Report.Description (string) Required MaxLength(2000), 3], [Property: Report.Name (string) Required MaxLength(100), 4], [Property: Report.UpdatedAt (DateTime?), 5], [Property: Report.UpdatedBy (long?), 6], [Property: Report.UserId (long) Required FK Index, 7], [Property: Report.UserId1 (no field, long?) Shadow FK Index, 8] }
        SELECT r.Id, r.CreatedAt, r.CreatedBy, r.Description, r.Name, r.UpdatedAt, r.UpdatedBy, r.UserId, r.UserId1
        FROM Report AS r), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Report>, 
    Diary.DAL.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-05-04 18:32:02.395 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:32:02.396 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:32:02.396 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 18:32:02.396 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-04 18:32:02.396 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-04 18:32:02.397 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId", r."UserId1"
FROM "Report" AS r
2024-05-04 18:32:02.409 +03:00 [ERR] Failed executing DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId", r."UserId1"
FROM "Report" AS r
2024-05-04 18:32:02.409 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:32:02.409 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 18:32:02.429 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Diary.DAL.ApplicationDbContext'.
Npgsql.PostgresException (0x80004005): 42703: column r.UserId1 does not exist

POSITION: 115
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column r.UserId1 does not exist
    Hint: Perhaps you meant to reference the column "r.UserId".
    Position: 115
    File: parse_relation.c
    Line: 3720
    Routine: errorMissingColumn
Npgsql.PostgresException (0x80004005): 42703: column r.UserId1 does not exist

POSITION: 115
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column r.UserId1 does not exist
    Hint: Perhaps you meant to reference the column "r.UserId".
    Position: 115
    File: parse_relation.c
    Line: 3720
    Routine: errorMissingColumn
2024-05-04 18:32:05.907 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:32:05.907 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:32:05.907 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 18:32:05.907 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-04 18:32:05.907 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-04 18:32:05.907 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId", r."UserId1"
FROM "Report" AS r
2024-05-04 18:32:05.910 +03:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId", r."UserId1"
FROM "Report" AS r
2024-05-04 18:32:05.910 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:32:05.910 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 18:32:05.912 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Diary.DAL.ApplicationDbContext'.
Npgsql.PostgresException (0x80004005): 42703: column r.UserId1 does not exist

POSITION: 115
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column r.UserId1 does not exist
    Hint: Perhaps you meant to reference the column "r.UserId".
    Position: 115
    File: parse_relation.c
    Line: 3720
    Routine: errorMissingColumn
Npgsql.PostgresException (0x80004005): 42703: column r.UserId1 does not exist

POSITION: 115
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column r.UserId1 does not exist
    Hint: Perhaps you meant to reference the column "r.UserId".
    Position: 115
    File: parse_relation.c
    Line: 3720
    Routine: errorMissingColumn
2024-05-04 18:34:12.988 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-04 18:34:13.067 +03:00 [DBG] Hosting starting
2024-05-04 18:34:13.187 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-04 18:34:13.198 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 18:34:13.202 +03:00 [INF] Hosting environment: Development
2024-05-04 18:34:13.207 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-04 18:34:13.207 +03:00 [DBG] Hosting started
2024-05-04 18:34:13.256 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/index.html - null null
2024-05-04 18:34:13.262 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 18:34:13.276 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 18:34:13.277 +03:00 [DBG] Request did not match any endpoints
2024-05-04 18:34:13.416 +03:00 [DBG] Connection ID "18230571293206380551" disconnecting.
2024-05-04 18:34:13.417 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/index.html - 200 null text/html;charset=utf-8 167.1954ms
2024-05-04 18:34:13.740 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-04 18:34:13.740 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 18:34:13.740 +03:00 [DBG] Request did not match any endpoints
2024-05-04 18:34:13.850 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 109.3952ms
2024-05-04 18:34:13.853 +03:00 [DBG] Connection ID "18374686515641974820" disconnecting.
2024-05-04 18:34:19.174 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/api/v1/Report/1 - null null
2024-05-04 18:34:19.178 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report/1'
2024-05-04 18:34:19.182 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)' with route pattern 'api/v1/Report/{id}' is valid for the request path '/api/v1/Report/1'
2024-05-04 18:34:19.183 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 18:34:19.185 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 18:34:19.186 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 18:34:19.214 +03:00 [INF] Route matched with {action = "GetReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] GetReport(Int64) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-04 18:34:19.218 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-04 18:34:19.218 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 18:34:19.219 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-04 18:34:19.219 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 18:34:19.219 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-04 18:34:19.221 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 18:34:19.388 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-04 18:34:20.007 +03:00 [WRN] The foreign key property 'Report.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-05-04 18:34:20.181 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-04 18:34:20.194 +03:00 [DBG] Creating DbConnection.
2024-05-04 18:34:20.246 +03:00 [DBG] Created DbConnection. (49ms).
2024-05-04 18:34:20.254 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:34:20.335 +03:00 [DBG] An error occurred using the connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:34:20.351 +03:00 [WRN] The foreign key property 'Report.UserId1' was created in shadow state because a conflicting property with the simple name 'UserId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-05-04 18:34:20.367 +03:00 [DBG] Creating DbConnection.
2024-05-04 18:34:20.368 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-04 18:34:20.368 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-04 18:34:20.435 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-04 18:34:20.443 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-04 18:34:20.450 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (4ms).
2024-05-04 18:34:20.451 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (9ms).
2024-05-04 18:34:20.458 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "Diary";
2024-05-04 18:34:20.690 +03:00 [INF] Executed DbCommand (231ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "Diary";
2024-05-04 18:34:20.693 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-04 18:34:20.701 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5438' (4ms).
2024-05-04 18:34:20.703 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-04 18:34:20.704 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5438' (0ms).
2024-05-04 18:34:20.704 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:34:20.725 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:34:20.725 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:34:20.725 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 18:34:20.809 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:34:20.844 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:34:20.849 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-04 18:34:20.854 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-04 18:34:20.855 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-04 18:34:20.855 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 18:34:20.856 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 18:34:20.856 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "User" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Login" character varying(100) NOT NULL,
    "Password" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_User" PRIMARY KEY ("Id")
);
2024-05-04 18:34:20.868 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "User" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Login" character varying(100) NOT NULL,
    "Password" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_User" PRIMARY KEY ("Id")
);
2024-05-04 18:34:20.868 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-04 18:34:20.868 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 18:34:20.868 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 18:34:20.868 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Report" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(100) NOT NULL,
    "Description" character varying(2000) NOT NULL,
    "UserId" bigint NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    "UserId1" bigint,
    CONSTRAINT "PK_Report" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Report_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Report_User_UserId1" FOREIGN KEY ("UserId1") REFERENCES "User" ("Id")
);
2024-05-04 18:34:20.879 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Report" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(100) NOT NULL,
    "Description" character varying(2000) NOT NULL,
    "UserId" bigint NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    "UserId1" bigint,
    CONSTRAINT "PK_Report" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Report_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Report_User_UserId1" FOREIGN KEY ("UserId1") REFERENCES "User" ("Id")
);
2024-05-04 18:34:20.879 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-04 18:34:20.879 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 18:34:20.879 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 18:34:20.879 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Report_UserId" ON "Report" ("UserId");
2024-05-04 18:34:20.884 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Report_UserId" ON "Report" ("UserId");
2024-05-04 18:34:20.884 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-04 18:34:20.884 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 18:34:20.884 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 18:34:20.884 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Report_UserId1" ON "Report" ("UserId1");
2024-05-04 18:34:20.889 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Report_UserId1" ON "Report" ("UserId1");
2024-05-04 18:34:20.890 +03:00 [DBG] Committing transaction.
2024-05-04 18:34:20.896 +03:00 [DBG] Committed transaction.
2024-05-04 18:34:20.898 +03:00 [DBG] Disposing transaction.
2024-05-04 18:34:20.898 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:34:20.900 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (1ms).
2024-05-04 18:34:20.999 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 18:34:21.003 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int64' ...
2024-05-04 18:34:21.005 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int64' using the name 'id' in request data ...
2024-05-04 18:34:21.007 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int64'.
2024-05-04 18:34:21.007 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int64'.
2024-05-04 18:34:21.007 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int64' ...
2024-05-04 18:34:21.009 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int64'.
2024-05-04 18:34:21.015 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.GetReport (Diary.Api) - Validation state: "Valid"
2024-05-04 18:36:22.192 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-04 18:36:22.270 +03:00 [DBG] Hosting starting
2024-05-04 18:36:22.385 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-04 18:36:22.386 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 18:36:22.399 +03:00 [INF] Hosting environment: Development
2024-05-04 18:36:22.403 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-04 18:36:22.403 +03:00 [DBG] Hosting started
2024-05-04 18:36:22.450 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/index.html - null null
2024-05-04 18:36:22.455 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 18:36:22.469 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 18:36:22.469 +03:00 [DBG] Request did not match any endpoints
2024-05-04 18:36:22.591 +03:00 [DBG] Connection ID "18374686498462105661" disconnecting.
2024-05-04 18:36:22.592 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/index.html - 200 null text/html;charset=utf-8 147.8226ms
2024-05-04 18:36:22.857 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-04 18:36:22.857 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 18:36:22.857 +03:00 [DBG] Request did not match any endpoints
2024-05-04 18:36:22.960 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 101.9636ms
2024-05-04 18:36:22.962 +03:00 [DBG] Connection ID "18374686507052040238" disconnecting.
2024-05-04 18:36:27.104 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/api/v1/Report/1 - null null
2024-05-04 18:36:27.108 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report/1'
2024-05-04 18:36:27.111 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)' with route pattern 'api/v1/Report/{id}' is valid for the request path '/api/v1/Report/1'
2024-05-04 18:36:27.112 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 18:36:27.114 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 18:36:27.115 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 18:36:27.143 +03:00 [INF] Route matched with {action = "GetReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] GetReport(Int64) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-04 18:36:27.147 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-04 18:36:27.147 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 18:36:27.148 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-04 18:36:27.148 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 18:36:27.148 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-04 18:36:27.150 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 18:36:27.330 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-04 18:36:28.103 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-04 18:36:28.116 +03:00 [DBG] Creating DbConnection.
2024-05-04 18:36:28.166 +03:00 [DBG] Created DbConnection. (48ms).
2024-05-04 18:36:28.172 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:36:28.258 +03:00 [DBG] An error occurred using the connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:36:28.288 +03:00 [DBG] Creating DbConnection.
2024-05-04 18:36:28.288 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-04 18:36:28.288 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-04 18:36:28.347 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-04 18:36:28.355 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-04 18:36:28.362 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (4ms).
2024-05-04 18:36:28.364 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (9ms).
2024-05-04 18:36:28.371 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "Diary";
2024-05-04 18:36:28.452 +03:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "Diary";
2024-05-04 18:36:28.456 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-04 18:36:28.463 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5438' (4ms).
2024-05-04 18:36:28.466 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-04 18:36:28.467 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5438' (0ms).
2024-05-04 18:36:28.467 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:36:28.486 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:36:28.486 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:36:28.487 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 18:36:28.572 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:36:28.596 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:36:28.601 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-04 18:36:28.606 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-04 18:36:28.607 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-04 18:36:28.607 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 18:36:28.608 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 18:36:28.608 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "User" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Login" character varying(100) NOT NULL,
    "Password" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_User" PRIMARY KEY ("Id")
);
2024-05-04 18:36:28.618 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "User" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Login" character varying(100) NOT NULL,
    "Password" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_User" PRIMARY KEY ("Id")
);
2024-05-04 18:36:28.618 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-04 18:36:28.618 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 18:36:28.618 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 18:36:28.618 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Report" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(100) NOT NULL,
    "Description" character varying(2000) NOT NULL,
    "UserId" bigint NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_Report" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Report_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-04 18:36:28.628 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Report" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(100) NOT NULL,
    "Description" character varying(2000) NOT NULL,
    "UserId" bigint NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_Report" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Report_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-04 18:36:28.628 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-04 18:36:28.628 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 18:36:28.629 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 18:36:28.629 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Report_UserId" ON "Report" ("UserId");
2024-05-04 18:36:28.634 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Report_UserId" ON "Report" ("UserId");
2024-05-04 18:36:28.637 +03:00 [DBG] Committing transaction.
2024-05-04 18:36:28.644 +03:00 [DBG] Committed transaction.
2024-05-04 18:36:28.647 +03:00 [DBG] Disposing transaction.
2024-05-04 18:36:28.647 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:36:28.650 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-04 18:36:28.786 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 18:36:28.793 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int64' ...
2024-05-04 18:36:28.797 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int64' using the name 'id' in request data ...
2024-05-04 18:36:28.799 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int64'.
2024-05-04 18:36:28.799 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int64'.
2024-05-04 18:36:28.799 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int64' ...
2024-05-04 18:36:28.801 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int64'.
2024-05-04 18:36:28.812 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.GetReport (Diary.Api) - Validation state: "Valid"
2024-05-04 18:39:36.904 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-04 18:39:36.979 +03:00 [DBG] Hosting starting
2024-05-04 18:39:37.088 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-04 18:39:37.089 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 18:39:37.097 +03:00 [INF] Hosting environment: Development
2024-05-04 18:39:37.097 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-04 18:39:37.097 +03:00 [DBG] Hosting started
2024-05-04 18:39:37.149 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/index.html - null null
2024-05-04 18:39:37.154 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 18:39:37.169 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 18:39:37.169 +03:00 [DBG] Request did not match any endpoints
2024-05-04 18:39:37.290 +03:00 [DBG] Connection ID "18302628913014112266" disconnecting.
2024-05-04 18:39:37.291 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/index.html - 200 null text/html;charset=utf-8 148.1448ms
2024-05-04 18:39:37.562 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-04 18:39:37.563 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 18:39:37.563 +03:00 [DBG] Request did not match any endpoints
2024-05-04 18:39:37.676 +03:00 [DBG] Connection ID "18302628891539275787" disconnecting.
2024-05-04 18:39:37.676 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 114.12ms
2024-05-04 18:39:41.141 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/api/v1/Report/1 - null null
2024-05-04 18:39:41.145 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report/1'
2024-05-04 18:39:41.149 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)' with route pattern 'api/v1/Report/{id}' is valid for the request path '/api/v1/Report/1'
2024-05-04 18:39:41.149 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 18:39:41.151 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 18:39:41.152 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 18:39:41.182 +03:00 [INF] Route matched with {action = "GetReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] GetReport(Int64) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-04 18:39:41.185 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-04 18:39:41.186 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 18:39:41.186 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-04 18:39:41.187 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 18:39:41.187 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-04 18:39:41.188 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 18:39:41.360 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-04 18:39:42.118 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-04 18:39:42.131 +03:00 [DBG] Creating DbConnection.
2024-05-04 18:39:42.194 +03:00 [DBG] Created DbConnection. (59ms).
2024-05-04 18:39:42.201 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:39:42.291 +03:00 [DBG] An error occurred using the connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:39:42.321 +03:00 [DBG] Creating DbConnection.
2024-05-04 18:39:42.322 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-04 18:39:42.322 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-04 18:39:42.392 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-04 18:39:42.401 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-04 18:39:42.410 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2024-05-04 18:39:42.412 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (11ms).
2024-05-04 18:39:42.419 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "Diary";
2024-05-04 18:39:42.530 +03:00 [INF] Executed DbCommand (111ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "Diary";
2024-05-04 18:39:42.533 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-04 18:39:42.541 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5438' (4ms).
2024-05-04 18:39:42.543 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-04 18:39:42.544 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5438' (0ms).
2024-05-04 18:39:42.545 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:39:42.565 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:39:42.566 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:39:42.566 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 18:39:42.653 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:39:42.677 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:39:42.683 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-04 18:39:42.688 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-04 18:39:42.689 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-04 18:39:42.689 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 18:39:42.690 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 18:39:42.690 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "User" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Login" character varying(100) NOT NULL,
    "Password" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_User" PRIMARY KEY ("Id")
);
2024-05-04 18:39:42.701 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "User" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Login" character varying(100) NOT NULL,
    "Password" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_User" PRIMARY KEY ("Id")
);
2024-05-04 18:39:42.701 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-04 18:39:42.701 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 18:39:42.701 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 18:39:42.701 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Report" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(100) NOT NULL,
    "Description" character varying(2000) NOT NULL,
    "UserId" bigint NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_Report" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Report_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-04 18:39:42.712 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Report" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(100) NOT NULL,
    "Description" character varying(2000) NOT NULL,
    "UserId" bigint NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_Report" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Report_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-04 18:39:42.713 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-04 18:39:42.713 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 18:39:42.713 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 18:39:42.713 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Report_UserId" ON "Report" ("UserId");
2024-05-04 18:39:42.717 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Report_UserId" ON "Report" ("UserId");
2024-05-04 18:39:42.719 +03:00 [DBG] Committing transaction.
2024-05-04 18:39:42.725 +03:00 [DBG] Committed transaction.
2024-05-04 18:39:42.727 +03:00 [DBG] Disposing transaction.
2024-05-04 18:39:42.727 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:39:42.729 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-04 18:39:42.834 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 18:39:42.839 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int64' ...
2024-05-04 18:39:42.841 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int64' using the name 'id' in request data ...
2024-05-04 18:39:42.842 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int64'.
2024-05-04 18:39:42.842 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int64'.
2024-05-04 18:39:42.842 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int64' ...
2024-05-04 18:39:42.844 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int64'.
2024-05-04 18:39:42.849 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.GetReport (Diary.Api) - Validation state: "Valid"
2024-05-04 18:39:45.585 +03:00 [DBG] Compiling query expression: 
'DbSet<Report>()'
2024-05-04 18:39:45.743 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Report>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Report.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Report.CreatedAt (DateTime) Required, 1], [Property: Report.CreatedBy (long) Required, 2], [Property: Report.Description (string) Required MaxLength(2000), 3], [Property: Report.Name (string) Required MaxLength(100), 4], [Property: Report.UpdatedAt (DateTime?), 5], [Property: Report.UpdatedBy (long?), 6], [Property: Report.UserId (long) Required FK Index, 7] }
        SELECT r.Id, r.CreatedAt, r.CreatedBy, r.Description, r.Name, r.UpdatedAt, r.UpdatedBy, r.UserId
        FROM Report AS r), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Report>, 
    Diary.DAL.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-05-04 18:39:45.764 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:39:45.764 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:39:45.764 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 18:39:45.765 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-04 18:39:45.765 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-04 18:39:45.765 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
2024-05-04 18:39:45.769 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
2024-05-04 18:39:45.773 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:39:45.777 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 5ms reading results.
2024-05-04 18:39:45.778 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:39:45.778 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 18:39:45.779 +03:00 [WRN]   1  
2024-05-04 18:42:31.832 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-04 18:42:31.912 +03:00 [DBG] Hosting starting
2024-05-04 18:42:32.026 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-04 18:42:32.033 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 18:42:32.034 +03:00 [INF] Hosting environment: Development
2024-05-04 18:42:32.041 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-04 18:42:32.041 +03:00 [DBG] Hosting started
2024-05-04 18:42:32.087 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/index.html - null null
2024-05-04 18:42:32.092 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 18:42:32.106 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 18:42:32.107 +03:00 [DBG] Request did not match any endpoints
2024-05-04 18:42:32.227 +03:00 [DBG] Connection ID "18374686524231909397" disconnecting.
2024-05-04 18:42:32.228 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/index.html - 200 null text/html;charset=utf-8 146.5237ms
2024-05-04 18:42:32.499 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-04 18:42:32.500 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 18:42:32.500 +03:00 [DBG] Request did not match any endpoints
2024-05-04 18:42:32.604 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 103.9164ms
2024-05-04 18:42:32.607 +03:00 [DBG] Connection ID "18230571293206380555" disconnecting.
2024-05-04 18:42:35.978 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/api/v1/Report/1 - null null
2024-05-04 18:42:35.983 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report/1'
2024-05-04 18:42:35.986 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)' with route pattern 'api/v1/Report/{id}' is valid for the request path '/api/v1/Report/1'
2024-05-04 18:42:35.987 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 18:42:35.989 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 18:42:35.990 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 18:42:36.020 +03:00 [INF] Route matched with {action = "GetReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] GetReport(Int64) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-04 18:42:36.023 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-04 18:42:36.023 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 18:42:36.024 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-04 18:42:36.024 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 18:42:36.025 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-04 18:42:36.027 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 18:42:36.204 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-04 18:42:36.971 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-04 18:42:36.984 +03:00 [DBG] Creating DbConnection.
2024-05-04 18:42:37.039 +03:00 [DBG] Created DbConnection. (52ms).
2024-05-04 18:42:37.046 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:42:37.159 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:42:37.165 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:42:37.175 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (6ms).
2024-05-04 18:42:37.183 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-04 18:42:37.190 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2024-05-04 18:42:37.191 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (9ms).
2024-05-04 18:42:37.191 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:42:37.216 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:42:37.226 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 18:42:37.341 +03:00 [INF] Executed DbCommand (114ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 18:42:37.345 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:42:37.348 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-04 18:42:37.455 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 18:42:37.460 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int64' ...
2024-05-04 18:42:37.462 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int64' using the name 'id' in request data ...
2024-05-04 18:42:37.463 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int64'.
2024-05-04 18:42:37.463 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int64'.
2024-05-04 18:42:37.463 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int64' ...
2024-05-04 18:42:37.465 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int64'.
2024-05-04 18:42:37.471 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.GetReport (Diary.Api) - Validation state: "Valid"
2024-05-04 18:42:39.543 +03:00 [DBG] Compiling query expression: 
'DbSet<Report>()'
2024-05-04 18:42:39.720 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Report>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Report.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Report.CreatedAt (DateTime) Required, 1], [Property: Report.CreatedBy (long) Required, 2], [Property: Report.Description (string) Required MaxLength(2000), 3], [Property: Report.Name (string) Required MaxLength(100), 4], [Property: Report.UpdatedAt (DateTime?), 5], [Property: Report.UpdatedBy (long?), 6], [Property: Report.UserId (long) Required FK Index, 7] }
        SELECT r.Id, r.CreatedAt, r.CreatedBy, r.Description, r.Name, r.UpdatedAt, r.UpdatedBy, r.UserId
        FROM Report AS r), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Report>, 
    Diary.DAL.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-05-04 18:42:39.743 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:42:39.743 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:42:39.743 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 18:42:39.744 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-04 18:42:39.744 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-04 18:42:39.744 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
2024-05-04 18:42:39.747 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
2024-05-04 18:42:39.802 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Report' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-04 18:42:39.835 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:42:39.837 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 87ms reading results.
2024-05-04 18:42:39.838 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:42:39.838 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 18:43:04.839 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-04 18:43:04.920 +03:00 [DBG] Hosting starting
2024-05-04 18:43:05.071 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-04 18:43:05.080 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 18:43:05.081 +03:00 [INF] Hosting environment: Development
2024-05-04 18:43:05.090 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-04 18:43:05.090 +03:00 [DBG] Hosting started
2024-05-04 18:43:05.124 +03:00 [DBG] Connection ID "18374686502757072913" disconnecting.
2024-05-04 18:43:05.146 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/index.html - null null
2024-05-04 18:43:05.152 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 18:43:05.166 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 18:43:05.167 +03:00 [DBG] Request did not match any endpoints
2024-05-04 18:43:05.172 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/index.html - null null
2024-05-04 18:43:05.173 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 18:43:05.173 +03:00 [DBG] Request did not match any endpoints
2024-05-04 18:43:05.305 +03:00 [DBG] Connection ID "18302628917309079566" disconnecting.
2024-05-04 18:43:05.304 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/index.html - 200 null text/html;charset=utf-8 165.4572ms
2024-05-04 18:43:05.306 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/index.html - 200 null text/html;charset=utf-8 133.4124ms
2024-05-04 18:43:05.469 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-04 18:43:05.470 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 18:43:05.470 +03:00 [DBG] Request did not match any endpoints
2024-05-04 18:43:05.471 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/favicon-32x32.png - null null
2024-05-04 18:43:05.471 +03:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2024-05-04 18:43:05.471 +03:00 [DBG] Request did not match any endpoints
2024-05-04 18:43:05.484 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-05-04 18:43:05.484 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/favicon-32x32.png - 200 628 image/png 13.5248ms
2024-05-04 18:43:05.510 +03:00 [DBG] Connection ID "18374686489872171060" disconnecting.
2024-05-04 18:43:05.591 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 122.7917ms
2024-05-04 18:43:05.592 +03:00 [DBG] Connection ID "18374686524231909399" disconnecting.
2024-05-04 18:43:08.446 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/api/v1/Report/1 - null null
2024-05-04 18:43:08.450 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report/1'
2024-05-04 18:43:08.453 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)' with route pattern 'api/v1/Report/{id}' is valid for the request path '/api/v1/Report/1'
2024-05-04 18:43:08.454 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 18:43:08.455 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 18:43:08.456 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 18:43:08.485 +03:00 [INF] Route matched with {action = "GetReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] GetReport(Int64) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-04 18:43:08.486 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-04 18:43:08.486 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 18:43:08.487 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-04 18:43:08.487 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 18:43:08.487 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-04 18:43:08.489 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 18:43:08.652 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-04 18:43:09.415 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-04 18:43:09.428 +03:00 [DBG] Creating DbConnection.
2024-05-04 18:43:09.480 +03:00 [DBG] Created DbConnection. (48ms).
2024-05-04 18:43:09.486 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:43:09.596 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:43:09.601 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:43:09.612 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (7ms).
2024-05-04 18:43:09.620 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-04 18:43:09.627 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2024-05-04 18:43:09.629 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (9ms).
2024-05-04 18:43:09.629 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:43:09.652 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:43:09.662 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 18:43:09.747 +03:00 [INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 18:43:09.750 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:43:09.752 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-04 18:43:09.858 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 18:43:09.862 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int64' ...
2024-05-04 18:43:09.863 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int64' using the name 'id' in request data ...
2024-05-04 18:43:09.864 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int64'.
2024-05-04 18:43:09.864 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int64'.
2024-05-04 18:43:09.864 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int64' ...
2024-05-04 18:43:09.867 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int64'.
2024-05-04 18:43:09.872 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.GetReport (Diary.Api) - Validation state: "Valid"
2024-05-04 18:43:09.901 +03:00 [DBG] Compiling query expression: 
'DbSet<Report>()'
2024-05-04 18:43:10.079 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Report>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Report.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Report.CreatedAt (DateTime) Required, 1], [Property: Report.CreatedBy (long) Required, 2], [Property: Report.Description (string) Required MaxLength(2000), 3], [Property: Report.Name (string) Required MaxLength(100), 4], [Property: Report.UpdatedAt (DateTime?), 5], [Property: Report.UpdatedBy (long?), 6], [Property: Report.UserId (long) Required FK Index, 7] }
        SELECT r.Id, r.CreatedAt, r.CreatedBy, r.Description, r.Name, r.UpdatedAt, r.UpdatedBy, r.UserId
        FROM Report AS r), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Report>, 
    Diary.DAL.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-05-04 18:43:10.102 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:43:10.103 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:43:10.103 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 18:43:10.103 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-04 18:43:10.103 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-04 18:43:10.104 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
2024-05-04 18:43:10.107 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
2024-05-04 18:43:10.156 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Report' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-04 18:43:10.187 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:43:10.188 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 79ms reading results.
2024-05-04 18:43:10.189 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:43:10.189 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 18:43:10.194 +03:00 [INF] Executed action method Diary.Api.Controllers.ReportController.GetReport (Diary.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 318.0435ms.
2024-05-04 18:43:10.198 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-04 18:43:10.200 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-04 18:43:10.201 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-04 18:43:10.201 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-04 18:43:10.201 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-04 18:43:10.202 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-04 18:43:10.202 +03:00 [INF] Executing OkObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.ReportDto.ReportDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-04 18:43:10.221 +03:00 [INF] Executed action Diary.Api.Controllers.ReportController.GetReport (Diary.Api) in 1730.3212ms
2024-05-04 18:43:10.221 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 18:43:10.221 +03:00 [DBG] Connection ID "18374686489872171062" disconnecting.
2024-05-04 18:43:10.223 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-04 18:43:10.227 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 18:43:10.230 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-04 18:43:10.230 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/api/v1/Report/1 - 200 null application/json; charset=utf-8 1784.4397ms
2024-05-04 19:28:26.950 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-04 19:28:27.023 +03:00 [DBG] Hosting starting
2024-05-04 19:28:27.145 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-04 19:28:27.146 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 19:28:27.155 +03:00 [INF] Hosting environment: Development
2024-05-04 19:28:27.155 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-04 19:28:27.155 +03:00 [DBG] Hosting started
2024-05-04 19:28:27.210 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/index.html - null null
2024-05-04 19:28:27.215 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 19:28:27.230 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 19:28:27.230 +03:00 [DBG] Request did not match any endpoints
2024-05-04 19:28:27.357 +03:00 [DBG] Connection ID "18374686528526876685" disconnecting.
2024-05-04 19:28:27.359 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/index.html - 200 null text/html;charset=utf-8 153.9224ms
2024-05-04 19:28:27.657 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-04 19:28:27.658 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 19:28:27.658 +03:00 [DBG] Request did not match any endpoints
2024-05-04 19:28:27.779 +03:00 [DBG] Connection ID "18374686489872171064" disconnecting.
2024-05-04 19:28:27.779 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 121.7812ms
2024-05-04 19:28:32.926 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/api/v1/Report/1 - null null
2024-05-04 19:28:32.930 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report/1'
2024-05-04 19:28:32.934 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)' with route pattern 'api/v1/Report/{id}' is valid for the request path '/api/v1/Report/1'
2024-05-04 19:28:32.934 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 19:28:32.937 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 19:28:32.937 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 19:28:32.965 +03:00 [INF] Route matched with {action = "GetReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] GetReport(Int64) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-04 19:28:32.968 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-04 19:28:32.969 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 19:28:32.969 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-04 19:28:32.970 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 19:28:32.970 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-04 19:28:32.971 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 19:28:33.136 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-04 19:28:33.919 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-04 19:28:33.932 +03:00 [DBG] Creating DbConnection.
2024-05-04 19:28:33.982 +03:00 [DBG] Created DbConnection. (48ms).
2024-05-04 19:28:33.989 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:28:34.129 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:28:34.135 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:28:34.145 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (6ms).
2024-05-04 19:28:34.154 +03:00 [DBG] Creating DbConnection.
2024-05-04 19:28:34.155 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-04 19:28:34.155 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-04 19:28:34.184 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-04 19:28:34.188 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-04 19:28:34.195 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2024-05-04 19:28:34.196 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (9ms).
2024-05-04 19:28:34.203 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "Diary" WITH (FORCE);
2024-05-04 19:28:34.415 +03:00 [INF] Executed DbCommand (212ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "Diary" WITH (FORCE);
2024-05-04 19:28:34.417 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-04 19:28:34.418 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5438' (0ms).
2024-05-04 19:28:34.419 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-04 19:28:34.420 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5438' (0ms).
2024-05-04 19:28:34.421 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:28:34.448 +03:00 [DBG] An error occurred using the connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:28:34.479 +03:00 [DBG] Creating DbConnection.
2024-05-04 19:28:34.479 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-04 19:28:34.479 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-04 19:28:34.489 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-04 19:28:34.489 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-04 19:28:34.489 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 19:28:34.489 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 19:28:34.489 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "Diary";
2024-05-04 19:28:34.741 +03:00 [INF] Executed DbCommand (251ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "Diary";
2024-05-04 19:28:34.741 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-04 19:28:34.741 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5438' (0ms).
2024-05-04 19:28:34.742 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-04 19:28:34.742 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5438' (0ms).
2024-05-04 19:28:34.742 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:28:34.766 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:28:34.767 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:28:34.767 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 19:28:34.897 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:28:34.928 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:28:34.935 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-04 19:28:34.939 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-04 19:28:34.940 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-04 19:28:34.940 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 19:28:34.941 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 19:28:34.941 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "User" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Login" character varying(100) NOT NULL,
    "Password" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_User" PRIMARY KEY ("Id")
);
2024-05-04 19:28:34.954 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "User" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Login" character varying(100) NOT NULL,
    "Password" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_User" PRIMARY KEY ("Id")
);
2024-05-04 19:28:34.955 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-04 19:28:34.955 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 19:28:34.955 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 19:28:34.955 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Report" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(100) NOT NULL,
    "Description" character varying(2000) NOT NULL,
    "UserId" bigint NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_Report" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Report_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-04 19:28:34.966 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Report" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(100) NOT NULL,
    "Description" character varying(2000) NOT NULL,
    "UserId" bigint NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_Report" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Report_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-04 19:28:34.966 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-04 19:28:34.966 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 19:28:34.966 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 19:28:34.966 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("Id", "CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (1, TIMESTAMPTZ '2024-05-04T16:28:34.461577Z', 1, 'First rep description', 'First repository', NULL, NULL, 0);
2024-05-04 19:28:34.976 +03:00 [ERR] Failed executing DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("Id", "CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (1, TIMESTAMPTZ '2024-05-04T16:28:34.461577Z', 1, 'First rep description', 'First repository', NULL, NULL, 0);
2024-05-04 19:30:02.643 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-04 19:30:02.709 +03:00 [DBG] Hosting starting
2024-05-04 19:30:02.778 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-04 19:30:02.778 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 19:30:02.779 +03:00 [INF] Hosting environment: Development
2024-05-04 19:30:02.779 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-04 19:30:02.779 +03:00 [DBG] Hosting started
2024-05-04 19:30:02.802 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/index.html - null null
2024-05-04 19:30:02.808 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 19:30:02.825 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 19:30:02.825 +03:00 [DBG] Request did not match any endpoints
2024-05-04 19:30:02.942 +03:00 [DBG] Connection ID "18374686489872171066" disconnecting.
2024-05-04 19:30:02.944 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/index.html - 200 null text/html;charset=utf-8 148.2657ms
2024-05-04 19:30:03.211 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-04 19:30:03.211 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 19:30:03.211 +03:00 [DBG] Request did not match any endpoints
2024-05-04 19:30:03.313 +03:00 [DBG] Connection ID "18302628891539275789" disconnecting.
2024-05-04 19:30:03.313 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 102.3439ms
2024-05-04 19:30:08.590 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/api/v1/Report/1 - null null
2024-05-04 19:30:08.594 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report/1'
2024-05-04 19:30:08.599 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)' with route pattern 'api/v1/Report/{id}' is valid for the request path '/api/v1/Report/1'
2024-05-04 19:30:08.599 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 19:30:08.602 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 19:30:08.603 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 19:30:08.634 +03:00 [INF] Route matched with {action = "GetReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] GetReport(Int64) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-04 19:30:08.638 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-04 19:30:08.638 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 19:30:08.639 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-04 19:30:08.639 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 19:30:08.639 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-04 19:30:08.641 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 19:30:08.759 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-04 19:30:09.758 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-04 19:30:09.774 +03:00 [DBG] Creating DbConnection.
2024-05-04 19:30:09.817 +03:00 [DBG] Created DbConnection. (40ms).
2024-05-04 19:30:09.825 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:30:09.946 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:30:09.953 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:30:09.965 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (7ms).
2024-05-04 19:30:09.975 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-04 19:30:09.984 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2024-05-04 19:30:09.985 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (11ms).
2024-05-04 19:30:09.986 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:30:10.012 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:30:10.021 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 19:30:10.127 +03:00 [INF] Executed DbCommand (106ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 19:30:10.131 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:30:10.134 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (3ms).
2024-05-04 19:30:10.337 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:30:10.337 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:30:10.340 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-04 19:30:10.345 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-04 19:30:10.348 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-04 19:30:10.348 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 19:30:10.349 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 19:30:10.349 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "User" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Login" character varying(100) NOT NULL,
    "Password" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_User" PRIMARY KEY ("Id")
);
2024-05-04 19:30:10.366 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "User" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Login" character varying(100) NOT NULL,
    "Password" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_User" PRIMARY KEY ("Id")
);
2024-05-04 19:30:10.366 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-04 19:30:10.366 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 19:30:10.366 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 19:30:10.367 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Report" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(100) NOT NULL,
    "Description" character varying(2000) NOT NULL,
    "UserId" bigint NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_Report" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Report_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-04 19:30:10.376 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Report" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(100) NOT NULL,
    "Description" character varying(2000) NOT NULL,
    "UserId" bigint NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_Report" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Report_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-04 19:30:10.376 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-04 19:30:10.376 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 19:30:10.376 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 19:30:10.376 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("Id", "CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (1, TIMESTAMPTZ '2024-05-04T16:30:10.144426Z', 1, 'First rep description', 'First repository', NULL, NULL, 0);
2024-05-04 19:30:10.389 +03:00 [ERR] Failed executing DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("Id", "CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (1, TIMESTAMPTZ '2024-05-04T16:30:10.144426Z', 1, 'First rep description', 'First repository', NULL, NULL, 0);
2024-05-04 19:30:10.397 +03:00 [DBG] Disposing transaction.
2024-05-04 19:30:10.398 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:30:10.398 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 19:30:10.404 +03:00 [INF] Executed action Diary.Api.Controllers.ReportController.GetReport (Diary.Api) in 1760.5181ms
2024-05-04 19:30:10.405 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 19:30:10.405 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Npgsql.PostgresException (0x80004005): 23503: insert or update on table "Report" violates foreign key constraint "FK_Report_User_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteNonQuery(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteNonQuery()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQuery(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Migrations.MigrationCommand.ExecuteNonQuery(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQuery(IEnumerable`1 migrationCommands, IRelationalConnection connection)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.CreateTables()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabaseCreator.EnsureCreated()
   at Microsoft.EntityFrameworkCore.Infrastructure.DatabaseFacade.EnsureCreated()
   at Diary.DAL.ApplicationDbContext..ctor(DbContextOptions`1 options) in C:\Users\Eugeny\Desktop\Diary\Infrastructure\Diary.DAL\ApplicationDbContext.cs:line 11
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at lambda_method9(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "Report" violates foreign key constraint "FK_Report_User_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Report
    ConstraintName: FK_Report_User_UserId
    File: ri_triggers.c
    Line: 2608
    Routine: ri_ReportViolation
2024-05-04 19:30:10.430 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/api/v1/Report/1 - 500 null text/plain; charset=utf-8 1839.8119ms
2024-05-04 19:30:10.430 +03:00 [DBG] Connection ID "18374686489872171068" disconnecting.
2024-05-04 19:31:51.836 +03:00 [INF] Application is shutting down...
2024-05-04 19:31:51.838 +03:00 [DBG] Hosting stopping
2024-05-04 19:31:51.840 +03:00 [DBG] Hosting stopped
2024-05-04 19:32:14.010 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-04 19:32:14.069 +03:00 [DBG] Hosting starting
2024-05-04 19:32:14.114 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-04 19:32:14.115 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 19:32:14.115 +03:00 [INF] Hosting environment: Development
2024-05-04 19:32:14.116 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-04 19:32:14.116 +03:00 [DBG] Hosting started
2024-05-04 19:32:14.134 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/index.html - null null
2024-05-04 19:32:14.139 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 19:32:14.155 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 19:32:14.156 +03:00 [DBG] Request did not match any endpoints
2024-05-04 19:32:14.267 +03:00 [DBG] Connection ID "18374686502757072915" disconnecting.
2024-05-04 19:32:14.269 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/index.html - 200 null text/html;charset=utf-8 140.153ms
2024-05-04 19:32:14.545 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-04 19:32:14.546 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 19:32:14.546 +03:00 [DBG] Request did not match any endpoints
2024-05-04 19:32:14.662 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 116.5007ms
2024-05-04 19:32:14.662 +03:00 [DBG] Connection ID "18374686515641974824" disconnecting.
2024-05-04 19:32:17.439 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/api/v1/Report/1 - null null
2024-05-04 19:32:17.444 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report/1'
2024-05-04 19:32:17.448 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)' with route pattern 'api/v1/Report/{id}' is valid for the request path '/api/v1/Report/1'
2024-05-04 19:32:17.448 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 19:32:17.451 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 19:32:17.452 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 19:32:17.482 +03:00 [INF] Route matched with {action = "GetReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] GetReport(Int64) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-04 19:32:17.486 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-04 19:32:17.486 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 19:32:17.486 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-04 19:32:17.486 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 19:32:17.486 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-04 19:32:17.488 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 19:32:17.609 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-04 19:32:18.532 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-04 19:32:18.547 +03:00 [DBG] Creating DbConnection.
2024-05-04 19:32:18.591 +03:00 [DBG] Created DbConnection. (40ms).
2024-05-04 19:32:18.598 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:32:18.722 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:32:18.729 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:32:18.740 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (7ms).
2024-05-04 19:32:18.749 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-04 19:32:18.757 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2024-05-04 19:32:18.759 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (10ms).
2024-05-04 19:32:18.759 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:32:18.783 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:32:18.791 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 19:32:18.887 +03:00 [INF] Executed DbCommand (96ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 19:32:18.890 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:32:18.893 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-04 19:32:19.022 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:32:19.022 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:32:19.025 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-04 19:32:19.030 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-04 19:32:19.032 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-04 19:32:19.032 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 19:32:19.033 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 19:32:19.033 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "User" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Login" character varying(100) NOT NULL,
    "Password" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_User" PRIMARY KEY ("Id")
);
2024-05-04 19:32:19.047 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "User" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Login" character varying(100) NOT NULL,
    "Password" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_User" PRIMARY KEY ("Id")
);
2024-05-04 19:32:19.047 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-04 19:32:19.048 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 19:32:19.048 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 19:32:19.048 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Report" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(100) NOT NULL,
    "Description" character varying(2000) NOT NULL,
    "UserId" bigint NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_Report" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Report_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-04 19:32:19.058 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Report" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(100) NOT NULL,
    "Description" character varying(2000) NOT NULL,
    "UserId" bigint NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_Report" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Report_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-04 19:32:19.058 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-04 19:32:19.058 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 19:32:19.058 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 19:32:19.059 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Report_UserId" ON "Report" ("UserId");
2024-05-04 19:32:19.064 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Report_UserId" ON "Report" ("UserId");
2024-05-04 19:32:19.066 +03:00 [DBG] Committing transaction.
2024-05-04 19:32:19.072 +03:00 [DBG] Committed transaction.
2024-05-04 19:32:19.074 +03:00 [DBG] Disposing transaction.
2024-05-04 19:32:19.074 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:32:19.074 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 19:32:19.191 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 19:32:19.195 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int64' ...
2024-05-04 19:32:19.198 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int64' using the name 'id' in request data ...
2024-05-04 19:32:19.198 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int64'.
2024-05-04 19:32:19.199 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int64'.
2024-05-04 19:32:19.199 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int64' ...
2024-05-04 19:32:19.200 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int64'.
2024-05-04 19:32:19.206 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.GetReport (Diary.Api) - Validation state: "Valid"
2024-05-04 19:32:19.243 +03:00 [DBG] Compiling query expression: 
'DbSet<Report>()'
2024-05-04 19:32:19.426 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Report>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Report.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Report.CreatedAt (DateTime) Required, 1], [Property: Report.CreatedBy (long) Required, 2], [Property: Report.Description (string) Required MaxLength(2000), 3], [Property: Report.Name (string) Required MaxLength(100), 4], [Property: Report.UpdatedAt (DateTime?), 5], [Property: Report.UpdatedBy (long?), 6], [Property: Report.UserId (long) Required FK Index, 7] }
        SELECT r.Id, r.CreatedAt, r.CreatedBy, r.Description, r.Name, r.UpdatedAt, r.UpdatedBy, r.UserId
        FROM Report AS r), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Report>, 
    Diary.DAL.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-05-04 19:32:19.451 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:32:19.451 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:32:19.451 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 19:32:19.451 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-04 19:32:19.451 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-04 19:32:19.452 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
2024-05-04 19:32:19.454 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
2024-05-04 19:32:19.459 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:32:19.460 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 4ms reading results.
2024-05-04 19:32:19.461 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:32:19.461 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 19:32:19.462 +03:00 [WRN]   1  
2024-05-04 19:32:19.469 +03:00 [INF] Executed action method Diary.Api.Controllers.ReportController.GetReport (Diary.Api), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 258.9664ms.
2024-05-04 19:32:19.473 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-04 19:32:19.476 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-04 19:32:19.477 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-04 19:32:19.477 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-04 19:32:19.477 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-04 19:32:19.477 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-04 19:32:19.478 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.ReportDto.ReportDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-04 19:32:19.497 +03:00 [INF] Executed action Diary.Api.Controllers.ReportController.GetReport (Diary.Api) in 2007.2867ms
2024-05-04 19:32:19.497 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 19:32:19.498 +03:00 [DBG] Connection ID "18158513724938256387" disconnecting.
2024-05-04 19:32:19.500 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-04 19:32:19.504 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:32:19.507 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (3ms).
2024-05-04 19:32:19.507 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/api/v1/Report/1 - 400 null application/json; charset=utf-8 2068.0255ms
2024-05-04 19:32:25.371 +03:00 [INF] Application is shutting down...
2024-05-04 19:32:25.372 +03:00 [DBG] Hosting stopping
2024-05-04 19:32:25.373 +03:00 [DBG] Hosting stopped
2024-05-04 19:32:54.104 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-04 19:32:54.189 +03:00 [DBG] Hosting starting
2024-05-04 19:32:54.271 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-04 19:32:54.273 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 19:32:54.274 +03:00 [INF] Hosting environment: Development
2024-05-04 19:32:54.274 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-04 19:32:54.274 +03:00 [DBG] Hosting started
2024-05-04 19:32:54.310 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/index.html - null null
2024-05-04 19:32:54.319 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 19:32:54.338 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 19:32:54.339 +03:00 [DBG] Request did not match any endpoints
2024-05-04 19:32:54.487 +03:00 [DBG] Connection ID "18374686502757072917" disconnecting.
2024-05-04 19:32:54.489 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/index.html - 200 null text/html;charset=utf-8 186.6591ms
2024-05-04 19:32:54.872 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-04 19:32:54.872 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 19:32:54.872 +03:00 [DBG] Request did not match any endpoints
2024-05-04 19:32:54.996 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 124.3702ms
2024-05-04 19:32:54.996 +03:00 [DBG] Connection ID "18230571293206380558" disconnecting.
2024-05-04 19:33:06.124 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/api/v1/Report/1 - null null
2024-05-04 19:33:06.128 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report/1'
2024-05-04 19:33:06.132 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)' with route pattern 'api/v1/Report/{id}' is valid for the request path '/api/v1/Report/1'
2024-05-04 19:33:06.133 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 19:33:06.136 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 19:33:06.136 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 19:33:06.166 +03:00 [INF] Route matched with {action = "GetReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] GetReport(Int64) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-04 19:33:06.170 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-04 19:33:06.171 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 19:33:06.171 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-04 19:33:06.171 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 19:33:06.171 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-04 19:33:06.173 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 19:33:06.293 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-04 19:33:07.265 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-04 19:33:07.280 +03:00 [DBG] Creating DbConnection.
2024-05-04 19:33:07.324 +03:00 [DBG] Created DbConnection. (41ms).
2024-05-04 19:33:07.332 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:33:07.452 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:33:07.459 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:33:07.470 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (6ms).
2024-05-04 19:33:07.479 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-04 19:33:07.487 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2024-05-04 19:33:07.489 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (10ms).
2024-05-04 19:33:07.489 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:33:07.514 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:33:07.524 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 19:33:07.624 +03:00 [INF] Executed DbCommand (102ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 19:33:07.628 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:33:07.631 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-04 19:33:07.749 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 19:33:07.752 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int64' ...
2024-05-04 19:33:07.754 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int64' using the name 'id' in request data ...
2024-05-04 19:33:07.754 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int64'.
2024-05-04 19:33:07.755 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int64'.
2024-05-04 19:33:07.755 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int64' ...
2024-05-04 19:33:07.756 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int64'.
2024-05-04 19:33:07.762 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.GetReport (Diary.Api) - Validation state: "Valid"
2024-05-04 19:33:07.797 +03:00 [DBG] Compiling query expression: 
'DbSet<Report>()'
2024-05-04 19:33:07.980 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Report>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Report.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Report.CreatedAt (DateTime) Required, 1], [Property: Report.CreatedBy (long) Required, 2], [Property: Report.Description (string) Required MaxLength(2000), 3], [Property: Report.Name (string) Required MaxLength(100), 4], [Property: Report.UpdatedAt (DateTime?), 5], [Property: Report.UpdatedBy (long?), 6], [Property: Report.UserId (long) Required FK Index, 7] }
        SELECT r.Id, r.CreatedAt, r.CreatedBy, r.Description, r.Name, r.UpdatedAt, r.UpdatedBy, r.UserId
        FROM Report AS r), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Report>, 
    Diary.DAL.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-05-04 19:33:08.006 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:33:08.006 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:33:08.006 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 19:33:08.006 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-04 19:33:08.006 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-04 19:33:08.007 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
2024-05-04 19:33:08.010 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
2024-05-04 19:33:08.015 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:33:08.016 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 4ms reading results.
2024-05-04 19:33:08.017 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:33:08.017 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 19:33:08.018 +03:00 [WRN]   1  
2024-05-04 19:33:08.025 +03:00 [INF] Executed action method Diary.Api.Controllers.ReportController.GetReport (Diary.Api), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 259.2184ms.
2024-05-04 19:33:08.029 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-04 19:33:08.031 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-04 19:33:08.032 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-04 19:33:08.032 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-04 19:33:08.032 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-04 19:33:08.033 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-04 19:33:08.033 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.ReportDto.ReportDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-04 19:33:08.053 +03:00 [INF] Executed action Diary.Api.Controllers.ReportController.GetReport (Diary.Api) in 1877.817ms
2024-05-04 19:33:08.053 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 19:33:08.053 +03:00 [DBG] Connection ID "18374686524231909402" disconnecting.
2024-05-04 19:33:08.055 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-04 19:33:08.059 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:33:08.062 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-04 19:33:08.063 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/api/v1/Report/1 - 400 null application/json; charset=utf-8 1938.9544ms
2024-05-04 19:33:55.284 +03:00 [INF] Application is shutting down...
2024-05-04 19:33:55.285 +03:00 [DBG] Hosting stopping
2024-05-04 19:33:55.286 +03:00 [DBG] Hosting stopped
2024-05-04 19:35:42.751 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-04 19:35:42.831 +03:00 [DBG] Hosting starting
2024-05-04 19:35:42.954 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-04 19:35:42.963 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 19:35:42.964 +03:00 [INF] Hosting environment: Development
2024-05-04 19:35:42.964 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-04 19:35:42.972 +03:00 [DBG] Hosting started
2024-05-04 19:35:43.018 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/index.html - null null
2024-05-04 19:35:43.023 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 19:35:43.038 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 19:35:43.038 +03:00 [DBG] Request did not match any endpoints
2024-05-04 19:35:43.176 +03:00 [DBG] Connection ID "18230571297501347866" disconnecting.
2024-05-04 19:35:43.179 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/index.html - 200 null text/html;charset=utf-8 165.9721ms
2024-05-04 19:35:43.480 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-04 19:35:43.480 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 19:35:43.480 +03:00 [DBG] Request did not match any endpoints
2024-05-04 19:35:43.606 +03:00 [DBG] Connection ID "18302628904424177688" disconnecting.
2024-05-04 19:35:43.606 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 126.4996ms
2024-05-04 19:36:17.851 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-04 19:36:17.925 +03:00 [DBG] Hosting starting
2024-05-04 19:36:18.039 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-04 19:36:18.047 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 19:36:18.056 +03:00 [INF] Hosting environment: Development
2024-05-04 19:36:18.056 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-04 19:36:18.056 +03:00 [DBG] Hosting started
2024-05-04 19:36:18.100 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/index.html - null null
2024-05-04 19:36:18.105 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 19:36:18.119 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 19:36:18.120 +03:00 [DBG] Request did not match any endpoints
2024-05-04 19:36:18.241 +03:00 [DBG] Connection ID "18230571293206380560" disconnecting.
2024-05-04 19:36:18.243 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/index.html - 200 null text/html;charset=utf-8 148.5565ms
2024-05-04 19:36:18.526 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-04 19:36:18.526 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 19:36:18.527 +03:00 [DBG] Request did not match any endpoints
2024-05-04 19:36:18.656 +03:00 [DBG] Connection ID "18374686524231909404" disconnecting.
2024-05-04 19:36:18.656 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 126.7239ms
2024-05-04 19:36:44.254 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/api/v1/Report/1 - null null
2024-05-04 19:36:44.262 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report/1'
2024-05-04 19:36:44.266 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)' with route pattern 'api/v1/Report/{id}' is valid for the request path '/api/v1/Report/1'
2024-05-04 19:36:44.266 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 19:36:44.269 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 19:36:44.269 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 19:36:44.298 +03:00 [INF] Route matched with {action = "GetReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] GetReport(Int64) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-04 19:36:44.301 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-04 19:36:44.301 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 19:36:44.302 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-04 19:36:44.302 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 19:36:44.302 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-04 19:36:44.304 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 19:36:44.467 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-04 19:36:45.310 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-04 19:36:45.323 +03:00 [DBG] Creating DbConnection.
2024-05-04 19:36:45.376 +03:00 [DBG] Created DbConnection. (50ms).
2024-05-04 19:36:45.382 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:36:45.498 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:36:45.505 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:36:45.515 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (6ms).
2024-05-04 19:36:45.526 +03:00 [DBG] Creating DbConnection.
2024-05-04 19:36:45.526 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-04 19:36:45.527 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-04 19:36:45.544 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-04 19:36:45.548 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-04 19:36:45.555 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2024-05-04 19:36:45.557 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (9ms).
2024-05-04 19:36:45.563 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "Diary" WITH (FORCE);
2024-05-04 19:36:45.718 +03:00 [INF] Executed DbCommand (155ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "Diary" WITH (FORCE);
2024-05-04 19:36:45.721 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-04 19:36:45.721 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5438' (0ms).
2024-05-04 19:36:45.723 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-04 19:36:45.724 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5438' (1ms).
2024-05-04 19:36:45.726 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:36:45.746 +03:00 [DBG] An error occurred using the connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:36:45.776 +03:00 [DBG] Creating DbConnection.
2024-05-04 19:36:45.776 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-04 19:36:45.776 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-04 19:36:45.785 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-04 19:36:45.785 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-04 19:36:45.785 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 19:36:45.785 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 19:36:45.785 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "Diary";
2024-05-04 19:36:45.938 +03:00 [INF] Executed DbCommand (152ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "Diary";
2024-05-04 19:36:45.938 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-04 19:36:45.938 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5438' (0ms).
2024-05-04 19:36:45.939 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-04 19:36:45.939 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5438' (0ms).
2024-05-04 19:36:45.939 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:36:45.950 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:36:45.950 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:36:45.950 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 19:36:46.076 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:36:46.099 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:36:46.105 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-04 19:36:46.109 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-04 19:36:46.110 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-04 19:36:46.110 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 19:36:46.111 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 19:36:46.111 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "User" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Login" character varying(100) NOT NULL,
    "Password" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_User" PRIMARY KEY ("Id")
);
2024-05-04 19:36:46.123 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "User" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Login" character varying(100) NOT NULL,
    "Password" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_User" PRIMARY KEY ("Id")
);
2024-05-04 19:36:46.124 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-04 19:36:46.124 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 19:36:46.124 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 19:36:46.124 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Report" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(100) NOT NULL,
    "Description" character varying(2000) NOT NULL,
    "UserId" bigint NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_Report" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Report_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-04 19:36:46.134 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Report" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(100) NOT NULL,
    "Description" character varying(2000) NOT NULL,
    "UserId" bigint NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_Report" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Report_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-04 19:36:46.135 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-04 19:36:46.135 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 19:36:46.135 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 19:36:46.135 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("Id", "CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (1, TIMESTAMPTZ '2024-05-04T16:36:45.759351Z', 0, 'First rep description', 'First repository', NULL, NULL, 0);
2024-05-04 19:36:46.143 +03:00 [ERR] Failed executing DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("Id", "CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (1, TIMESTAMPTZ '2024-05-04T16:36:45.759351Z', 0, 'First rep description', 'First repository', NULL, NULL, 0);
2024-05-04 19:39:54.143 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-04 19:39:54.219 +03:00 [DBG] Hosting starting
2024-05-04 19:39:54.359 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-04 19:39:54.360 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 19:39:54.367 +03:00 [INF] Hosting environment: Development
2024-05-04 19:39:54.368 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-04 19:39:54.368 +03:00 [DBG] Hosting started
2024-05-04 19:39:54.418 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/index.html - null null
2024-05-04 19:39:54.423 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 19:39:54.437 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 19:39:54.437 +03:00 [DBG] Request did not match any endpoints
2024-05-04 19:39:54.556 +03:00 [DBG] Connection ID "18374686498462105666" disconnecting.
2024-05-04 19:39:54.558 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/index.html - 200 null text/html;charset=utf-8 146.1716ms
2024-05-04 19:39:54.813 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-04 19:39:54.813 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 19:39:54.813 +03:00 [DBG] Request did not match any endpoints
2024-05-04 19:39:54.923 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 108.9706ms
2024-05-04 19:39:54.925 +03:00 [DBG] Connection ID "18374686498462105668" disconnecting.
2024-05-04 19:39:57.422 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/api/v1/Report/1 - null null
2024-05-04 19:39:57.425 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report/1'
2024-05-04 19:39:57.429 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)' with route pattern 'api/v1/Report/{id}' is valid for the request path '/api/v1/Report/1'
2024-05-04 19:39:57.430 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 19:39:57.432 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 19:39:57.433 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 19:39:57.462 +03:00 [INF] Route matched with {action = "GetReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] GetReport(Int64) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-04 19:39:57.465 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-04 19:39:57.465 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 19:39:57.466 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-04 19:39:57.466 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 19:39:57.467 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-04 19:39:57.468 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 19:39:57.640 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-04 19:39:58.422 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-04 19:39:58.435 +03:00 [DBG] Creating DbConnection.
2024-05-04 19:39:58.485 +03:00 [DBG] Created DbConnection. (48ms).
2024-05-04 19:39:58.491 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:39:58.606 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:39:58.613 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:39:58.624 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (7ms).
2024-05-04 19:39:58.636 +03:00 [DBG] Creating DbConnection.
2024-05-04 19:39:58.637 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-04 19:39:58.637 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-04 19:39:58.659 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-04 19:39:58.666 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-04 19:39:58.675 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2024-05-04 19:39:58.676 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (11ms).
2024-05-04 19:39:58.685 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "Diary" WITH (FORCE);
2024-05-04 19:39:58.848 +03:00 [INF] Executed DbCommand (165ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "Diary" WITH (FORCE);
2024-05-04 19:39:58.850 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-04 19:39:58.851 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5438' (0ms).
2024-05-04 19:39:58.853 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-04 19:39:58.853 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5438' (1ms).
2024-05-04 19:39:58.854 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:39:58.873 +03:00 [DBG] An error occurred using the connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:39:58.903 +03:00 [DBG] Creating DbConnection.
2024-05-04 19:39:58.903 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-04 19:39:58.903 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-04 19:39:58.911 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-04 19:39:58.912 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-04 19:39:58.912 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 19:39:58.912 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 19:39:58.912 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "Diary";
2024-05-04 19:39:58.967 +03:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "Diary";
2024-05-04 19:39:58.967 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-04 19:39:58.967 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5438' (0ms).
2024-05-04 19:39:58.968 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-04 19:39:58.968 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5438' (0ms).
2024-05-04 19:39:58.968 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:39:58.979 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:39:58.979 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:39:58.979 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 19:39:59.107 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:39:59.129 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:39:59.135 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-04 19:39:59.139 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-04 19:39:59.140 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-04 19:39:59.140 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 19:39:59.141 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 19:39:59.141 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "User" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Login" character varying(100) NOT NULL,
    "Password" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_User" PRIMARY KEY ("Id")
);
2024-05-04 19:39:59.150 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "User" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Login" character varying(100) NOT NULL,
    "Password" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_User" PRIMARY KEY ("Id")
);
2024-05-04 19:39:59.151 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-04 19:39:59.151 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 19:39:59.151 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 19:39:59.151 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Report" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(100) NOT NULL,
    "Description" character varying(2000) NOT NULL,
    "UserId" bigint NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_Report" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Report_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-04 19:39:59.160 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Report" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(100) NOT NULL,
    "Description" character varying(2000) NOT NULL,
    "UserId" bigint NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_Report" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Report_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-04 19:39:59.160 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-04 19:39:59.160 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 19:39:59.161 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 19:39:59.161 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "User" ("Id", "CreatedAt", "CreatedBy", "Login", "Password", "UpdatedAt", "UpdatedBy")
VALUES (1, TIMESTAMPTZ '2024-05-04T16:39:58.886907Z', 0, 'svyatmtk', 'password', NULL, NULL);
2024-05-04 19:39:59.162 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "User" ("Id", "CreatedAt", "CreatedBy", "Login", "Password", "UpdatedAt", "UpdatedBy")
VALUES (1, TIMESTAMPTZ '2024-05-04T16:39:58.886907Z', 0, 'svyatmtk', 'password', NULL, NULL);
2024-05-04 19:39:59.162 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-04 19:39:59.162 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 19:39:59.162 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 19:39:59.162 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("Id", "CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (1, TIMESTAMPTZ '2024-05-04T16:39:58.886503Z', 0, 'First rep description', 'First repository', NULL, NULL, 1);
2024-05-04 19:39:59.164 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("Id", "CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (1, TIMESTAMPTZ '2024-05-04T16:39:58.886503Z', 0, 'First rep description', 'First repository', NULL, NULL, 1);
2024-05-04 19:39:59.164 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-04 19:39:59.164 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 19:39:59.164 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 19:39:59.164 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Report_UserId" ON "Report" ("UserId");
2024-05-04 19:39:59.169 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Report_UserId" ON "Report" ("UserId");
2024-05-04 19:39:59.169 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-04 19:39:59.169 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 19:39:59.169 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 19:39:59.169 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT setval(
    pg_get_serial_sequence('"User"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "User") + 1,
        nextval(pg_get_serial_sequence('"User"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"Report"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "Report") + 1,
        nextval(pg_get_serial_sequence('"Report"', 'Id'))),
    false);
2024-05-04 19:39:59.181 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT setval(
    pg_get_serial_sequence('"User"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "User") + 1,
        nextval(pg_get_serial_sequence('"User"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"Report"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "Report") + 1,
        nextval(pg_get_serial_sequence('"Report"', 'Id'))),
    false);
2024-05-04 19:39:59.183 +03:00 [DBG] Committing transaction.
2024-05-04 19:39:59.189 +03:00 [DBG] Committed transaction.
2024-05-04 19:39:59.190 +03:00 [DBG] Disposing transaction.
2024-05-04 19:39:59.191 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:39:59.192 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (1ms).
2024-05-04 19:39:59.292 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 19:39:59.296 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int64' ...
2024-05-04 19:39:59.298 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int64' using the name 'id' in request data ...
2024-05-04 19:39:59.299 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int64'.
2024-05-04 19:39:59.299 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int64'.
2024-05-04 19:39:59.299 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int64' ...
2024-05-04 19:39:59.300 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int64'.
2024-05-04 19:39:59.306 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.GetReport (Diary.Api) - Validation state: "Valid"
2024-05-04 19:39:59.335 +03:00 [DBG] Compiling query expression: 
'DbSet<Report>()'
2024-05-04 19:39:59.501 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Report>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Report.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Report.CreatedAt (DateTime) Required, 1], [Property: Report.CreatedBy (long) Required, 2], [Property: Report.Description (string) Required MaxLength(2000), 3], [Property: Report.Name (string) Required MaxLength(100), 4], [Property: Report.UpdatedAt (DateTime?), 5], [Property: Report.UpdatedBy (long?), 6], [Property: Report.UserId (long) Required FK Index, 7] }
        SELECT r.Id, r.CreatedAt, r.CreatedBy, r.Description, r.Name, r.UpdatedAt, r.UpdatedBy, r.UserId
        FROM Report AS r), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Report>, 
    Diary.DAL.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-05-04 19:39:59.522 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:39:59.522 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:39:59.523 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 19:39:59.523 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-04 19:39:59.523 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-04 19:39:59.523 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
2024-05-04 19:39:59.525 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
2024-05-04 19:39:59.608 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Report' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-04 19:39:59.636 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:39:59.639 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 112ms reading results.
2024-05-04 19:39:59.640 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:39:59.640 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 19:39:59.644 +03:00 [INF] Executed action method Diary.Api.Controllers.ReportController.GetReport (Diary.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 334.647ms.
2024-05-04 19:39:59.649 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-04 19:39:59.651 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-04 19:39:59.652 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-04 19:39:59.652 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-04 19:39:59.652 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-04 19:39:59.653 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-04 19:39:59.653 +03:00 [INF] Executing OkObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.ReportDto.ReportDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-04 19:39:59.671 +03:00 [INF] Executed action Diary.Api.Controllers.ReportController.GetReport (Diary.Api) in 2201.7958ms
2024-05-04 19:39:59.672 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.ReportController.GetReport (Diary.Api)'
2024-05-04 19:39:59.672 +03:00 [DBG] Connection ID "18374686524231909406" disconnecting.
2024-05-04 19:39:59.674 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-04 19:39:59.678 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:39:59.681 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-04 19:39:59.681 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/api/v1/Report/1 - 200 null application/json; charset=utf-8 2259.6769ms
2024-05-04 19:49:04.357 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-04 19:49:04.455 +03:00 [DBG] Hosting starting
2024-05-04 19:49:04.585 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-04 19:49:04.595 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 19:49:04.597 +03:00 [INF] Hosting environment: Development
2024-05-04 19:49:04.597 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-04 19:49:04.607 +03:00 [DBG] Hosting started
2024-05-04 19:49:04.665 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/index.html - null null
2024-05-04 19:49:04.672 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 19:49:04.696 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 19:49:04.697 +03:00 [DBG] Request did not match any endpoints
2024-05-04 19:49:04.853 +03:00 [DBG] Connection ID "18374686494167138324" disconnecting.
2024-05-04 19:49:04.855 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/index.html - 200 null text/html;charset=utf-8 196.366ms
2024-05-04 19:49:05.148 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-04 19:49:05.148 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 19:49:05.148 +03:00 [DBG] Request did not match any endpoints
2024-05-04 19:49:05.250 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 102.6897ms
2024-05-04 19:49:05.250 +03:00 [DBG] Connection ID "18374686489872171071" disconnecting.
2024-05-04 19:49:27.849 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/reports/1 - null null
2024-05-04 19:49:27.857 +03:00 [DBG] 1 candidate(s) found for the request path '/reports/1'
2024-05-04 19:49:27.860 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.GetAllReportsAsync (Diary.Api)' with route pattern 'reports/{userId}' is valid for the request path '/reports/1'
2024-05-04 19:49:27.861 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.GetAllReportsAsync (Diary.Api)'
2024-05-04 19:49:27.863 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 19:49:27.864 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.GetAllReportsAsync (Diary.Api)'
2024-05-04 19:49:27.892 +03:00 [INF] Route matched with {action = "GetAllReports", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.CollectionResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] GetAllReportsAsync(Int64) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-04 19:49:27.895 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-04 19:49:27.896 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 19:49:27.896 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-04 19:49:27.896 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 19:49:27.896 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-04 19:49:27.898 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 19:49:28.072 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-04 19:49:28.874 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-04 19:49:28.886 +03:00 [DBG] Creating DbConnection.
2024-05-04 19:49:28.937 +03:00 [DBG] Created DbConnection. (48ms).
2024-05-04 19:49:28.943 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:49:29.054 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:49:29.060 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:49:29.070 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (6ms).
2024-05-04 19:49:29.077 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-04 19:49:29.084 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2024-05-04 19:49:29.085 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (8ms).
2024-05-04 19:49:29.086 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:49:29.108 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:49:29.118 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 19:49:29.206 +03:00 [INF] Executed DbCommand (91ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 19:49:29.209 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:49:29.211 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-04 19:49:29.320 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 19:49:29.324 +03:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int64' ...
2024-05-04 19:49:29.326 +03:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int64' using the name 'userId' in request data ...
2024-05-04 19:49:29.327 +03:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int64'.
2024-05-04 19:49:29.328 +03:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int64'.
2024-05-04 19:49:29.328 +03:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Int64' ...
2024-05-04 19:49:29.329 +03:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Int64'.
2024-05-04 19:49:29.335 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.GetAllReportsAsync (Diary.Api) - Validation state: "Valid"
2024-05-04 19:49:29.401 +03:00 [DBG] Compiling query expression: 
'DbSet<Report>()
    .Where(x => x.UserId == __userId_0)
    .Select(x => new ReportDto(
        x.Id, 
        x.Name, 
        x.Description, 
        x.CreatedAt.ToLongDateString()
    ))'
2024-05-04 19:49:29.658 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ReportDto>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
        SELECT r.Id, r.Name, r.Description, r.CreatedAt
        FROM Report AS r
        WHERE r.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ReportDto>, 
    Diary.DAL.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-05-04 19:49:29.695 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:49:29.697 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:49:29.698 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 19:49:29.698 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-04 19:49:29.703 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-05-04 19:49:29.706 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name", r."Description", r."CreatedAt"
FROM "Report" AS r
WHERE r."UserId" = @__userId_0
2024-05-04 19:49:29.723 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name", r."Description", r."CreatedAt"
FROM "Report" AS r
WHERE r."UserId" = @__userId_0
2024-05-04 19:49:29.743 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:49:29.744 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 18ms reading results.
2024-05-04 19:49:29.747 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:49:29.748 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 19:49:29.752 +03:00 [INF] Executed action method Diary.Api.Controllers.ReportController.GetAllReportsAsync (Diary.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 413.457ms.
2024-05-04 19:49:29.756 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-04 19:49:29.758 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-04 19:49:29.759 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-04 19:49:29.759 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-04 19:49:29.759 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-04 19:49:29.760 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-04 19:49:29.760 +03:00 [INF] Executing OkObjectResult, writing value of type 'Diary.Domain.Result.CollectionResult`1[[Diary.Domain.Dto.ReportDto.ReportDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-04 19:49:29.780 +03:00 [INF] Executed action Diary.Api.Controllers.ReportController.GetAllReportsAsync (Diary.Api) in 1880.0591ms
2024-05-04 19:49:29.780 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.ReportController.GetAllReportsAsync (Diary.Api)'
2024-05-04 19:49:29.785 +03:00 [DBG] Connection ID "18374686489872171073" disconnecting.
2024-05-04 19:49:29.787 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-04 19:49:29.791 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:49:29.792 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (1ms).
2024-05-04 19:49:29.793 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/reports/1 - 200 null application/json; charset=utf-8 1945.0367ms
2024-05-04 19:49:38.177 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/reports/5 - null null
2024-05-04 19:49:38.178 +03:00 [DBG] 1 candidate(s) found for the request path '/reports/5'
2024-05-04 19:49:38.178 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.GetAllReportsAsync (Diary.Api)' with route pattern 'reports/{userId}' is valid for the request path '/reports/5'
2024-05-04 19:49:38.178 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.GetAllReportsAsync (Diary.Api)'
2024-05-04 19:49:38.178 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 19:49:38.179 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.GetAllReportsAsync (Diary.Api)'
2024-05-04 19:49:38.179 +03:00 [INF] Route matched with {action = "GetAllReports", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.CollectionResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] GetAllReportsAsync(Int64) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-04 19:49:38.179 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-04 19:49:38.179 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 19:49:38.179 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-04 19:49:38.179 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 19:49:38.179 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-04 19:49:38.180 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 19:49:38.200 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-04 19:49:38.202 +03:00 [DBG] Creating DbConnection.
2024-05-04 19:49:38.202 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-04 19:49:38.202 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:49:38.210 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:49:38.211 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:49:38.211 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 19:49:38.212 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-04 19:49:38.212 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-05-04 19:49:38.212 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-05-04 19:49:38.212 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:49:38.212 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:49:38.213 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 19:49:38.215 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 19:49:38.216 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:49:38.216 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 19:49:38.217 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 19:49:38.217 +03:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int64' ...
2024-05-04 19:49:38.217 +03:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int64' using the name 'userId' in request data ...
2024-05-04 19:49:38.217 +03:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int64'.
2024-05-04 19:49:38.217 +03:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int64'.
2024-05-04 19:49:38.218 +03:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Int64' ...
2024-05-04 19:49:38.218 +03:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Int64'.
2024-05-04 19:49:38.218 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.GetAllReportsAsync (Diary.Api) - Validation state: "Valid"
2024-05-04 19:49:38.221 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:49:38.221 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:49:38.221 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 19:49:38.222 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-04 19:49:38.222 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-04 19:49:38.222 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name", r."Description", r."CreatedAt"
FROM "Report" AS r
WHERE r."UserId" = @__userId_0
2024-05-04 19:49:38.234 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name", r."Description", r."CreatedAt"
FROM "Report" AS r
WHERE r."UserId" = @__userId_0
2024-05-04 19:49:38.239 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:49:38.240 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 5ms reading results.
2024-05-04 19:49:38.241 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:49:38.241 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 19:49:38.244 +03:00 [WRN]   
2024-05-04 19:49:38.248 +03:00 [INF] Executed action method Diary.Api.Controllers.ReportController.GetAllReportsAsync (Diary.Api), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 29.669ms.
2024-05-04 19:49:38.251 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-04 19:49:38.251 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-04 19:49:38.251 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-04 19:49:38.251 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-04 19:49:38.251 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-04 19:49:38.251 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-04 19:49:38.251 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Diary.Domain.Result.CollectionResult`1[[Diary.Domain.Dto.ReportDto.ReportDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-04 19:49:38.254 +03:00 [INF] Executed action Diary.Api.Controllers.ReportController.GetAllReportsAsync (Diary.Api) in 74.3563ms
2024-05-04 19:49:38.255 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.ReportController.GetAllReportsAsync (Diary.Api)'
2024-05-04 19:49:38.259 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-04 19:49:38.259 +03:00 [DBG] Connection ID "18302628904424177690" disconnecting.
2024-05-04 19:49:38.259 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 19:49:38.259 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 19:49:38.259 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/reports/5 - 400 null application/json; charset=utf-8 82.3878ms
2024-05-04 19:59:33.922 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-04 19:59:34.004 +03:00 [DBG] Hosting starting
2024-05-04 19:59:34.137 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-04 19:59:34.138 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 19:59:34.148 +03:00 [INF] Hosting environment: Development
2024-05-04 19:59:34.149 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-04 19:59:34.149 +03:00 [DBG] Hosting started
2024-05-04 19:59:34.214 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/index.html - null null
2024-05-04 19:59:34.221 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 19:59:34.242 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 19:59:34.243 +03:00 [DBG] Request did not match any endpoints
2024-05-04 19:59:34.389 +03:00 [DBG] Connection ID "18374686502757072920" disconnecting.
2024-05-04 19:59:34.391 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/index.html - 200 null text/html;charset=utf-8 184.7647ms
2024-05-04 19:59:34.679 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-04 19:59:34.680 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 19:59:34.680 +03:00 [DBG] Request did not match any endpoints
2024-05-04 19:59:34.749 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Conflicting method/path combination "GET api/v1/Report/{id}" for actions - Diary.Api.Controllers.ReportController.GetReportAsync (Diary.Api),Diary.Api.Controllers.ReportController.DeleteReportAsync (Diary.Api). Actions require a unique method/path combination for Swagger/OpenAPI 3.0. Use ConflictingActionsResolver as a workaround
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-04 19:59:34.770 +03:00 [DBG] Connection ID "18158513724938256389" disconnecting.
2024-05-04 19:59:34.770 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 500 null text/plain; charset=utf-8 91.4333ms
2024-05-04 20:00:00.849 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-04 20:00:00.929 +03:00 [DBG] Hosting starting
2024-05-04 20:00:01.048 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-04 20:00:01.056 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 20:00:01.061 +03:00 [INF] Hosting environment: Development
2024-05-04 20:00:01.065 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-04 20:00:01.066 +03:00 [DBG] Hosting started
2024-05-04 20:00:01.116 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/index.html - null null
2024-05-04 20:00:01.121 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 20:00:01.140 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 20:00:01.140 +03:00 [DBG] Request did not match any endpoints
2024-05-04 20:00:01.260 +03:00 [DBG] Connection ID "18374686524231909408" disconnecting.
2024-05-04 20:00:01.261 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/index.html - 200 null text/html;charset=utf-8 150.8433ms
2024-05-04 20:00:01.538 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-04 20:00:01.539 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 20:00:01.539 +03:00 [DBG] Request did not match any endpoints
2024-05-04 20:00:01.616 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Conflicting method/path combination "GET api/v1/Report/{id}" for actions - Diary.Api.Controllers.ReportController.GetReportAsync (Diary.Api),Diary.Api.Controllers.ReportController.DeleteReportAsync (Diary.Api). Actions require a unique method/path combination for Swagger/OpenAPI 3.0. Use ConflictingActionsResolver as a workaround
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-04 20:00:01.636 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 500 null text/plain; charset=utf-8 97.8843ms
2024-05-04 20:00:01.636 +03:00 [DBG] Connection ID "18374686515641974829" disconnecting.
2024-05-04 20:00:45.649 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-04 20:00:45.724 +03:00 [DBG] Hosting starting
2024-05-04 20:00:45.841 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-04 20:00:45.843 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 20:00:45.855 +03:00 [INF] Hosting environment: Development
2024-05-04 20:00:45.860 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-04 20:00:45.860 +03:00 [DBG] Hosting started
2024-05-04 20:00:45.905 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/index.html - null null
2024-05-04 20:00:45.910 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 20:00:45.928 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 20:00:45.929 +03:00 [DBG] Request did not match any endpoints
2024-05-04 20:00:46.050 +03:00 [DBG] Connection ID "18374686481282236469" disconnecting.
2024-05-04 20:00:46.052 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/index.html - 200 null text/html;charset=utf-8 152.9235ms
2024-05-04 20:00:46.342 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-04 20:00:46.342 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 20:00:46.342 +03:00 [DBG] Request did not match any endpoints
2024-05-04 20:00:46.457 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 114.0286ms
2024-05-04 20:00:46.460 +03:00 [DBG] Connection ID "18374686515641974831" disconnecting.
2024-05-04 20:01:25.716 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-04 20:01:25.796 +03:00 [DBG] Hosting starting
2024-05-04 20:01:25.915 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-04 20:01:25.924 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 20:01:25.925 +03:00 [INF] Hosting environment: Development
2024-05-04 20:01:25.928 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-04 20:01:25.933 +03:00 [DBG] Hosting started
2024-05-04 20:01:25.980 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/index.html - null null
2024-05-04 20:01:25.985 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 20:01:26.009 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 20:01:26.010 +03:00 [DBG] Request did not match any endpoints
2024-05-04 20:01:26.136 +03:00 [DBG] Connection ID "18374686485577203737" disconnecting.
2024-05-04 20:01:26.137 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/index.html - 200 null text/html;charset=utf-8 161.9952ms
2024-05-04 20:01:26.440 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-04 20:01:26.441 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 20:01:26.441 +03:00 [DBG] Request did not match any endpoints
2024-05-04 20:01:26.527 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Conflicting method/path combination "GET api/v1/Report/{id}" for actions - Diary.Api.Controllers.ReportController.GetReportAsync (Diary.Api),Diary.Api.Controllers.ReportController.DeleteReportAsync (Diary.Api). Actions require a unique method/path combination for Swagger/OpenAPI 3.0. Use ConflictingActionsResolver as a workaround
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-04 20:01:26.550 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 500 null text/plain; charset=utf-8 110.1388ms
2024-05-04 20:01:26.555 +03:00 [DBG] Connection ID "18374686485577203739" disconnecting.
2024-05-04 20:02:17.677 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-04 20:02:17.757 +03:00 [DBG] Hosting starting
2024-05-04 20:02:17.878 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-04 20:02:17.887 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 20:02:17.896 +03:00 [INF] Hosting environment: Development
2024-05-04 20:02:17.896 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-04 20:02:17.897 +03:00 [DBG] Hosting started
2024-05-04 20:02:17.947 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/index.html - null null
2024-05-04 20:02:17.954 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 20:02:17.980 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 20:02:17.980 +03:00 [DBG] Request did not match any endpoints
2024-05-04 20:02:18.103 +03:00 [DBG] Connection ID "18302628891539275795" disconnecting.
2024-05-04 20:02:18.104 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/index.html - 200 null text/html;charset=utf-8 166.0455ms
2024-05-04 20:02:18.396 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-04 20:02:18.396 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 20:02:18.396 +03:00 [DBG] Request did not match any endpoints
2024-05-04 20:02:18.500 +03:00 [DBG] Connection ID "18374686481282236471" disconnecting.
2024-05-04 20:02:18.500 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 105.0452ms
2024-05-04 20:03:01.424 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:44308/api/v1/Report/1 - null null
2024-05-04 20:03:01.433 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report/1'
2024-05-04 20:03:01.437 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.DeleteReportAsync (Diary.Api)' with route pattern 'api/v1/Report/{id}' is valid for the request path '/api/v1/Report/1'
2024-05-04 20:03:01.437 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.DeleteReportAsync (Diary.Api)'
2024-05-04 20:03:01.439 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 20:03:01.440 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.DeleteReportAsync (Diary.Api)'
2024-05-04 20:03:01.471 +03:00 [INF] Route matched with {action = "DeleteReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] DeleteReportAsync(Int64) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-04 20:03:01.475 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-04 20:03:01.475 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 20:03:01.476 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-04 20:03:01.476 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 20:03:01.476 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-04 20:03:01.478 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 20:03:01.642 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-04 20:03:02.477 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-04 20:03:02.490 +03:00 [DBG] Creating DbConnection.
2024-05-04 20:03:02.541 +03:00 [DBG] Created DbConnection. (48ms).
2024-05-04 20:03:02.547 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:03:02.665 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:03:02.672 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:03:02.682 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (6ms).
2024-05-04 20:03:02.690 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-04 20:03:02.697 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2024-05-04 20:03:02.698 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (9ms).
2024-05-04 20:03:02.698 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:03:02.723 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:03:02.732 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 20:03:02.820 +03:00 [INF] Executed DbCommand (89ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 20:03:02.823 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:03:02.825 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-04 20:03:02.913 +03:00 [INF] Executed action Diary.Api.Controllers.ReportController.DeleteReportAsync (Diary.Api) in 1433.2844ms
2024-05-04 20:03:02.914 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.ReportController.DeleteReportAsync (Diary.Api)'
2024-05-04 20:03:02.916 +03:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperConfigurationException: The type Report does not have a constructor.
Diary.Domain.Entity.Report
   at AutoMapper.Configuration.CtorParamConfigurationExpression`2.Configure(TypeMap typeMap)
   at AutoMapper.Configuration.TypeMapConfiguration.AddCtorParamConfigurations(TypeMap typeMap)
   at AutoMapper.Configuration.TypeMapConfiguration.Configure(TypeMap typeMap, List`1 sourceMembers)
   at AutoMapper.ProfileMap.BuildTypeMap(IGlobalConfiguration configuration, TypeMapConfiguration config)
   at AutoMapper.ProfileMap.Register(IGlobalConfiguration configuration)
   at AutoMapper.MapperConfiguration.<.ctor>g__Seal|20_0()
   at AutoMapper.MapperConfiguration..ctor(MapperConfigurationExpression configurationExpression)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionExtensions.<>c.<AddAutoMapperClasses>b__12_2(IServiceProvider sp)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionExtensions.<>c.<AddAutoMapperClasses>b__12_3(IServiceProvider sp)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean hasDefaultValue, Object key)
   at lambda_method9(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-04 20:03:02.951 +03:00 [DBG] Connection ID "18158513724938256391" disconnecting.
2024-05-04 20:03:02.953 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-04 20:03:02.957 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:03:02.960 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-04 20:03:02.961 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:44308/api/v1/Report/1 - 500 null text/plain; charset=utf-8 1536.623ms
2024-05-04 20:04:06.066 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-04 20:04:06.141 +03:00 [DBG] Hosting starting
2024-05-04 20:04:06.252 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-04 20:04:06.260 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 20:04:06.271 +03:00 [INF] Hosting environment: Development
2024-05-04 20:04:06.271 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-04 20:04:06.271 +03:00 [DBG] Hosting started
2024-05-04 20:04:06.315 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/index.html - null null
2024-05-04 20:04:06.320 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 20:04:06.339 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 20:04:06.339 +03:00 [DBG] Request did not match any endpoints
2024-05-04 20:04:06.457 +03:00 [DBG] Connection ID "18374686498462105671" disconnecting.
2024-05-04 20:04:06.459 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/index.html - 200 null text/html;charset=utf-8 148.7252ms
2024-05-04 20:04:06.749 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-04 20:04:06.750 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 20:04:06.750 +03:00 [DBG] Request did not match any endpoints
2024-05-04 20:04:06.857 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 107.0275ms
2024-05-04 20:04:06.860 +03:00 [DBG] Connection ID "18230571293206380564" disconnecting.
2024-05-04 20:04:18.874 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:44308/api/v1/Report/1 - null null
2024-05-04 20:04:18.877 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report/1'
2024-05-04 20:04:18.881 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.DeleteReportAsync (Diary.Api)' with route pattern 'api/v1/Report/{id}' is valid for the request path '/api/v1/Report/1'
2024-05-04 20:04:18.882 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.DeleteReportAsync (Diary.Api)'
2024-05-04 20:04:18.884 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 20:04:18.885 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.DeleteReportAsync (Diary.Api)'
2024-05-04 20:04:18.913 +03:00 [INF] Route matched with {action = "DeleteReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] DeleteReportAsync(Int64) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-04 20:04:18.917 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-04 20:04:18.917 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 20:04:18.918 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-04 20:04:18.918 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 20:04:18.918 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-04 20:04:18.920 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 20:04:19.090 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-04 20:04:19.893 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-04 20:04:19.905 +03:00 [DBG] Creating DbConnection.
2024-05-04 20:04:19.954 +03:00 [DBG] Created DbConnection. (46ms).
2024-05-04 20:04:19.960 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:04:20.081 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:04:20.088 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:04:20.099 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (7ms).
2024-05-04 20:04:20.107 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-04 20:04:20.114 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2024-05-04 20:04:20.116 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (9ms).
2024-05-04 20:04:20.116 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:04:20.139 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:04:20.149 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 20:04:20.240 +03:00 [INF] Executed DbCommand (92ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 20:04:20.243 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:04:20.245 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-04 20:04:20.332 +03:00 [INF] Executed action Diary.Api.Controllers.ReportController.DeleteReportAsync (Diary.Api) in 1410.0828ms
2024-05-04 20:04:20.333 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.ReportController.DeleteReportAsync (Diary.Api)'
2024-05-04 20:04:20.335 +03:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperConfigurationException: The type Report does not have a constructor.
Diary.Domain.Entity.Report
   at AutoMapper.Configuration.CtorParamConfigurationExpression`2.Configure(TypeMap typeMap)
   at AutoMapper.Configuration.TypeMapConfiguration.AddCtorParamConfigurations(TypeMap typeMap)
   at AutoMapper.Configuration.TypeMapConfiguration.Configure(TypeMap typeMap, List`1 sourceMembers)
   at AutoMapper.ProfileMap.BuildTypeMap(IGlobalConfiguration configuration, TypeMapConfiguration config)
   at AutoMapper.ProfileMap.Register(IGlobalConfiguration configuration)
   at AutoMapper.MapperConfiguration.<.ctor>g__Seal|20_0()
   at AutoMapper.MapperConfiguration..ctor(MapperConfigurationExpression configurationExpression)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionExtensions.<>c.<AddAutoMapperClasses>b__12_2(IServiceProvider sp)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionExtensions.<>c.<AddAutoMapperClasses>b__12_3(IServiceProvider sp)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean hasDefaultValue, Object key)
   at lambda_method9(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-04 20:04:20.364 +03:00 [DBG] Connection ID "18374686519936942116" disconnecting.
2024-05-04 20:04:20.366 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-04 20:04:20.371 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:04:20.374 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (3ms).
2024-05-04 20:04:20.374 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:44308/api/v1/Report/1 - 500 null text/plain; charset=utf-8 1500.6887ms
2024-05-04 20:04:47.027 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-04 20:04:47.110 +03:00 [DBG] Hosting starting
2024-05-04 20:04:47.223 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-04 20:04:47.231 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 20:04:47.233 +03:00 [INF] Hosting environment: Development
2024-05-04 20:04:47.239 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-04 20:04:47.240 +03:00 [DBG] Hosting started
2024-05-04 20:04:47.283 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/index.html - null null
2024-05-04 20:04:47.288 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 20:04:47.306 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 20:04:47.306 +03:00 [DBG] Request did not match any endpoints
2024-05-04 20:04:47.427 +03:00 [DBG] Connection ID "18374686502757072922" disconnecting.
2024-05-04 20:04:47.429 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/index.html - 200 null text/html;charset=utf-8 150.9985ms
2024-05-04 20:04:47.692 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-04 20:04:47.693 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 20:04:47.693 +03:00 [DBG] Request did not match any endpoints
2024-05-04 20:04:47.812 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 119.2725ms
2024-05-04 20:04:47.815 +03:00 [DBG] Connection ID "18374686524231909411" disconnecting.
2024-05-04 20:05:22.412 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:44308/api/v1/Report/1 - null null
2024-05-04 20:05:22.420 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report/1'
2024-05-04 20:05:22.424 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.DeleteReportAsync (Diary.Api)' with route pattern 'api/v1/Report/{id}' is valid for the request path '/api/v1/Report/1'
2024-05-04 20:05:22.424 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.DeleteReportAsync (Diary.Api)'
2024-05-04 20:05:22.427 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 20:05:22.427 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.DeleteReportAsync (Diary.Api)'
2024-05-04 20:05:22.456 +03:00 [INF] Route matched with {action = "DeleteReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] DeleteReportAsync(Int64) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-04 20:05:22.459 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-04 20:05:22.459 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 20:05:22.460 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-04 20:05:22.460 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 20:05:22.460 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-04 20:05:22.462 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 20:05:22.637 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-04 20:05:23.486 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-04 20:05:23.501 +03:00 [DBG] Creating DbConnection.
2024-05-04 20:05:23.554 +03:00 [DBG] Created DbConnection. (51ms).
2024-05-04 20:05:23.561 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:05:23.675 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:05:23.681 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:05:23.691 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (6ms).
2024-05-04 20:05:23.699 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-04 20:05:23.707 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2024-05-04 20:05:23.708 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (9ms).
2024-05-04 20:05:23.708 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:05:23.732 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:05:23.741 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 20:05:23.832 +03:00 [INF] Executed DbCommand (93ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 20:05:23.834 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:05:23.837 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-04 20:05:23.920 +03:00 [INF] Executed action Diary.Api.Controllers.ReportController.DeleteReportAsync (Diary.Api) in 1456.2932ms
2024-05-04 20:05:23.921 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.ReportController.DeleteReportAsync (Diary.Api)'
2024-05-04 20:05:23.924 +03:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperConfigurationException: The type Report does not have a constructor.
Diary.Domain.Entity.Report
   at AutoMapper.Configuration.CtorParamConfigurationExpression`2.Configure(TypeMap typeMap)
   at AutoMapper.Configuration.TypeMapConfiguration.AddCtorParamConfigurations(TypeMap typeMap)
   at AutoMapper.Configuration.TypeMapConfiguration.Configure(TypeMap typeMap, List`1 sourceMembers)
   at AutoMapper.ProfileMap.BuildTypeMap(IGlobalConfiguration configuration, TypeMapConfiguration config)
   at AutoMapper.ProfileMap.Register(IGlobalConfiguration configuration)
   at AutoMapper.MapperConfiguration.<.ctor>g__Seal|20_0()
   at AutoMapper.MapperConfiguration..ctor(MapperConfigurationExpression configurationExpression)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionExtensions.<>c.<AddAutoMapperClasses>b__12_2(IServiceProvider sp)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionExtensions.<>c.<AddAutoMapperClasses>b__12_3(IServiceProvider sp)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean hasDefaultValue, Object key)
   at lambda_method9(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-04 20:05:23.951 +03:00 [DBG] Connection ID "18374686481282236473" disconnecting.
2024-05-04 20:05:23.953 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-04 20:05:23.957 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:05:23.960 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-04 20:05:23.961 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:44308/api/v1/Report/1 - 500 null text/plain; charset=utf-8 1548.554ms
2024-05-04 20:05:51.674 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/api/v1/Report/1 - null null
2024-05-04 20:05:51.674 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report/1'
2024-05-04 20:05:51.674 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.GetReportAsync (Diary.Api)' with route pattern 'api/v1/Report/{id}' is valid for the request path '/api/v1/Report/1'
2024-05-04 20:05:51.674 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.GetReportAsync (Diary.Api)'
2024-05-04 20:05:51.675 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 20:05:51.675 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.GetReportAsync (Diary.Api)'
2024-05-04 20:05:51.678 +03:00 [INF] Route matched with {action = "GetReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] GetReportAsync(Int64) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-04 20:05:51.678 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-04 20:05:51.679 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 20:05:51.679 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-04 20:05:51.679 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 20:05:51.679 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-04 20:05:51.679 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 20:05:51.725 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-04 20:05:51.727 +03:00 [DBG] Creating DbConnection.
2024-05-04 20:05:51.727 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-04 20:05:51.727 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:05:51.739 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:05:51.739 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:05:51.739 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 20:05:51.740 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-04 20:05:51.740 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-05-04 20:05:51.740 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-05-04 20:05:51.740 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:05:51.741 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:05:51.741 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 20:05:51.744 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 20:05:51.744 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:05:51.744 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 20:05:51.747 +03:00 [INF] Executed action Diary.Api.Controllers.ReportController.GetReportAsync (Diary.Api) in 68.1846ms
2024-05-04 20:05:51.748 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.ReportController.GetReportAsync (Diary.Api)'
2024-05-04 20:05:51.749 +03:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperConfigurationException: The type Report does not have a constructor.
Diary.Domain.Entity.Report
   at AutoMapper.Configuration.CtorParamConfigurationExpression`2.Configure(TypeMap typeMap)
   at AutoMapper.Configuration.TypeMapConfiguration.AddCtorParamConfigurations(TypeMap typeMap)
   at AutoMapper.Configuration.TypeMapConfiguration.Configure(TypeMap typeMap, List`1 sourceMembers)
   at AutoMapper.ProfileMap.BuildTypeMap(IGlobalConfiguration configuration, TypeMapConfiguration config)
   at AutoMapper.ProfileMap.Register(IGlobalConfiguration configuration)
   at AutoMapper.MapperConfiguration.<.ctor>g__Seal|20_0()
   at AutoMapper.MapperConfiguration..ctor(MapperConfigurationExpression configurationExpression)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionExtensions.<>c.<AddAutoMapperClasses>b__12_2(IServiceProvider sp)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionExtensions.<>c.<AddAutoMapperClasses>b__12_3(IServiceProvider sp)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean hasDefaultValue, Object key)
   at lambda_method35(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-04 20:05:51.752 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-04 20:05:51.752 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:05:51.752 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 20:05:51.752 +03:00 [DBG] Connection ID "18374686515641974833" disconnecting.
2024-05-04 20:05:51.752 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/api/v1/Report/1 - 500 null text/plain; charset=utf-8 78.4933ms
2024-05-04 20:07:42.522 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-04 20:07:42.599 +03:00 [DBG] Hosting starting
2024-05-04 20:07:42.719 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-04 20:07:42.729 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 20:07:42.737 +03:00 [INF] Hosting environment: Development
2024-05-04 20:07:42.737 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-04 20:07:42.737 +03:00 [DBG] Hosting started
2024-05-04 20:07:42.782 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/index.html - null null
2024-05-04 20:07:42.788 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 20:07:42.812 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 20:07:42.813 +03:00 [DBG] Request did not match any endpoints
2024-05-04 20:07:42.941 +03:00 [DBG] Connection ID "18374686515641974835" disconnecting.
2024-05-04 20:07:42.943 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/index.html - 200 null text/html;charset=utf-8 165.6769ms
2024-05-04 20:07:43.212 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-04 20:07:43.213 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 20:07:43.213 +03:00 [DBG] Request did not match any endpoints
2024-05-04 20:07:43.336 +03:00 [DBG] Connection ID "18374686515641974837" disconnecting.
2024-05-04 20:07:43.336 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 123.4869ms
2024-05-04 20:07:48.950 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:44308/api/v1/Report/1 - null null
2024-05-04 20:07:48.954 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report/1'
2024-05-04 20:07:48.957 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.DeleteReportAsync (Diary.Api)' with route pattern 'api/v1/Report/{id}' is valid for the request path '/api/v1/Report/1'
2024-05-04 20:07:48.958 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.DeleteReportAsync (Diary.Api)'
2024-05-04 20:07:48.960 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 20:07:48.961 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.DeleteReportAsync (Diary.Api)'
2024-05-04 20:07:48.988 +03:00 [INF] Route matched with {action = "DeleteReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] DeleteReportAsync(Int64) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-04 20:07:48.992 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-04 20:07:48.992 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 20:07:48.993 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-04 20:07:48.993 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 20:07:48.993 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-04 20:07:48.995 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 20:07:49.160 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-04 20:07:49.960 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-04 20:07:49.974 +03:00 [DBG] Creating DbConnection.
2024-05-04 20:07:50.028 +03:00 [DBG] Created DbConnection. (52ms).
2024-05-04 20:07:50.034 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:07:50.148 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:07:50.154 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:07:50.164 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (6ms).
2024-05-04 20:07:50.171 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-04 20:07:50.179 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2024-05-04 20:07:50.180 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (9ms).
2024-05-04 20:07:50.181 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:07:50.203 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:07:50.214 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 20:07:50.302 +03:00 [INF] Executed DbCommand (89ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 20:07:50.305 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:07:50.307 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-04 20:07:50.417 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 20:07:50.421 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int64' ...
2024-05-04 20:07:50.422 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int64' using the name 'id' in request data ...
2024-05-04 20:07:50.423 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int64'.
2024-05-04 20:07:50.423 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int64'.
2024-05-04 20:07:50.423 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int64' ...
2024-05-04 20:07:50.425 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int64'.
2024-05-04 20:07:50.431 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.DeleteReportAsync (Diary.Api) - Validation state: "Valid"
2024-05-04 20:07:59.276 +03:00 [DBG] Compiling query expression: 
'DbSet<Report>()
    .FirstOrDefault(x => x.Id == __id_0)'
2024-05-04 20:07:59.498 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Report>(
    asyncEnumerable: new SingleQueryingEnumerable<Report>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Report.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Report.CreatedAt (DateTime) Required, 1], [Property: Report.CreatedBy (long) Required, 2], [Property: Report.Description (string) Required MaxLength(2000), 3], [Property: Report.Name (string) Required MaxLength(100), 4], [Property: Report.UpdatedAt (DateTime?), 5], [Property: Report.UpdatedBy (long?), 6], [Property: Report.UserId (long) Required FK Index, 7] }
            SELECT TOP(1) r.Id, r.CreatedAt, r.CreatedBy, r.Description, r.Name, r.UpdatedAt, r.UpdatedBy, r.UserId
            FROM Report AS r
            WHERE r.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Report>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-04 20:07:59.533 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:07:59.535 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:07:59.535 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 20:07:59.535 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-04 20:07:59.540 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-05-04 20:07:59.543 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Id" = @__id_0
LIMIT 1
2024-05-04 20:07:59.569 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Id" = @__id_0
LIMIT 1
2024-05-04 20:07:59.649 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Report' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-04 20:07:59.678 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:07:59.679 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 107ms reading results.
2024-05-04 20:07:59.682 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:07:59.683 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 20:08:20.991 +03:00 [DBG] An entity of type 'Report' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-04 20:08:20.994 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-05-04 20:08:20.997 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-04 20:08:21.020 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-04 20:08:21.021 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-04 20:08:21.022 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-04 20:08:21.074 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:08:21.074 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:08:21.076 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 20:08:21.076 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-04 20:08:21.076 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-04 20:08:21.077 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Report"
WHERE "Id" = @p0;
2024-05-04 20:08:21.081 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Report"
WHERE "Id" = @p0;
2024-05-04 20:08:21.084 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:08:21.085 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 3ms reading results.
2024-05-04 20:08:21.085 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:08:21.085 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 20:08:21.089 +03:00 [DBG] An entity of type 'Report' tracked by 'ApplicationDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-04 20:08:21.090 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-05-04 20:08:45.287 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-04 20:08:45.363 +03:00 [DBG] Hosting starting
2024-05-04 20:08:45.507 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-04 20:08:45.508 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 20:08:45.521 +03:00 [INF] Hosting environment: Development
2024-05-04 20:08:45.521 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-04 20:08:45.522 +03:00 [DBG] Hosting started
2024-05-04 20:08:45.602 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/index.html - null null
2024-05-04 20:08:45.609 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 20:08:45.645 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 20:08:45.646 +03:00 [DBG] Request did not match any endpoints
2024-05-04 20:08:45.796 +03:00 [DBG] Connection ID "18158513724938256395" disconnecting.
2024-05-04 20:08:45.797 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/index.html - 200 null text/html;charset=utf-8 205.2837ms
2024-05-04 20:08:46.111 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-04 20:08:46.112 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 20:08:46.112 +03:00 [DBG] Request did not match any endpoints
2024-05-04 20:08:46.238 +03:00 [DBG] Connection ID "18374686528526876688" disconnecting.
2024-05-04 20:08:46.238 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 127.6301ms
2024-05-04 20:08:51.247 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:44308/api/v1/Report/1 - null null
2024-05-04 20:08:51.251 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report/1'
2024-05-04 20:08:51.255 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.DeleteReportAsync (Diary.Api)' with route pattern 'api/v1/Report/{id}' is valid for the request path '/api/v1/Report/1'
2024-05-04 20:08:51.255 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.DeleteReportAsync (Diary.Api)'
2024-05-04 20:08:51.257 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 20:08:51.258 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.DeleteReportAsync (Diary.Api)'
2024-05-04 20:08:51.287 +03:00 [INF] Route matched with {action = "DeleteReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] DeleteReportAsync(Int64) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-04 20:08:51.290 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-04 20:08:51.290 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 20:08:51.291 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-04 20:08:51.291 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 20:08:51.291 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-04 20:08:51.293 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 20:08:51.464 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-04 20:08:52.269 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-04 20:08:52.282 +03:00 [DBG] Creating DbConnection.
2024-05-04 20:08:52.340 +03:00 [DBG] Created DbConnection. (54ms).
2024-05-04 20:08:52.350 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:08:52.482 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:08:52.488 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:08:52.499 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (7ms).
2024-05-04 20:08:52.507 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-04 20:08:52.515 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2024-05-04 20:08:52.517 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (10ms).
2024-05-04 20:08:52.517 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:08:52.542 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:08:52.553 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 20:08:52.641 +03:00 [INF] Executed DbCommand (91ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 20:08:52.643 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:08:52.645 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-04 20:08:52.756 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 20:08:52.761 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int64' ...
2024-05-04 20:08:52.763 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int64' using the name 'id' in request data ...
2024-05-04 20:08:52.764 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int64'.
2024-05-04 20:08:52.764 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int64'.
2024-05-04 20:08:52.764 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int64' ...
2024-05-04 20:08:52.766 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int64'.
2024-05-04 20:08:52.772 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.DeleteReportAsync (Diary.Api) - Validation state: "Valid"
2024-05-04 20:09:11.470 +03:00 [DBG] Compiling query expression: 
'DbSet<Report>()
    .FirstOrDefault(x => x.Id == __id_0)'
2024-05-04 20:09:11.689 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Report>(
    asyncEnumerable: new SingleQueryingEnumerable<Report>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Report.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Report.CreatedAt (DateTime) Required, 1], [Property: Report.CreatedBy (long) Required, 2], [Property: Report.Description (string) Required MaxLength(2000), 3], [Property: Report.Name (string) Required MaxLength(100), 4], [Property: Report.UpdatedAt (DateTime?), 5], [Property: Report.UpdatedBy (long?), 6], [Property: Report.UserId (long) Required FK Index, 7] }
            SELECT TOP(1) r.Id, r.CreatedAt, r.CreatedBy, r.Description, r.Name, r.UpdatedAt, r.UpdatedBy, r.UserId
            FROM Report AS r
            WHERE r.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Report>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-04 20:09:11.728 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:09:11.730 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:09:11.730 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 20:09:11.730 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-04 20:09:11.735 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-05-04 20:09:11.737 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Id" = @__id_0
LIMIT 1
2024-05-04 20:09:11.772 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Id" = @__id_0
LIMIT 1
2024-05-04 20:09:11.783 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:09:11.784 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 10ms reading results.
2024-05-04 20:09:11.789 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:09:11.790 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 20:09:11.797 +03:00 [INF] Executed action method Diary.Api.Controllers.ReportController.DeleteReportAsync (Diary.Api), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 19021.996ms.
2024-05-04 20:09:11.802 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-04 20:09:11.804 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-04 20:09:11.805 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-04 20:09:11.805 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-04 20:09:11.805 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-04 20:09:11.806 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-04 20:09:11.806 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.ReportDto.ReportDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-04 20:09:11.825 +03:00 [INF] Executed action Diary.Api.Controllers.ReportController.DeleteReportAsync (Diary.Api) in 20530.0725ms
2024-05-04 20:09:11.825 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.ReportController.DeleteReportAsync (Diary.Api)'
2024-05-04 20:09:11.828 +03:00 [DBG] Connection ID "18302628930193981447" disconnecting.
2024-05-04 20:09:11.831 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-04 20:09:11.834 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:09:11.836 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (1ms).
2024-05-04 20:09:11.836 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:44308/api/v1/Report/1 - 400 null application/json; charset=utf-8 20589.2602ms
2024-05-04 20:10:35.200 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-04 20:10:35.277 +03:00 [DBG] Hosting starting
2024-05-04 20:10:35.392 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-04 20:10:35.400 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 20:10:35.404 +03:00 [INF] Hosting environment: Development
2024-05-04 20:10:35.409 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-04 20:10:35.409 +03:00 [DBG] Hosting started
2024-05-04 20:10:35.455 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/index.html - null null
2024-05-04 20:10:35.460 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 20:10:35.487 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 20:10:35.487 +03:00 [DBG] Request did not match any endpoints
2024-05-04 20:10:35.616 +03:00 [DBG] Connection ID "18374686494167138327" disconnecting.
2024-05-04 20:10:35.618 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/index.html - 200 null text/html;charset=utf-8 168.9326ms
2024-05-04 20:10:35.881 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-04 20:10:35.882 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 20:10:35.882 +03:00 [DBG] Request did not match any endpoints
2024-05-04 20:10:36.013 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 131.1586ms
2024-05-04 20:10:36.016 +03:00 [DBG] Connection ID "18374686528526876690" disconnecting.
2024-05-04 20:10:40.569 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:44308/api/v1/Report/1 - null null
2024-05-04 20:10:40.573 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report/1'
2024-05-04 20:10:40.577 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.DeleteReportAsync (Diary.Api)' with route pattern 'api/v1/Report/{id}' is valid for the request path '/api/v1/Report/1'
2024-05-04 20:10:40.577 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.DeleteReportAsync (Diary.Api)'
2024-05-04 20:10:40.579 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 20:10:40.580 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.DeleteReportAsync (Diary.Api)'
2024-05-04 20:10:40.608 +03:00 [INF] Route matched with {action = "DeleteReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] DeleteReportAsync(Int64) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-04 20:10:40.612 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-04 20:10:40.612 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 20:10:40.613 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-04 20:10:40.613 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 20:10:40.614 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-04 20:10:40.615 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 20:10:40.788 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-04 20:10:41.584 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-04 20:10:41.598 +03:00 [DBG] Creating DbConnection.
2024-05-04 20:10:41.647 +03:00 [DBG] Created DbConnection. (47ms).
2024-05-04 20:10:41.654 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:10:41.767 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:10:41.773 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:10:41.783 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (6ms).
2024-05-04 20:10:41.791 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-04 20:10:41.798 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2024-05-04 20:10:41.799 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (8ms).
2024-05-04 20:10:41.799 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:10:41.822 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:10:41.832 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 20:10:41.918 +03:00 [INF] Executed DbCommand (89ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 20:10:41.921 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:10:41.923 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-04 20:10:42.032 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 20:10:42.036 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int64' ...
2024-05-04 20:10:42.038 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int64' using the name 'id' in request data ...
2024-05-04 20:10:42.039 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int64'.
2024-05-04 20:10:42.039 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int64'.
2024-05-04 20:10:42.039 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int64' ...
2024-05-04 20:10:42.041 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int64'.
2024-05-04 20:10:42.047 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.DeleteReportAsync (Diary.Api) - Validation state: "Valid"
2024-05-04 20:10:48.535 +03:00 [DBG] Compiling query expression: 
'DbSet<Report>()
    .FirstOrDefault(x => x.Id == __id_0)'
2024-05-04 20:10:48.756 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Report>(
    asyncEnumerable: new SingleQueryingEnumerable<Report>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Report.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Report.CreatedAt (DateTime) Required, 1], [Property: Report.CreatedBy (long) Required, 2], [Property: Report.Description (string) Required MaxLength(2000), 3], [Property: Report.Name (string) Required MaxLength(100), 4], [Property: Report.UpdatedAt (DateTime?), 5], [Property: Report.UpdatedBy (long?), 6], [Property: Report.UserId (long) Required FK Index, 7] }
            SELECT TOP(1) r.Id, r.CreatedAt, r.CreatedBy, r.Description, r.Name, r.UpdatedAt, r.UpdatedBy, r.UserId
            FROM Report AS r
            WHERE r.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Report>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-04 20:10:48.797 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:10:48.800 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:10:48.800 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 20:10:48.800 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-04 20:10:48.804 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-05-04 20:10:48.807 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Id" = @__id_0
LIMIT 1
2024-05-04 20:10:48.835 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Id" = @__id_0
LIMIT 1
2024-05-04 20:10:48.881 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:10:48.883 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 45ms reading results.
2024-05-04 20:10:48.887 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:10:48.888 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 20:11:22.635 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-04 20:11:22.711 +03:00 [DBG] Hosting starting
2024-05-04 20:11:22.837 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-04 20:11:22.845 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 20:11:22.856 +03:00 [INF] Hosting environment: Development
2024-05-04 20:11:22.856 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-04 20:11:22.856 +03:00 [DBG] Hosting started
2024-05-04 20:11:22.907 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/index.html - null null
2024-05-04 20:11:22.914 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 20:11:22.938 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 20:11:22.939 +03:00 [DBG] Request did not match any endpoints
2024-05-04 20:11:23.068 +03:00 [DBG] Connection ID "18302628900129210377" disconnecting.
2024-05-04 20:11:23.069 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/index.html - 200 null text/html;charset=utf-8 169.7946ms
2024-05-04 20:11:23.357 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-04 20:11:23.358 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 20:11:23.358 +03:00 [DBG] Request did not match any endpoints
2024-05-04 20:11:23.466 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 107.4592ms
2024-05-04 20:11:23.468 +03:00 [DBG] Connection ID "18374686515641974839" disconnecting.
2024-05-04 20:11:55.698 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:44308/api/v1/Report/1 - null null
2024-05-04 20:11:55.703 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report/1'
2024-05-04 20:11:55.707 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.DeleteReportAsync (Diary.Api)' with route pattern 'api/v1/Report/{id}' is valid for the request path '/api/v1/Report/1'
2024-05-04 20:11:55.707 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.DeleteReportAsync (Diary.Api)'
2024-05-04 20:11:55.709 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 20:11:55.710 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.DeleteReportAsync (Diary.Api)'
2024-05-04 20:11:55.739 +03:00 [INF] Route matched with {action = "DeleteReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] DeleteReportAsync(Int64) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-04 20:11:55.742 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-04 20:11:55.742 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 20:11:55.743 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-04 20:11:55.743 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 20:11:55.744 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-04 20:11:55.745 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 20:11:55.909 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-04 20:11:56.721 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-04 20:11:56.734 +03:00 [DBG] Creating DbConnection.
2024-05-04 20:11:56.802 +03:00 [DBG] Created DbConnection. (66ms).
2024-05-04 20:11:56.808 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:11:56.922 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:11:56.928 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:11:56.938 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (6ms).
2024-05-04 20:11:56.945 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-04 20:11:56.952 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2024-05-04 20:11:56.953 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (8ms).
2024-05-04 20:11:56.953 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:11:56.977 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:11:56.987 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 20:11:57.072 +03:00 [INF] Executed DbCommand (88ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 20:11:57.074 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:11:57.077 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-04 20:11:57.185 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 20:11:57.190 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int64' ...
2024-05-04 20:11:57.192 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int64' using the name 'id' in request data ...
2024-05-04 20:11:57.193 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int64'.
2024-05-04 20:11:57.193 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int64'.
2024-05-04 20:11:57.193 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int64' ...
2024-05-04 20:11:57.195 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int64'.
2024-05-04 20:11:57.200 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.DeleteReportAsync (Diary.Api) - Validation state: "Valid"
2024-05-04 20:12:05.397 +03:00 [DBG] Compiling query expression: 
'DbSet<Report>()
    .FirstOrDefault(x => x.Id == __id_0)'
2024-05-04 20:12:05.606 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Report>(
    asyncEnumerable: new SingleQueryingEnumerable<Report>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Report.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Report.CreatedAt (DateTime) Required, 1], [Property: Report.CreatedBy (long) Required, 2], [Property: Report.Description (string) Required MaxLength(2000), 3], [Property: Report.Name (string) Required MaxLength(100), 4], [Property: Report.UpdatedAt (DateTime?), 5], [Property: Report.UpdatedBy (long?), 6], [Property: Report.UserId (long) Required FK Index, 7] }
            SELECT TOP(1) r.Id, r.CreatedAt, r.CreatedBy, r.Description, r.Name, r.UpdatedAt, r.UpdatedBy, r.UserId
            FROM Report AS r
            WHERE r.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Report>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-04 20:12:05.640 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:12:05.642 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:12:05.642 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 20:12:05.642 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-04 20:12:05.647 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-05-04 20:12:05.649 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Id" = @__id_0
LIMIT 1
2024-05-04 20:12:05.682 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Id" = @__id_0
LIMIT 1
2024-05-04 20:12:05.728 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:12:05.730 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 46ms reading results.
2024-05-04 20:12:05.735 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:12:05.736 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (1ms).
2024-05-04 20:14:43.945 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-04 20:14:44.046 +03:00 [DBG] Hosting starting
2024-05-04 20:14:44.191 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-04 20:14:44.200 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 20:14:44.210 +03:00 [INF] Hosting environment: Development
2024-05-04 20:14:44.210 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-04 20:14:44.210 +03:00 [DBG] Hosting started
2024-05-04 20:14:44.262 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/index.html - null null
2024-05-04 20:14:44.267 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 20:14:44.288 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 20:14:44.289 +03:00 [DBG] Request did not match any endpoints
2024-05-04 20:14:44.414 +03:00 [DBG] Connection ID "18374686502757072924" disconnecting.
2024-05-04 20:14:44.416 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/index.html - 200 null text/html;charset=utf-8 161.1554ms
2024-05-04 20:14:44.732 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-04 20:14:44.733 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 20:14:44.733 +03:00 [DBG] Request did not match any endpoints
2024-05-04 20:14:44.855 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 118.2332ms
2024-05-04 20:14:44.855 +03:00 [DBG] Connection ID "18374686515641974841" disconnecting.
2024-05-04 20:14:50.106 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:44308/api/v1/Report/1 - null null
2024-05-04 20:14:50.109 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report/1'
2024-05-04 20:14:50.113 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.DeleteReportAsync (Diary.Api)' with route pattern 'api/v1/Report/{id}' is valid for the request path '/api/v1/Report/1'
2024-05-04 20:14:50.114 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.DeleteReportAsync (Diary.Api)'
2024-05-04 20:14:50.116 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 20:14:50.116 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.DeleteReportAsync (Diary.Api)'
2024-05-04 20:14:50.144 +03:00 [INF] Route matched with {action = "DeleteReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] DeleteReportAsync(Int64) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-04 20:14:50.148 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-04 20:14:50.148 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 20:14:50.148 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-04 20:14:50.149 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 20:14:50.149 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-04 20:14:50.150 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 20:14:50.319 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-04 20:14:51.121 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-04 20:14:51.133 +03:00 [DBG] Creating DbConnection.
2024-05-04 20:14:51.183 +03:00 [DBG] Created DbConnection. (47ms).
2024-05-04 20:14:51.190 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:14:51.311 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:14:51.317 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:14:51.327 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (6ms).
2024-05-04 20:14:51.334 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-04 20:14:51.341 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2024-05-04 20:14:51.343 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (8ms).
2024-05-04 20:14:51.343 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:14:51.370 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:14:51.380 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 20:14:51.469 +03:00 [INF] Executed DbCommand (92ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 20:14:51.472 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:14:51.474 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-04 20:14:51.585 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 20:14:51.589 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int64' ...
2024-05-04 20:14:51.591 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int64' using the name 'id' in request data ...
2024-05-04 20:14:51.592 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int64'.
2024-05-04 20:14:51.592 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int64'.
2024-05-04 20:14:51.592 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int64' ...
2024-05-04 20:14:51.594 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int64'.
2024-05-04 20:14:51.600 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.DeleteReportAsync (Diary.Api) - Validation state: "Valid"
2024-05-04 20:15:00.484 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Report' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-04 20:15:00.487 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-05-04 20:15:00.490 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-04 20:15:00.506 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-04 20:15:00.519 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-04 20:15:00.519 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-04 20:15:00.579 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:15:00.579 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:15:00.581 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 20:15:00.582 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-04 20:15:00.587 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-05-04 20:15:00.590 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int64), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int64), @p7='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("Id", "CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-05-04 20:15:00.619 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int64), @p3='?', @p4='?', @p5='?' (DbType = DateTime), @p6='?' (DbType = Int64), @p7='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("Id", "CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-05-04 20:15:00.624 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:15:00.625 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 4ms reading results.
2024-05-04 20:15:00.627 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:15:00.627 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 20:15:00.633 +03:00 [DBG] An entity of type 'Report' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-04 20:15:00.634 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-05-04 20:15:11.018 +03:00 [DBG] Compiling query expression: 
'DbSet<Report>()
    .FirstOrDefault(x => x.Id == __id_0)'
2024-05-04 20:15:11.245 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Report>(
    asyncEnumerable: new SingleQueryingEnumerable<Report>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Report.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Report.CreatedAt (DateTime) Required, 1], [Property: Report.CreatedBy (long) Required, 2], [Property: Report.Description (string) Required MaxLength(2000), 3], [Property: Report.Name (string) Required MaxLength(100), 4], [Property: Report.UpdatedAt (DateTime?), 5], [Property: Report.UpdatedBy (long?), 6], [Property: Report.UserId (long) Required FK Index, 7] }
            SELECT TOP(1) r.Id, r.CreatedAt, r.CreatedBy, r.Description, r.Name, r.UpdatedAt, r.UpdatedBy, r.UserId
            FROM Report AS r
            WHERE r.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Report>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-04 20:15:11.281 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:15:11.283 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:15:11.283 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 20:15:11.283 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-04 20:15:11.283 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-04 20:15:11.284 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Id" = @__id_0
LIMIT 1
2024-05-04 20:15:11.305 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Id" = @__id_0
LIMIT 1
2024-05-04 20:15:11.353 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:15:11.353 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 47ms reading results.
2024-05-04 20:15:11.356 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:15:11.357 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 20:15:18.729 +03:00 [DBG] An entity of type 'Report' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-04 20:15:18.730 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-05-04 20:15:18.730 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-04 20:15:18.730 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-04 20:15:18.730 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-04 20:15:18.730 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-04 20:15:18.735 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:15:18.735 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:15:18.735 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 20:15:18.735 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-04 20:15:18.736 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-04 20:15:18.736 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Report"
WHERE "Id" = @p0;
2024-05-04 20:15:18.739 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Report"
WHERE "Id" = @p0;
2024-05-04 20:15:18.739 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:15:18.739 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 0ms reading results.
2024-05-04 20:15:18.739 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:15:18.740 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 20:15:18.742 +03:00 [DBG] An entity of type 'Report' tracked by 'ApplicationDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-04 20:15:18.742 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-05-04 20:15:46.757 +03:00 [INF] Executed action method Diary.Api.Controllers.ReportController.DeleteReportAsync (Diary.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 55153.8494ms.
2024-05-04 20:15:46.763 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-04 20:15:46.765 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-04 20:15:46.766 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-04 20:15:46.766 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-04 20:15:46.766 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-04 20:15:46.767 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-04 20:15:46.767 +03:00 [INF] Executing OkObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.ReportDto.ReportDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-04 20:15:46.788 +03:00 [INF] Executed action Diary.Api.Controllers.ReportController.DeleteReportAsync (Diary.Api) in 56635.8594ms
2024-05-04 20:15:46.788 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.ReportController.DeleteReportAsync (Diary.Api)'
2024-05-04 20:15:46.795 +03:00 [DBG] Connection ID "18302628930193981449" disconnecting.
2024-05-04 20:15:46.796 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-04 20:15:46.800 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:15:46.802 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-04 20:15:46.803 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:44308/api/v1/Report/1 - 200 null application/json; charset=utf-8 56697.7499ms
2024-05-04 20:25:46.302 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-04 20:25:46.405 +03:00 [DBG] Hosting starting
2024-05-04 20:25:46.535 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-04 20:25:46.536 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 20:25:46.545 +03:00 [INF] Hosting environment: Development
2024-05-04 20:25:46.546 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-04 20:25:46.546 +03:00 [DBG] Hosting started
2024-05-04 20:25:46.609 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/index.html - null null
2024-05-04 20:25:46.614 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 20:25:46.646 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 20:25:46.646 +03:00 [DBG] Request did not match any endpoints
2024-05-04 20:25:46.794 +03:00 [DBG] Connection ID "18374686528526876692" disconnecting.
2024-05-04 20:25:46.796 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/index.html - 200 null text/html;charset=utf-8 192.4071ms
2024-05-04 20:25:47.075 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-04 20:25:47.076 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 20:25:47.076 +03:00 [DBG] Request did not match any endpoints
2024-05-04 20:25:47.190 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 114.3819ms
2024-05-04 20:25:47.193 +03:00 [DBG] Connection ID "18302628930193981451" disconnecting.
2024-05-04 20:26:09.543 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/reports/1 - null null
2024-05-04 20:26:09.548 +03:00 [DBG] 1 candidate(s) found for the request path '/reports/1'
2024-05-04 20:26:09.552 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api)' with route pattern 'reports/{userId}' is valid for the request path '/reports/1'
2024-05-04 20:26:09.553 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api)'
2024-05-04 20:26:09.557 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 20:26:09.557 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api)'
2024-05-04 20:26:09.587 +03:00 [INF] Route matched with {action = "GetReports", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.CollectionResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] GetReportsAsync(Int64) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-04 20:26:09.591 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-04 20:26:09.591 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 20:26:09.592 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-04 20:26:09.592 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 20:26:09.593 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-04 20:26:09.594 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 20:26:09.761 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-04 20:26:10.601 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-04 20:26:10.614 +03:00 [DBG] Creating DbConnection.
2024-05-04 20:26:10.665 +03:00 [DBG] Created DbConnection. (48ms).
2024-05-04 20:26:10.671 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:26:10.783 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:26:10.789 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:26:10.799 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (6ms).
2024-05-04 20:26:10.814 +03:00 [DBG] Creating DbConnection.
2024-05-04 20:26:10.814 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-04 20:26:10.814 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-04 20:26:10.844 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-04 20:26:10.848 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-04 20:26:10.855 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (4ms).
2024-05-04 20:26:10.857 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (9ms).
2024-05-04 20:26:10.863 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "Diary" WITH (FORCE);
2024-05-04 20:26:11.052 +03:00 [INF] Executed DbCommand (189ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "Diary" WITH (FORCE);
2024-05-04 20:26:11.054 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-04 20:26:11.055 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5438' (0ms).
2024-05-04 20:26:11.056 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-04 20:26:11.057 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5438' (0ms).
2024-05-04 20:26:11.058 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:26:11.078 +03:00 [DBG] An error occurred using the connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:26:11.104 +03:00 [DBG] Creating DbConnection.
2024-05-04 20:26:11.105 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-04 20:26:11.105 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-04 20:26:11.112 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-04 20:26:11.113 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-04 20:26:11.113 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 20:26:11.113 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 20:26:11.113 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "Diary";
2024-05-04 20:26:11.437 +03:00 [INF] Executed DbCommand (324ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "Diary";
2024-05-04 20:26:11.437 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-04 20:26:11.438 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5438' (0ms).
2024-05-04 20:26:11.438 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-04 20:26:11.439 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5438' (0ms).
2024-05-04 20:26:11.439 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:26:11.450 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:26:11.450 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:26:11.451 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 20:26:11.588 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:26:11.614 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:26:11.620 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-04 20:26:11.624 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-04 20:26:11.625 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-04 20:26:11.625 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 20:26:11.626 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 20:26:11.626 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "User" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Login" character varying(100) NOT NULL,
    "Password" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_User" PRIMARY KEY ("Id")
);
2024-05-04 20:26:11.639 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "User" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Login" character varying(100) NOT NULL,
    "Password" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_User" PRIMARY KEY ("Id")
);
2024-05-04 20:26:11.639 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-04 20:26:11.639 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 20:26:11.639 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 20:26:11.639 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Report" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(100) NOT NULL,
    "Description" character varying(2000) NOT NULL,
    "UserId" bigint NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_Report" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Report_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-04 20:26:11.651 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Report" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(100) NOT NULL,
    "Description" character varying(2000) NOT NULL,
    "UserId" bigint NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_Report" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Report_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-04 20:26:11.651 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-04 20:26:11.651 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 20:26:11.651 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 20:26:11.651 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "User" ("Id", "CreatedAt", "CreatedBy", "Login", "Password", "UpdatedAt", "UpdatedBy")
VALUES (1, TIMESTAMPTZ '2024-05-04T17:26:11.087075Z', 0, 'svyatmtk', 'password', NULL, NULL);
2024-05-04 20:26:11.653 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "User" ("Id", "CreatedAt", "CreatedBy", "Login", "Password", "UpdatedAt", "UpdatedBy")
VALUES (1, TIMESTAMPTZ '2024-05-04T17:26:11.087075Z', 0, 'svyatmtk', 'password', NULL, NULL);
2024-05-04 20:26:11.654 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-04 20:26:11.654 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 20:26:11.654 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 20:26:11.654 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("Id", "CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (1, TIMESTAMPTZ '2024-05-04T17:26:11.086646Z', 0, 'First rep description', 'First repository', NULL, NULL, 1);
2024-05-04 20:26:11.655 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("Id", "CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (1, TIMESTAMPTZ '2024-05-04T17:26:11.086646Z', 0, 'First rep description', 'First repository', NULL, NULL, 1);
2024-05-04 20:26:11.656 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-04 20:26:11.656 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 20:26:11.656 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 20:26:11.656 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Report_UserId" ON "Report" ("UserId");
2024-05-04 20:26:11.661 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Report_UserId" ON "Report" ("UserId");
2024-05-04 20:26:11.661 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-04 20:26:11.661 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 20:26:11.661 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 20:26:11.661 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT setval(
    pg_get_serial_sequence('"User"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "User") + 1,
        nextval(pg_get_serial_sequence('"User"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"Report"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "Report") + 1,
        nextval(pg_get_serial_sequence('"Report"', 'Id'))),
    false);
2024-05-04 20:26:11.672 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT setval(
    pg_get_serial_sequence('"User"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "User") + 1,
        nextval(pg_get_serial_sequence('"User"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"Report"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "Report") + 1,
        nextval(pg_get_serial_sequence('"Report"', 'Id'))),
    false);
2024-05-04 20:26:11.674 +03:00 [DBG] Committing transaction.
2024-05-04 20:26:11.682 +03:00 [DBG] Committed transaction.
2024-05-04 20:26:11.684 +03:00 [DBG] Disposing transaction.
2024-05-04 20:26:11.684 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:26:11.686 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (1ms).
2024-05-04 20:26:11.793 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 20:26:11.797 +03:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int64' ...
2024-05-04 20:26:11.799 +03:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int64' using the name 'userId' in request data ...
2024-05-04 20:26:11.800 +03:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int64'.
2024-05-04 20:26:11.800 +03:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int64'.
2024-05-04 20:26:11.800 +03:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Int64' ...
2024-05-04 20:26:11.802 +03:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Int64'.
2024-05-04 20:26:11.807 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api) - Validation state: "Valid"
2024-05-04 20:26:11.873 +03:00 [DBG] Compiling query expression: 
'DbSet<Report>()
    .Where(x => x.UserId == __userId_0)
    .Select(x => new ReportDto(
        x.Id, 
        x.Name, 
        x.Description, 
        x.CreatedAt.ToLongDateString()
    ))'
2024-05-04 20:26:12.129 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ReportDto>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
        SELECT r.Id, r.Name, r.Description, r.CreatedAt
        FROM Report AS r
        WHERE r.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ReportDto>, 
    Diary.DAL.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-05-04 20:26:12.166 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:26:12.168 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:26:12.168 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 20:26:12.168 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-04 20:26:12.174 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-05-04 20:26:12.177 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name", r."Description", r."CreatedAt"
FROM "Report" AS r
WHERE r."UserId" = @__userId_0
2024-05-04 20:26:12.257 +03:00 [INF] Executed DbCommand (82ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name", r."Description", r."CreatedAt"
FROM "Report" AS r
WHERE r."UserId" = @__userId_0
2024-05-04 20:26:12.292 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:26:12.294 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 35ms reading results.
2024-05-04 20:26:12.298 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:26:12.298 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 20:26:12.305 +03:00 [INF] Executed action method Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 493.8244ms.
2024-05-04 20:26:12.310 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-04 20:26:12.313 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-04 20:26:12.313 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-04 20:26:12.314 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-04 20:26:12.314 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-04 20:26:12.314 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-04 20:26:12.315 +03:00 [INF] Executing OkObjectResult, writing value of type 'Diary.Domain.Result.CollectionResult`1[[Diary.Domain.Dto.ReportDto.ReportDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-04 20:26:12.336 +03:00 [INF] Executed action Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api) in 2739.9448ms
2024-05-04 20:26:12.336 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api)'
2024-05-04 20:26:12.344 +03:00 [DBG] Connection ID "18230571301796315145" disconnecting.
2024-05-04 20:26:12.346 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-04 20:26:12.350 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:26:12.351 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (1ms).
2024-05-04 20:26:12.352 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/reports/1 - 200 null application/json; charset=utf-8 2812.0176ms
2024-05-04 20:27:41.639 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/api/v1/Report/43454 - application/json 76
2024-05-04 20:27:41.640 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report/43454'
2024-05-04 20:27:41.640 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api)' with route pattern 'api/v1/Report/{id}' is valid for the request path '/api/v1/Report/43454'
2024-05-04 20:27:41.640 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api)'
2024-05-04 20:27:41.640 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 20:27:41.640 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api)'
2024-05-04 20:27:41.643 +03:00 [INF] Route matched with {action = "UpdateReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] UpdateReportAsync(Diary.Domain.Dto.ReportDto.UpdateReportDto) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-04 20:27:41.643 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-04 20:27:41.643 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 20:27:41.643 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-04 20:27:41.643 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 20:27:41.643 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-04 20:27:41.644 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 20:27:41.680 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-04 20:27:41.682 +03:00 [DBG] Creating DbConnection.
2024-05-04 20:27:41.682 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-04 20:27:41.682 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:27:41.695 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:27:41.695 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:27:41.695 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 20:27:41.697 +03:00 [DBG] Creating DbConnection.
2024-05-04 20:27:41.698 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-04 20:27:41.698 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-04 20:27:41.707 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-04 20:27:41.707 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-04 20:27:41.708 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 20:27:41.708 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 20:27:41.708 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "Diary" WITH (FORCE);
2024-05-04 20:27:41.837 +03:00 [INF] Executed DbCommand (129ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "Diary" WITH (FORCE);
2024-05-04 20:27:41.837 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-04 20:27:41.837 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5438' (0ms).
2024-05-04 20:27:41.837 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-04 20:27:41.837 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5438' (0ms).
2024-05-04 20:27:41.838 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:27:41.847 +03:00 [DBG] An error occurred using the connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:27:41.849 +03:00 [DBG] Creating DbConnection.
2024-05-04 20:27:41.849 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-04 20:27:41.849 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-04 20:27:41.857 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-04 20:27:41.857 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-04 20:27:41.857 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 20:27:41.857 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 20:27:41.857 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "Diary";
2024-05-04 20:27:41.997 +03:00 [INF] Executed DbCommand (140ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "Diary";
2024-05-04 20:27:41.997 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-04 20:27:41.997 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5438' (0ms).
2024-05-04 20:27:41.998 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-04 20:27:41.998 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5438' (0ms).
2024-05-04 20:27:41.998 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:27:42.011 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:27:42.011 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:27:42.011 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 20:27:42.019 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:27:42.029 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:27:42.029 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-04 20:27:42.029 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-04 20:27:42.029 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-04 20:27:42.029 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 20:27:42.029 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 20:27:42.029 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "User" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Login" character varying(100) NOT NULL,
    "Password" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_User" PRIMARY KEY ("Id")
);
2024-05-04 20:27:42.040 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "User" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Login" character varying(100) NOT NULL,
    "Password" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_User" PRIMARY KEY ("Id")
);
2024-05-04 20:27:42.040 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-04 20:27:42.040 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 20:27:42.040 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 20:27:42.040 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Report" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(100) NOT NULL,
    "Description" character varying(2000) NOT NULL,
    "UserId" bigint NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_Report" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Report_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-04 20:27:42.050 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Report" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(100) NOT NULL,
    "Description" character varying(2000) NOT NULL,
    "UserId" bigint NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_Report" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Report_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-04 20:27:42.051 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-04 20:27:42.051 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 20:27:42.051 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 20:27:42.051 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "User" ("Id", "CreatedAt", "CreatedBy", "Login", "Password", "UpdatedAt", "UpdatedBy")
VALUES (1, TIMESTAMPTZ '2024-05-04T17:26:11.087075Z', 0, 'svyatmtk', 'password', NULL, NULL);
2024-05-04 20:27:42.052 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "User" ("Id", "CreatedAt", "CreatedBy", "Login", "Password", "UpdatedAt", "UpdatedBy")
VALUES (1, TIMESTAMPTZ '2024-05-04T17:26:11.087075Z', 0, 'svyatmtk', 'password', NULL, NULL);
2024-05-04 20:27:42.053 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-04 20:27:42.053 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 20:27:42.053 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 20:27:42.053 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("Id", "CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (1, TIMESTAMPTZ '2024-05-04T17:26:11.086646Z', 0, 'First rep description', 'First repository', NULL, NULL, 1);
2024-05-04 20:27:42.055 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("Id", "CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (1, TIMESTAMPTZ '2024-05-04T17:26:11.086646Z', 0, 'First rep description', 'First repository', NULL, NULL, 1);
2024-05-04 20:27:42.056 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-04 20:27:42.056 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 20:27:42.056 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 20:27:42.056 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Report_UserId" ON "Report" ("UserId");
2024-05-04 20:27:42.061 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Report_UserId" ON "Report" ("UserId");
2024-05-04 20:27:42.061 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-04 20:27:42.061 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 20:27:42.061 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-04 20:27:42.061 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT setval(
    pg_get_serial_sequence('"User"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "User") + 1,
        nextval(pg_get_serial_sequence('"User"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"Report"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "Report") + 1,
        nextval(pg_get_serial_sequence('"Report"', 'Id'))),
    false);
2024-05-04 20:27:42.064 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT setval(
    pg_get_serial_sequence('"User"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "User") + 1,
        nextval(pg_get_serial_sequence('"User"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"Report"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "Report") + 1,
        nextval(pg_get_serial_sequence('"Report"', 'Id'))),
    false);
2024-05-04 20:27:42.064 +03:00 [DBG] Committing transaction.
2024-05-04 20:27:42.068 +03:00 [DBG] Committed transaction.
2024-05-04 20:27:42.068 +03:00 [DBG] Disposing transaction.
2024-05-04 20:27:42.068 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:27:42.068 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 20:27:42.069 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 20:27:42.069 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UpdateReportDto' ...
2024-05-04 20:27:42.070 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UpdateReportDto' using the name '' in request data ...
2024-05-04 20:27:42.072 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-04 20:27:42.085 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.ReportDto.UpdateReportDto'
2024-05-04 20:27:42.086 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UpdateReportDto'.
2024-05-04 20:27:42.086 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UpdateReportDto'.
2024-05-04 20:27:42.086 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UpdateReportDto' ...
2024-05-04 20:27:42.090 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UpdateReportDto'.
2024-05-04 20:27:42.090 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api) - Validation state: "Valid"
2024-05-04 20:27:42.095 +03:00 [DBG] Compiling query expression: 
'DbSet<Report>()
    .FirstOrDefault(x => x.Id == __reportDto_Id_0)'
2024-05-04 20:27:42.133 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Report>(
    asyncEnumerable: new SingleQueryingEnumerable<Report>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Report.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Report.CreatedAt (DateTime) Required, 1], [Property: Report.CreatedBy (long) Required, 2], [Property: Report.Description (string) Required MaxLength(2000), 3], [Property: Report.Name (string) Required MaxLength(100), 4], [Property: Report.UpdatedAt (DateTime?), 5], [Property: Report.UpdatedBy (long?), 6], [Property: Report.UserId (long) Required FK Index, 7] }
            SELECT TOP(1) r.Id, r.CreatedAt, r.CreatedBy, r.Description, r.Name, r.UpdatedAt, r.UpdatedBy, r.UserId
            FROM Report AS r
            WHERE r.Id == @__reportDto_Id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Report>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-04 20:27:42.136 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:27:42.136 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:27:42.136 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 20:27:42.136 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-04 20:27:42.136 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-04 20:27:42.136 +03:00 [DBG] Executing DbCommand [Parameters=[@__reportDto_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Id" = @__reportDto_Id_0
LIMIT 1
2024-05-04 20:27:42.139 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__reportDto_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Id" = @__reportDto_Id_0
LIMIT 1
2024-05-04 20:27:42.161 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Report' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-04 20:27:42.186 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:27:42.187 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 46ms reading results.
2024-05-04 20:27:42.187 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:27:42.187 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 20:27:42.199 +03:00 [DBG] An entity of type 'Report' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-04 20:27:42.202 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-05-04 20:27:42.206 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-04 20:27:42.219 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-04 20:27:42.261 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:27:42.261 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:27:42.263 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 20:27:42.263 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-04 20:27:42.263 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-04 20:27:42.264 +03:00 [DBG] Executing DbCommand [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Report" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "Description" = @p2, "Name" = @p3, "UpdatedAt" = @p4, "UpdatedBy" = @p5, "UserId" = @p6
WHERE "Id" = @p7;
2024-05-04 20:27:42.271 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Report" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "Description" = @p2, "Name" = @p3, "UpdatedAt" = @p4, "UpdatedBy" = @p5, "UserId" = @p6
WHERE "Id" = @p7;
2024-05-04 20:27:42.275 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:27:42.276 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 4ms reading results.
2024-05-04 20:27:42.277 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:27:42.277 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 20:27:42.280 +03:00 [DBG] An entity of type 'Report' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-04 20:27:42.282 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-05-04 20:27:42.291 +03:00 [INF] Executed action method Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 200.3112ms.
2024-05-04 20:27:42.291 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-04 20:27:42.291 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-04 20:27:42.291 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-04 20:27:42.291 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-04 20:27:42.291 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-04 20:27:42.291 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-04 20:27:42.292 +03:00 [INF] Executing OkObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.ReportDto.ReportDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-04 20:27:42.293 +03:00 [INF] Executed action Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api) in 649.45ms
2024-05-04 20:27:42.293 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api)'
2024-05-04 20:27:42.293 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-04 20:27:42.293 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:27:42.294 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 20:27:42.294 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44308/api/v1/Report/43454 - 200 null application/json; charset=utf-8 655.8528ms
2024-05-04 20:27:42.297 +03:00 [DBG] Connection ID "18374686515641974843" disconnecting.
2024-05-04 20:30:43.022 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-04 20:30:43.100 +03:00 [DBG] Hosting starting
2024-05-04 20:30:43.223 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-04 20:30:43.225 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 20:30:43.233 +03:00 [INF] Hosting environment: Development
2024-05-04 20:30:43.234 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-04 20:30:43.234 +03:00 [DBG] Hosting started
2024-05-04 20:30:43.301 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/index.html - null null
2024-05-04 20:30:43.308 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 20:30:43.336 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 20:30:43.336 +03:00 [DBG] Request did not match any endpoints
2024-05-04 20:30:43.475 +03:00 [DBG] Connection ID "18374686481282236478" disconnecting.
2024-05-04 20:30:43.477 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/index.html - 200 null text/html;charset=utf-8 182.0388ms
2024-05-04 20:30:43.790 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-04 20:30:43.790 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 20:30:43.790 +03:00 [DBG] Request did not match any endpoints
2024-05-04 20:30:43.916 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 122.652ms
2024-05-04 20:30:43.916 +03:00 [DBG] Connection ID "18374686515641974845" disconnecting.
2024-05-04 20:31:31.847 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/api/v1/Report - application/json 54
2024-05-04 20:31:31.852 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report'
2024-05-04 20:31:31.855 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api)' with route pattern 'api/v1/Report' is valid for the request path '/api/v1/Report'
2024-05-04 20:31:31.856 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api)'
2024-05-04 20:31:31.858 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 20:31:31.858 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api)'
2024-05-04 20:31:31.885 +03:00 [INF] Route matched with {action = "UpdateReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] UpdateReportAsync(Diary.Domain.Dto.ReportDto.UpdateReportDto) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-04 20:31:31.889 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-04 20:31:31.889 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 20:31:31.890 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-04 20:31:31.890 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 20:31:31.890 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-04 20:31:31.892 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 20:31:32.056 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-04 20:31:32.862 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-04 20:31:32.876 +03:00 [DBG] Creating DbConnection.
2024-05-04 20:31:32.927 +03:00 [DBG] Created DbConnection. (49ms).
2024-05-04 20:31:32.933 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:31:33.044 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:31:33.050 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:31:33.060 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (6ms).
2024-05-04 20:31:33.068 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-04 20:31:33.075 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2024-05-04 20:31:33.076 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (9ms).
2024-05-04 20:31:33.076 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:31:33.104 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:31:33.114 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 20:31:33.201 +03:00 [INF] Executed DbCommand (89ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 20:31:33.204 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:31:33.206 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-04 20:31:33.314 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 20:31:33.319 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UpdateReportDto' ...
2024-05-04 20:31:33.321 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UpdateReportDto' using the name '' in request data ...
2024-05-04 20:31:33.321 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-04 20:31:33.340 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.ReportDto.UpdateReportDto'
2024-05-04 20:31:33.340 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UpdateReportDto'.
2024-05-04 20:31:33.341 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UpdateReportDto'.
2024-05-04 20:31:33.341 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UpdateReportDto' ...
2024-05-04 20:31:33.346 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UpdateReportDto'.
2024-05-04 20:31:33.351 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api) - Validation state: "Valid"
2024-05-04 20:31:33.431 +03:00 [DBG] Compiling query expression: 
'DbSet<Report>()
    .FirstOrDefault(x => x.Id == __reportDto_Id_0)'
2024-05-04 20:31:33.644 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Report>(
    asyncEnumerable: new SingleQueryingEnumerable<Report>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Report.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Report.CreatedAt (DateTime) Required, 1], [Property: Report.CreatedBy (long) Required, 2], [Property: Report.Description (string) Required MaxLength(2000), 3], [Property: Report.Name (string) Required MaxLength(100), 4], [Property: Report.UpdatedAt (DateTime?), 5], [Property: Report.UpdatedBy (long?), 6], [Property: Report.UserId (long) Required FK Index, 7] }
            SELECT TOP(1) r.Id, r.CreatedAt, r.CreatedBy, r.Description, r.Name, r.UpdatedAt, r.UpdatedBy, r.UserId
            FROM Report AS r
            WHERE r.Id == @__reportDto_Id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Report>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-04 20:31:33.684 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:31:33.685 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:31:33.686 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 20:31:33.686 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-04 20:31:33.691 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-05-04 20:31:33.695 +03:00 [DBG] Executing DbCommand [Parameters=[@__reportDto_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Id" = @__reportDto_Id_0
LIMIT 1
2024-05-04 20:31:33.731 +03:00 [INF] Executed DbCommand (39ms) [Parameters=[@__reportDto_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Id" = @__reportDto_Id_0
LIMIT 1
2024-05-04 20:31:33.769 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Report' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-04 20:31:33.806 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:31:33.807 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 74ms reading results.
2024-05-04 20:31:33.811 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:31:33.811 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 20:31:33.823 +03:00 [DBG] An entity of type 'Report' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-04 20:31:33.826 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-05-04 20:31:33.830 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-04 20:31:33.843 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-04 20:31:33.915 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:31:33.915 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:31:33.917 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 20:31:33.917 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-04 20:31:33.918 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-04 20:31:33.918 +03:00 [DBG] Executing DbCommand [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Report" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "Description" = @p2, "Name" = @p3, "UpdatedAt" = @p4, "UpdatedBy" = @p5, "UserId" = @p6
WHERE "Id" = @p7;
2024-05-04 20:31:33.927 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Report" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "Description" = @p2, "Name" = @p3, "UpdatedAt" = @p4, "UpdatedBy" = @p5, "UserId" = @p6
WHERE "Id" = @p7;
2024-05-04 20:31:33.931 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:31:33.932 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 4ms reading results.
2024-05-04 20:31:33.933 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:31:33.933 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 20:31:33.936 +03:00 [DBG] An entity of type 'Report' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-04 20:31:33.938 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-05-04 20:31:33.951 +03:00 [INF] Executed action method Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 596.7833ms.
2024-05-04 20:31:33.956 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-04 20:31:33.958 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-04 20:31:33.959 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-04 20:31:33.959 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-04 20:31:33.960 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-04 20:31:33.960 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-04 20:31:33.960 +03:00 [INF] Executing OkObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.ReportDto.ReportDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-04 20:31:33.972 +03:00 [INF] Executed action Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api) in 2078.137ms
2024-05-04 20:31:33.972 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api)'
2024-05-04 20:31:33.975 +03:00 [DBG] Connection ID "18374686515641974847" disconnecting.
2024-05-04 20:31:33.977 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-04 20:31:33.981 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:31:33.982 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (1ms).
2024-05-04 20:31:33.983 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44308/api/v1/Report - 200 null application/json; charset=utf-8 2135.6108ms
2024-05-04 20:31:54.182 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/api/v1/Report - application/json 60
2024-05-04 20:31:54.182 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report'
2024-05-04 20:31:54.183 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api)' with route pattern 'api/v1/Report' is valid for the request path '/api/v1/Report'
2024-05-04 20:31:54.183 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api)'
2024-05-04 20:31:54.183 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 20:31:54.183 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api)'
2024-05-04 20:31:54.183 +03:00 [INF] Route matched with {action = "UpdateReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] UpdateReportAsync(Diary.Domain.Dto.ReportDto.UpdateReportDto) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-04 20:31:54.183 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-04 20:31:54.183 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 20:31:54.184 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-04 20:31:54.184 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 20:31:54.184 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-04 20:31:54.184 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 20:31:54.209 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-04 20:31:54.211 +03:00 [DBG] Creating DbConnection.
2024-05-04 20:31:54.211 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-04 20:31:54.211 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:31:54.219 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:31:54.219 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:31:54.220 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 20:31:54.220 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-04 20:31:54.220 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-05-04 20:31:54.220 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-05-04 20:31:54.221 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:31:54.221 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:31:54.221 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 20:31:54.223 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 20:31:54.224 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:31:54.224 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 20:31:54.225 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 20:31:54.225 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UpdateReportDto' ...
2024-05-04 20:31:54.226 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UpdateReportDto' using the name '' in request data ...
2024-05-04 20:31:54.226 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-04 20:31:54.226 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.ReportDto.UpdateReportDto'
2024-05-04 20:31:54.226 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UpdateReportDto'.
2024-05-04 20:31:54.226 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UpdateReportDto'.
2024-05-04 20:31:54.226 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UpdateReportDto' ...
2024-05-04 20:31:54.226 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UpdateReportDto'.
2024-05-04 20:31:54.227 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api) - Validation state: "Valid"
2024-05-04 20:32:09.228 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:32:09.228 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:32:09.228 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 20:32:09.228 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-04 20:32:09.228 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-04 20:32:09.228 +03:00 [DBG] Executing DbCommand [Parameters=[@__reportDto_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Id" = @__reportDto_Id_0
LIMIT 1
2024-05-04 20:32:09.231 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__reportDto_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Id" = @__reportDto_Id_0
LIMIT 1
2024-05-04 20:32:09.240 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Report' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-04 20:32:09.241 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:32:09.242 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 9ms reading results.
2024-05-04 20:32:09.242 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:32:09.242 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 20:33:38.280 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-04 20:33:38.355 +03:00 [DBG] Hosting starting
2024-05-04 20:33:38.475 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-04 20:33:38.484 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 20:33:38.486 +03:00 [INF] Hosting environment: Development
2024-05-04 20:33:38.493 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-04 20:33:38.494 +03:00 [DBG] Hosting started
2024-05-04 20:33:38.540 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/index.html - null null
2024-05-04 20:33:38.545 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 20:33:38.572 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 20:33:38.572 +03:00 [DBG] Request did not match any endpoints
2024-05-04 20:33:38.696 +03:00 [DBG] Connection ID "18374686502757072926" disconnecting.
2024-05-04 20:33:38.698 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/index.html - 200 null text/html;charset=utf-8 163.2074ms
2024-05-04 20:33:38.958 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-04 20:33:38.959 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 20:33:38.959 +03:00 [DBG] Request did not match any endpoints
2024-05-04 20:33:39.080 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 120.5513ms
2024-05-04 20:33:39.083 +03:00 [DBG] Connection ID "18374686502757072928" disconnecting.
2024-05-04 20:33:51.610 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/api/v1/Report - application/json 54
2024-05-04 20:33:51.614 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report'
2024-05-04 20:33:51.618 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api)' with route pattern 'api/v1/Report' is valid for the request path '/api/v1/Report'
2024-05-04 20:33:51.619 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api)'
2024-05-04 20:33:51.621 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 20:33:51.621 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api)'
2024-05-04 20:33:51.648 +03:00 [INF] Route matched with {action = "UpdateReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] UpdateReportAsync(Diary.Domain.Dto.ReportDto.UpdateReportDto) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-04 20:33:51.651 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-04 20:33:51.652 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 20:33:51.652 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-04 20:33:51.652 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 20:33:51.653 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-04 20:33:51.654 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 20:33:51.829 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-04 20:33:52.620 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-04 20:33:52.634 +03:00 [DBG] Creating DbConnection.
2024-05-04 20:33:52.689 +03:00 [DBG] Created DbConnection. (53ms).
2024-05-04 20:33:52.695 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:33:52.818 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:33:52.824 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:33:52.834 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (6ms).
2024-05-04 20:33:52.842 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-04 20:33:52.848 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2024-05-04 20:33:52.850 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (8ms).
2024-05-04 20:33:52.850 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:33:52.877 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:33:52.888 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 20:33:52.976 +03:00 [INF] Executed DbCommand (91ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 20:33:52.979 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:33:52.981 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-04 20:33:53.085 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 20:33:53.089 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UpdateReportDto' ...
2024-05-04 20:33:53.091 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UpdateReportDto' using the name '' in request data ...
2024-05-04 20:33:53.092 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-04 20:33:53.112 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.ReportDto.UpdateReportDto'
2024-05-04 20:33:53.112 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UpdateReportDto'.
2024-05-04 20:33:53.112 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UpdateReportDto'.
2024-05-04 20:33:53.112 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UpdateReportDto' ...
2024-05-04 20:33:53.117 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UpdateReportDto'.
2024-05-04 20:33:53.123 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api) - Validation state: "Valid"
2024-05-04 20:33:53.203 +03:00 [DBG] Compiling query expression: 
'DbSet<Report>()
    .FirstOrDefault(x => x.Id == __reportDto_Id_0)'
2024-05-04 20:33:53.430 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Report>(
    asyncEnumerable: new SingleQueryingEnumerable<Report>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Report.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Report.CreatedAt (DateTime) Required, 1], [Property: Report.CreatedBy (long) Required, 2], [Property: Report.Description (string) Required MaxLength(2000), 3], [Property: Report.Name (string) Required MaxLength(100), 4], [Property: Report.UpdatedAt (DateTime?), 5], [Property: Report.UpdatedBy (long?), 6], [Property: Report.UserId (long) Required FK Index, 7] }
            SELECT TOP(1) r.Id, r.CreatedAt, r.CreatedBy, r.Description, r.Name, r.UpdatedAt, r.UpdatedBy, r.UserId
            FROM Report AS r
            WHERE r.Id == @__reportDto_Id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Report>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-04 20:33:53.468 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:33:53.470 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:33:53.471 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 20:33:53.471 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-04 20:33:53.476 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-05-04 20:33:53.480 +03:00 [DBG] Executing DbCommand [Parameters=[@__reportDto_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Id" = @__reportDto_Id_0
LIMIT 1
2024-05-04 20:33:53.508 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[@__reportDto_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Id" = @__reportDto_Id_0
LIMIT 1
2024-05-04 20:33:53.550 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Report' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-04 20:33:53.580 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:33:53.582 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 71ms reading results.
2024-05-04 20:33:53.585 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:33:53.586 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 20:33:53.598 +03:00 [DBG] An entity of type 'Report' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-04 20:33:53.599 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-05-04 20:33:53.603 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-04 20:33:53.616 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-04 20:33:53.627 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-04 20:33:53.627 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-04 20:33:53.691 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:33:53.692 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:33:53.693 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 20:33:53.693 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-04 20:33:53.694 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-04 20:33:53.694 +03:00 [DBG] Executing DbCommand [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Report" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "Description" = @p2, "Name" = @p3, "UpdatedAt" = @p4, "UpdatedBy" = @p5, "UserId" = @p6
WHERE "Id" = @p7;
2024-05-04 20:33:53.702 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Report" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "Description" = @p2, "Name" = @p3, "UpdatedAt" = @p4, "UpdatedBy" = @p5, "UserId" = @p6
WHERE "Id" = @p7;
2024-05-04 20:33:53.706 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:33:53.706 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 3ms reading results.
2024-05-04 20:33:53.707 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:33:53.707 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 20:33:53.710 +03:00 [DBG] An entity of type 'Report' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-04 20:33:53.711 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-05-04 20:33:53.725 +03:00 [INF] Executed action method Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 599.2341ms.
2024-05-04 20:33:53.731 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-04 20:33:53.733 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-04 20:33:53.734 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-04 20:33:53.734 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-04 20:33:53.734 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-04 20:33:53.735 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-04 20:33:53.735 +03:00 [INF] Executing OkObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.ReportDto.ReportDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-04 20:33:53.746 +03:00 [INF] Executed action Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api) in 2090.2697ms
2024-05-04 20:33:53.747 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api)'
2024-05-04 20:33:53.750 +03:00 [DBG] Connection ID "18374686502757072930" disconnecting.
2024-05-04 20:33:53.752 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-04 20:33:53.756 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:33:53.757 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (1ms).
2024-05-04 20:33:53.758 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44308/api/v1/Report - 200 null application/json; charset=utf-8 2147.684ms
2024-05-04 20:34:13.701 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/api/v1/Report - application/json 62
2024-05-04 20:34:13.702 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report'
2024-05-04 20:34:13.702 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api)' with route pattern 'api/v1/Report' is valid for the request path '/api/v1/Report'
2024-05-04 20:34:13.702 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api)'
2024-05-04 20:34:13.702 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 20:34:13.702 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api)'
2024-05-04 20:34:13.703 +03:00 [INF] Route matched with {action = "UpdateReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] UpdateReportAsync(Diary.Domain.Dto.ReportDto.UpdateReportDto) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-04 20:34:13.703 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-04 20:34:13.703 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 20:34:13.703 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-04 20:34:13.703 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 20:34:13.703 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-04 20:34:13.704 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 20:34:13.718 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-04 20:34:13.720 +03:00 [DBG] Creating DbConnection.
2024-05-04 20:34:13.720 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-04 20:34:13.720 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:34:13.728 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:34:13.728 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:34:13.729 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 20:34:13.729 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-04 20:34:13.729 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-05-04 20:34:13.729 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-05-04 20:34:13.729 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:34:13.729 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:34:13.730 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 20:34:13.732 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 20:34:13.732 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:34:13.732 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 20:34:13.733 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 20:34:13.733 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UpdateReportDto' ...
2024-05-04 20:34:13.734 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UpdateReportDto' using the name '' in request data ...
2024-05-04 20:34:13.734 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-04 20:34:13.734 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.ReportDto.UpdateReportDto'
2024-05-04 20:34:13.734 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UpdateReportDto'.
2024-05-04 20:34:13.734 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UpdateReportDto'.
2024-05-04 20:34:13.734 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UpdateReportDto' ...
2024-05-04 20:34:13.734 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UpdateReportDto'.
2024-05-04 20:34:13.735 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api) - Validation state: "Valid"
2024-05-04 20:34:13.738 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:34:13.738 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:34:13.738 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 20:34:13.738 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-04 20:34:13.738 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-04 20:34:13.738 +03:00 [DBG] Executing DbCommand [Parameters=[@__reportDto_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Id" = @__reportDto_Id_0
LIMIT 1
2024-05-04 20:34:13.743 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__reportDto_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Id" = @__reportDto_Id_0
LIMIT 1
2024-05-04 20:34:13.746 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Report' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-04 20:34:13.746 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:34:13.747 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 3ms reading results.
2024-05-04 20:34:13.747 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:34:13.747 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 20:34:13.747 +03:00 [DBG] An entity of type 'Report' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-04 20:34:13.747 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-05-04 20:34:13.747 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-04 20:34:13.747 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-04 20:34:13.749 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-04 20:34:13.749 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-04 20:34:13.749 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:34:13.749 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:34:13.750 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 20:34:13.750 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-04 20:34:13.750 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-04 20:34:13.750 +03:00 [DBG] Executing DbCommand [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Report" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "Description" = @p2, "Name" = @p3, "UpdatedAt" = @p4, "UpdatedBy" = @p5, "UserId" = @p6
WHERE "Id" = @p7;
2024-05-04 20:34:13.758 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Report" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "Description" = @p2, "Name" = @p3, "UpdatedAt" = @p4, "UpdatedBy" = @p5, "UserId" = @p6
WHERE "Id" = @p7;
2024-05-04 20:34:13.758 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:34:13.758 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 0ms reading results.
2024-05-04 20:34:13.758 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:34:13.758 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 20:34:13.758 +03:00 [DBG] An entity of type 'Report' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-04 20:34:13.758 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-05-04 20:34:13.760 +03:00 [INF] Executed action method Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 24.8871ms.
2024-05-04 20:34:13.760 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-04 20:34:13.760 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-04 20:34:13.760 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-04 20:34:13.760 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-04 20:34:13.760 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-04 20:34:13.760 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-04 20:34:13.760 +03:00 [INF] Executing OkObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.ReportDto.ReportDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-04 20:34:13.761 +03:00 [INF] Executed action Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api) in 57.3139ms
2024-05-04 20:34:13.761 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api)'
2024-05-04 20:34:13.761 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-04 20:34:13.761 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:34:13.761 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 20:34:13.762 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44308/api/v1/Report - 200 null application/json; charset=utf-8 60.8913ms
2024-05-04 20:34:13.764 +03:00 [DBG] Connection ID "18374686485577203741" disconnecting.
2024-05-04 20:35:20.260 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-04 20:35:20.338 +03:00 [DBG] Hosting starting
2024-05-04 20:35:20.456 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-04 20:35:20.467 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 20:35:20.468 +03:00 [INF] Hosting environment: Development
2024-05-04 20:35:20.468 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-04 20:35:20.468 +03:00 [DBG] Hosting started
2024-05-04 20:35:20.532 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/index.html - null null
2024-05-04 20:35:20.537 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 20:35:20.557 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-04 20:35:20.558 +03:00 [DBG] Request did not match any endpoints
2024-05-04 20:35:20.683 +03:00 [DBG] Connection ID "18302628887244308502" disconnecting.
2024-05-04 20:35:20.685 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/index.html - 200 null text/html;charset=utf-8 158.6362ms
2024-05-04 20:35:20.946 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-04 20:35:20.947 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 20:35:20.947 +03:00 [DBG] Request did not match any endpoints
2024-05-04 20:35:21.071 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 121.3312ms
2024-05-04 20:35:21.071 +03:00 [DBG] Connection ID "18302628887244308504" disconnecting.
2024-05-04 20:36:15.998 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/api/v1/Report - application/json 71
2024-05-04 20:36:16.002 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report'
2024-05-04 20:36:16.006 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)' with route pattern 'api/v1/Report' is valid for the request path '/api/v1/Report'
2024-05-04 20:36:16.006 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-04 20:36:16.008 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 20:36:16.009 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-04 20:36:16.035 +03:00 [INF] Route matched with {action = "CreateReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] CreateReportAsync(Diary.Domain.Dto.ReportDto.CreateReportDto) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-04 20:36:16.038 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-04 20:36:16.039 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 20:36:16.039 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-04 20:36:16.039 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 20:36:16.040 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-04 20:36:16.041 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 20:36:16.212 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-04 20:36:17.000 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-04 20:36:17.013 +03:00 [DBG] Creating DbConnection.
2024-05-04 20:36:17.066 +03:00 [DBG] Created DbConnection. (50ms).
2024-05-04 20:36:17.072 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:36:17.190 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:36:17.197 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:36:17.207 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (6ms).
2024-05-04 20:36:17.216 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-04 20:36:17.223 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2024-05-04 20:36:17.229 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (14ms).
2024-05-04 20:36:17.229 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:36:17.256 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:36:17.266 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 20:36:17.368 +03:00 [INF] Executed DbCommand (102ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 20:36:17.371 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:36:17.373 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-04 20:36:17.483 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 20:36:17.487 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' ...
2024-05-04 20:36:17.489 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' using the name '' in request data ...
2024-05-04 20:36:17.490 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-04 20:36:17.509 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.ReportDto.CreateReportDto'
2024-05-04 20:36:17.509 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-04 20:36:17.510 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-04 20:36:17.510 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' ...
2024-05-04 20:36:17.514 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-04 20:36:17.520 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api) - Validation state: "Valid"
2024-05-04 20:36:17.603 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(x => x.Id == __dto_UserId_0)'
2024-05-04 20:36:17.817 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedAt (DateTime) Required, 1], [Property: User.CreatedBy (long) Required, 2], [Property: User.Login (string) Required MaxLength(100), 3], [Property: User.Password (string) Required, 4], [Property: User.UpdatedAt (DateTime?), 5], [Property: User.UpdatedBy (long?), 6] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.CreatedBy, u.Login, u.Password, u.UpdatedAt, u.UpdatedBy
            FROM User AS u
            WHERE u.Id == @__dto_UserId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-04 20:36:17.853 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:36:17.855 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:36:17.855 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 20:36:17.855 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-04 20:36:17.860 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-05-04 20:36:17.863 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Id" = @__dto_UserId_0
LIMIT 1
2024-05-04 20:36:17.897 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[@__dto_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Id" = @__dto_UserId_0
LIMIT 1
2024-05-04 20:36:17.937 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-04 20:36:17.967 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:36:17.969 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 69ms reading results.
2024-05-04 20:36:17.972 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:36:17.973 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 20:36:17.974 +03:00 [DBG] Compiling query expression: 
'DbSet<Report>()
    .FirstOrDefault(x => x.Name == __dto_Name_0)'
2024-05-04 20:36:17.978 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Report>(
    asyncEnumerable: new SingleQueryingEnumerable<Report>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Report.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Report.CreatedAt (DateTime) Required, 1], [Property: Report.CreatedBy (long) Required, 2], [Property: Report.Description (string) Required MaxLength(2000), 3], [Property: Report.Name (string) Required MaxLength(100), 4], [Property: Report.UpdatedAt (DateTime?), 5], [Property: Report.UpdatedBy (long?), 6], [Property: Report.UserId (long) Required FK Index, 7] }
            SELECT TOP(1) r.Id, r.CreatedAt, r.CreatedBy, r.Description, r.Name, r.UpdatedAt, r.UpdatedBy, r.UserId
            FROM Report AS r
            WHERE r.Name == @__dto_Name_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Report>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-04 20:36:17.979 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:36:17.979 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:36:17.979 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 20:36:17.979 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-04 20:36:17.979 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-04 20:36:17.980 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_Name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Name" = @__dto_Name_0
LIMIT 1
2024-05-04 20:36:17.984 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__dto_Name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Name" = @__dto_Name_0
LIMIT 1
2024-05-04 20:36:17.985 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:36:17.985 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 0ms reading results.
2024-05-04 20:36:17.985 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:36:17.985 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 20:36:18.017 +03:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'Report.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-04 20:36:18.043 +03:00 [DBG] The navigation 'Report.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-04 20:36:18.056 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Report' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-04 20:36:18.059 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-05-04 20:36:18.062 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-04 20:36:18.083 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-04 20:36:18.089 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-04 20:36:18.090 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-04 20:36:18.149 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:36:18.149 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:36:18.150 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 20:36:18.150 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-04 20:36:18.151 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-04 20:36:18.151 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-05-04 20:36:18.160 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-05-04 20:36:18.168 +03:00 [DBG] The foreign key property 'Report.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-04 20:36:18.173 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:36:18.173 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 12ms reading results.
2024-05-04 20:36:18.173 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:36:18.173 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 20:36:18.182 +03:00 [DBG] An entity of type 'Report' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-04 20:36:18.184 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-05-04 20:36:18.196 +03:00 [INF] Executed action method Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 673.3342ms.
2024-05-04 20:36:18.202 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-04 20:36:18.204 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-04 20:36:18.205 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-04 20:36:18.205 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-04 20:36:18.205 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-04 20:36:18.206 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-04 20:36:18.206 +03:00 [INF] Executing OkObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.ReportDto.ReportDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-04 20:36:18.218 +03:00 [INF] Executed action Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api) in 2175.3358ms
2024-05-04 20:36:18.219 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-04 20:36:18.226 +03:00 [DBG] Connection ID "18158513724938256397" disconnecting.
2024-05-04 20:36:18.228 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-04 20:36:18.232 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:36:18.235 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-04 20:36:18.235 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44308/api/v1/Report - 200 null application/json; charset=utf-8 2237.464ms
2024-05-04 20:36:56.981 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:44308/api/v1/Report - application/json 64
2024-05-04 20:36:56.982 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report'
2024-05-04 20:36:56.983 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api)' with route pattern 'api/v1/Report' is valid for the request path '/api/v1/Report'
2024-05-04 20:36:56.983 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api)'
2024-05-04 20:36:56.984 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-04 20:36:56.984 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api)'
2024-05-04 20:36:56.988 +03:00 [INF] Route matched with {action = "UpdateReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] UpdateReportAsync(Diary.Domain.Dto.ReportDto.UpdateReportDto) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-04 20:36:56.988 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-04 20:36:56.988 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-04 20:36:56.989 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-04 20:36:56.989 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-04 20:36:56.989 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-04 20:36:56.989 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 20:36:57.016 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-04 20:36:57.018 +03:00 [DBG] Creating DbConnection.
2024-05-04 20:36:57.018 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-04 20:36:57.018 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:36:57.031 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:36:57.031 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:36:57.031 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 20:36:57.032 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-04 20:36:57.032 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-05-04 20:36:57.032 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-05-04 20:36:57.032 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:36:57.032 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:36:57.032 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 20:36:57.034 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-04 20:36:57.035 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:36:57.035 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 20:36:57.035 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-04 20:36:57.036 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UpdateReportDto' ...
2024-05-04 20:36:57.036 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UpdateReportDto' using the name '' in request data ...
2024-05-04 20:36:57.036 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-04 20:36:57.039 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.ReportDto.UpdateReportDto'
2024-05-04 20:36:57.040 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UpdateReportDto'.
2024-05-04 20:36:57.040 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UpdateReportDto'.
2024-05-04 20:36:57.040 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UpdateReportDto' ...
2024-05-04 20:36:57.041 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UpdateReportDto'.
2024-05-04 20:36:57.041 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api) - Validation state: "Valid"
2024-05-04 20:36:57.044 +03:00 [DBG] Compiling query expression: 
'DbSet<Report>()
    .FirstOrDefault(x => x.Id == __reportDto_Id_0)'
2024-05-04 20:36:57.046 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Report>(
    asyncEnumerable: new SingleQueryingEnumerable<Report>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Report.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Report.CreatedAt (DateTime) Required, 1], [Property: Report.CreatedBy (long) Required, 2], [Property: Report.Description (string) Required MaxLength(2000), 3], [Property: Report.Name (string) Required MaxLength(100), 4], [Property: Report.UpdatedAt (DateTime?), 5], [Property: Report.UpdatedBy (long?), 6], [Property: Report.UserId (long) Required FK Index, 7] }
            SELECT TOP(1) r.Id, r.CreatedAt, r.CreatedBy, r.Description, r.Name, r.UpdatedAt, r.UpdatedBy, r.UserId
            FROM Report AS r
            WHERE r.Id == @__reportDto_Id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Report>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-04 20:36:57.046 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:36:57.046 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:36:57.046 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 20:36:57.046 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-04 20:36:57.047 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-04 20:36:57.047 +03:00 [DBG] Executing DbCommand [Parameters=[@__reportDto_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Id" = @__reportDto_Id_0
LIMIT 1
2024-05-04 20:36:57.049 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__reportDto_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Id" = @__reportDto_Id_0
LIMIT 1
2024-05-04 20:36:57.051 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Report' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-04 20:36:57.051 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:36:57.051 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 1ms reading results.
2024-05-04 20:36:57.052 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:36:57.052 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 20:36:57.053 +03:00 [DBG] An entity of type 'Report' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-04 20:36:57.053 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-05-04 20:36:57.053 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-04 20:36:57.053 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-04 20:36:57.056 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-04 20:36:57.056 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-04 20:36:57.061 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:36:57.061 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:36:57.061 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-04 20:36:57.061 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-04 20:36:57.061 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-04 20:36:57.061 +03:00 [DBG] Executing DbCommand [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Report" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "Description" = @p2, "Name" = @p3, "UpdatedAt" = @p4, "UpdatedBy" = @p5, "UserId" = @p6
WHERE "Id" = @p7;
2024-05-04 20:36:57.064 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Report" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "Description" = @p2, "Name" = @p3, "UpdatedAt" = @p4, "UpdatedBy" = @p5, "UserId" = @p6
WHERE "Id" = @p7;
2024-05-04 20:36:57.065 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:36:57.065 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 0ms reading results.
2024-05-04 20:36:57.065 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:36:57.065 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 20:36:57.067 +03:00 [DBG] An entity of type 'Report' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-04 20:36:57.067 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-05-04 20:36:57.068 +03:00 [INF] Executed action method Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 27.0251ms.
2024-05-04 20:36:57.068 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-04 20:36:57.069 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-04 20:36:57.069 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-04 20:36:57.069 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-04 20:36:57.069 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-04 20:36:57.069 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-04 20:36:57.069 +03:00 [INF] Executing OkObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.ReportDto.ReportDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-04 20:36:57.069 +03:00 [INF] Executed action Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api) in 80.0547ms
2024-05-04 20:36:57.069 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api)'
2024-05-04 20:36:57.070 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-04 20:36:57.070 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-04 20:36:57.070 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-04 20:36:57.071 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:44308/api/v1/Report - 200 null application/json; charset=utf-8 90.1563ms
2024-05-04 20:36:57.073 +03:00 [DBG] Connection ID "18374686528526876694" disconnecting.
2024-05-04 21:27:49.682 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-04 21:27:49.792 +03:00 [DBG] Hosting starting
2024-05-04 21:27:49.927 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-04 21:27:49.927 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 21:27:49.928 +03:00 [INF] Hosting environment: Development
2024-05-04 21:27:49.929 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-04 21:27:49.929 +03:00 [DBG] Hosting started
2024-05-04 21:27:50.019 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-04 21:27:50.024 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 21:27:50.075 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-04 21:27:50.076 +03:00 [DBG] Request did not match any endpoints
2024-05-04 21:27:50.109 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-04 21:27:50.146 +03:00 [DBG] Connection ID "18374686481282236481" disconnecting.
2024-05-04 21:27:50.148 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 404 null null 136.2581ms
2024-05-04 21:27:50.154 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 404
2024-05-04 21:27:55.251 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/ - null null
2024-05-04 21:27:55.251 +03:00 [DBG] No candidates found for the request path '/'
2024-05-04 21:27:55.251 +03:00 [DBG] Request did not match any endpoints
2024-05-04 21:27:55.267 +03:00 [DBG] Connection ID "18158513724938256399" disconnecting.
2024-05-04 21:27:55.267 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/ - 301 null null 16.58ms
2024-05-04 21:27:55.275 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-04 21:27:55.276 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-04 21:27:55.276 +03:00 [DBG] Request did not match any endpoints
2024-05-04 21:27:55.398 +03:00 [DBG] Connection ID "18374686502757072932" disconnecting.
2024-05-04 21:27:55.398 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 122.1616ms
2024-05-04 21:27:55.540 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger-ui-bundle.js - null null
2024-05-04 21:27:55.542 +03:00 [DBG] No candidates found for the request path '/swagger-ui-bundle.js'
2024-05-04 21:27:55.542 +03:00 [DBG] Request did not match any endpoints
2024-05-04 21:27:55.580 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger-ui-standalone-preset.js - null null
2024-05-04 21:27:55.580 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger-ui.css - null null
2024-05-04 21:27:55.580 +03:00 [DBG] No candidates found for the request path '/swagger-ui-standalone-preset.js'
2024-05-04 21:27:55.580 +03:00 [DBG] No candidates found for the request path '/swagger-ui.css'
2024-05-04 21:27:55.580 +03:00 [DBG] Request did not match any endpoints
2024-05-04 21:27:55.580 +03:00 [DBG] Request did not match any endpoints
2024-05-04 21:27:55.615 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-05-04 21:27:55.615 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-05-04 21:27:55.620 +03:00 [DBG] Connection ID "18374686528526876696" disconnecting.
2024-05-04 21:27:55.623 +03:00 [DBG] Connection ID "18374686498462105677" disconnecting.
2024-05-04 21:27:55.626 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger-ui.css - 200 143943 text/css 44.1263ms
2024-05-04 21:27:55.626 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger-ui-standalone-preset.js - 200 339486 text/javascript 44.1785ms
2024-05-04 21:27:55.636 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-05-04 21:27:55.653 +03:00 [DBG] Connection ID "18302628891539275800" disconnecting.
2024-05-04 21:27:55.653 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger-ui-bundle.js - 200 1096145 text/javascript 114.1139ms
2024-05-04 21:27:55.865 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-04 21:27:55.865 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 21:27:55.865 +03:00 [DBG] Request did not match any endpoints
2024-05-04 21:27:55.894 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/favicon-32x32.png - null null
2024-05-04 21:27:55.895 +03:00 [DBG] No candidates found for the request path '/favicon-32x32.png'
2024-05-04 21:27:55.895 +03:00 [DBG] Request did not match any endpoints
2024-05-04 21:27:55.896 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-05-04 21:27:55.896 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/favicon-32x32.png - 200 628 image/png 1.848ms
2024-05-04 21:27:55.896 +03:00 [DBG] Connection ID "18302628930193981453" disconnecting.
2024-05-04 21:27:55.994 +03:00 [DBG] Connection ID "18374686524231909417" disconnecting.
2024-05-04 21:27:55.994 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 128.5839ms
2024-05-04 21:28:01.171 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-04 21:28:01.171 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 21:28:01.171 +03:00 [DBG] Request did not match any endpoints
2024-05-04 21:28:01.180 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 9.6592ms
2024-05-04 21:28:01.185 +03:00 [DBG] Connection ID "18374686481282236483" disconnecting.
2024-05-04 21:28:01.399 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/favicon.ico - null null
2024-05-04 21:28:01.400 +03:00 [DBG] No candidates found for the request path '/favicon.ico'
2024-05-04 21:28:01.400 +03:00 [DBG] Request did not match any endpoints
2024-05-04 21:28:01.400 +03:00 [DBG] The request path /favicon.ico does not match an existing file
2024-05-04 21:28:01.401 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/favicon.ico - 404 null null 2.5999ms
2024-05-04 21:28:01.401 +03:00 [DBG] Connection ID "18374686502757072934" disconnecting.
2024-05-04 21:28:01.402 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/favicon.ico, Response status code: 404
2024-05-04 21:28:31.960 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-04 21:28:31.963 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 21:28:31.963 +03:00 [DBG] Request did not match any endpoints
2024-05-04 21:28:31.974 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 15.1199ms
2024-05-04 21:28:31.975 +03:00 [DBG] Connection ID "18158513724938256401" disconnecting.
2024-05-04 21:28:34.168 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-04 21:28:34.169 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 21:28:34.169 +03:00 [DBG] Request did not match any endpoints
2024-05-04 21:28:34.177 +03:00 [DBG] Connection ID "18374686498462105679" disconnecting.
2024-05-04 21:28:34.177 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 8.1495ms
2024-05-04 21:28:35.862 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-04 21:28:35.862 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 21:28:35.862 +03:00 [DBG] Request did not match any endpoints
2024-05-04 21:28:35.870 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 8.1384ms
2024-05-04 21:28:35.870 +03:00 [DBG] Connection ID "18158513724938256403" disconnecting.
2024-05-04 21:28:51.417 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-04 21:28:51.576 +03:00 [DBG] Hosting starting
2024-05-04 21:28:51.738 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-04 21:28:51.740 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-04 21:28:51.750 +03:00 [INF] Hosting environment: Development
2024-05-04 21:28:51.750 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-04 21:28:51.750 +03:00 [DBG] Hosting started
2024-05-04 21:28:51.811 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-04 21:28:51.817 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-04 21:28:51.866 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-04 21:28:51.867 +03:00 [DBG] Request did not match any endpoints
2024-05-04 21:28:51.893 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-04 21:28:51.917 +03:00 [DBG] Connection ID "18374686502757072936" disconnecting.
2024-05-04 21:28:51.920 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 404 null null 114.6891ms
2024-05-04 21:28:51.925 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 404
2024-05-04 21:29:00.449 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-04 21:29:00.449 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-04 21:29:00.450 +03:00 [DBG] Request did not match any endpoints
2024-05-04 21:29:00.559 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 108.7917ms
2024-05-04 21:29:00.562 +03:00 [DBG] Connection ID "18374686502757072938" disconnecting.
2024-05-04 21:29:01.245 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-04 21:29:01.245 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-04 21:29:01.245 +03:00 [DBG] Request did not match any endpoints
2024-05-04 21:29:01.542 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 297.3194ms
2024-05-04 21:29:02.640 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v2/swagger.json - null null
2024-05-04 21:29:02.640 +03:00 [DBG] No candidates found for the request path '/swagger/v2/swagger.json'
2024-05-04 21:29:02.640 +03:00 [DBG] Request did not match any endpoints
2024-05-04 21:29:02.660 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v2/swagger.json - 200 null application/json;charset=utf-8 20.4174ms
2024-05-05 04:06:24.815 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-05 04:06:24.993 +03:00 [DBG] Hosting starting
2024-05-05 04:06:25.312 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-05 04:06:25.314 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-05 04:06:25.314 +03:00 [INF] Hosting environment: Development
2024-05-05 04:06:25.315 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-05 04:06:25.315 +03:00 [DBG] Hosting started
2024-05-05 04:06:25.522 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-05 04:06:25.527 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-05 04:06:25.582 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-05 04:06:25.583 +03:00 [DBG] Request did not match any endpoints
2024-05-05 04:06:25.809 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-05 04:06:25.875 +03:00 [DBG] Connection ID "18374686502757072942" disconnecting.
2024-05-05 04:06:25.877 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 404 null null 363.0834ms
2024-05-05 04:06:25.882 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 404
2024-05-05 04:06:36.730 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/ - null null
2024-05-05 04:06:36.730 +03:00 [DBG] No candidates found for the request path '/'
2024-05-05 04:06:36.730 +03:00 [DBG] Request did not match any endpoints
2024-05-05 04:06:36.741 +03:00 [DBG] Connection ID "18158513703463419905" disconnecting.
2024-05-05 04:06:36.741 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/ - 301 null null 11.7446ms
2024-05-05 04:06:36.744 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-05 04:06:36.746 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-05 04:06:36.746 +03:00 [DBG] Request did not match any endpoints
2024-05-05 04:06:36.834 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 90.0448ms
2024-05-05 04:06:36.838 +03:00 [DBG] Connection ID "18374686481282236485" disconnecting.
2024-05-05 04:06:36.984 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger-ui-bundle.js - null null
2024-05-05 04:06:36.985 +03:00 [DBG] No candidates found for the request path '/swagger-ui-bundle.js'
2024-05-05 04:06:36.985 +03:00 [DBG] Request did not match any endpoints
2024-05-05 04:06:36.986 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger-ui.css - null null
2024-05-05 04:06:36.987 +03:00 [DBG] No candidates found for the request path '/swagger-ui.css'
2024-05-05 04:06:36.987 +03:00 [DBG] Request did not match any endpoints
2024-05-05 04:06:36.987 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger-ui-standalone-preset.js - null null
2024-05-05 04:06:36.987 +03:00 [DBG] No candidates found for the request path '/swagger-ui-standalone-preset.js'
2024-05-05 04:06:36.987 +03:00 [DBG] Request did not match any endpoints
2024-05-05 04:06:37.019 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-05-05 04:06:37.019 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-05-05 04:06:37.021 +03:00 [DBG] Connection ID "18374686502757072944" disconnecting.
2024-05-05 04:06:37.024 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger-ui.css - 200 143943 text/css 39.0506ms
2024-05-05 04:06:37.034 +03:00 [DBG] Connection ID "18374686524231909420" disconnecting.
2024-05-05 04:06:37.034 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-05-05 04:06:37.034 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger-ui-standalone-preset.js - 200 339486 text/javascript 47.7695ms
2024-05-05 04:06:37.059 +03:00 [DBG] Connection ID "18374686498462105685" disconnecting.
2024-05-05 04:06:37.060 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger-ui-bundle.js - 200 1096145 text/javascript 78.3202ms
2024-05-05 04:06:37.277 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-05 04:06:37.278 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-05 04:06:37.278 +03:00 [DBG] Request did not match any endpoints
2024-05-05 04:06:37.429 +03:00 [DBG] Connection ID "18158513724938256406" disconnecting.
2024-05-05 04:06:37.430 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 152.2028ms
2024-05-05 04:08:25.489 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-05 04:08:25.585 +03:00 [DBG] Hosting starting
2024-05-05 04:08:25.709 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-05 04:08:25.711 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-05 04:08:25.720 +03:00 [INF] Hosting environment: Development
2024-05-05 04:08:25.720 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-05 04:08:25.720 +03:00 [DBG] Hosting started
2024-05-05 04:08:25.776 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-05 04:08:25.781 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-05 04:08:25.821 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-05 04:08:25.821 +03:00 [DBG] Request did not match any endpoints
2024-05-05 04:08:25.912 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-05 04:08:25.937 +03:00 [DBG] Connection ID "18374686502757072946" disconnecting.
2024-05-05 04:08:25.939 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 404 null null 168.7181ms
2024-05-05 04:08:25.943 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 404
2024-05-05 04:08:29.031 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-05 04:08:29.032 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-05 04:08:29.032 +03:00 [DBG] Request did not match any endpoints
2024-05-05 04:08:29.128 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 97.1935ms
2024-05-05 04:08:29.132 +03:00 [DBG] Connection ID "18374686489872171079" disconnecting.
2024-05-05 04:08:29.528 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-05 04:08:29.528 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-05 04:08:29.528 +03:00 [DBG] Request did not match any endpoints
2024-05-05 04:08:29.681 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 153.2694ms
2024-05-05 04:08:29.681 +03:00 [DBG] Connection ID "18374686485577203744" disconnecting.
2024-05-05 04:10:31.936 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-05 04:10:32.031 +03:00 [DBG] Hosting starting
2024-05-05 04:10:32.080 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-05 04:10:32.081 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-05 04:10:32.082 +03:00 [INF] Hosting environment: Development
2024-05-05 04:10:32.082 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-05 04:10:32.082 +03:00 [DBG] Hosting started
2024-05-05 04:10:32.094 +03:00 [DBG] Connection ID "18230571323271151638" disconnecting.
2024-05-05 04:10:32.104 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-05 04:10:32.112 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-05 04:10:32.168 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-05 04:10:32.169 +03:00 [DBG] Request did not match any endpoints
2024-05-05 04:10:32.219 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-05 04:10:32.222 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 499 null null 124.2986ms
2024-05-05 04:10:32.225 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 499
2024-05-05 04:10:33.081 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-05 04:10:33.082 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-05 04:10:33.082 +03:00 [DBG] Request did not match any endpoints
2024-05-05 04:10:33.187 +03:00 [DBG] Connection ID "18374686481282236487" disconnecting.
2024-05-05 04:10:33.188 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 106.7758ms
2024-05-05 04:10:33.483 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/favicon-32x32.png - null null
2024-05-05 04:10:33.483 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-05 04:10:33.483 +03:00 [DBG] No candidates found for the request path '/favicon-32x32.png'
2024-05-05 04:10:33.483 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-05 04:10:33.483 +03:00 [DBG] Request did not match any endpoints
2024-05-05 04:10:33.483 +03:00 [DBG] Request did not match any endpoints
2024-05-05 04:10:33.500 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-05-05 04:10:33.501 +03:00 [DBG] Connection ID "18230571327566118913" disconnecting.
2024-05-05 04:10:33.501 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/favicon-32x32.png - 200 628 image/png 18.1676ms
2024-05-05 04:10:33.688 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 205.2127ms
2024-05-05 04:10:33.688 +03:00 [DBG] Connection ID "18374686481282236489" disconnecting.
2024-05-05 04:10:59.712 +03:00 [INF] Application is shutting down...
2024-05-05 04:10:59.713 +03:00 [DBG] Hosting stopping
2024-05-05 04:10:59.714 +03:00 [DBG] Hosting stopped
2024-05-05 04:11:08.546 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-05 04:11:08.634 +03:00 [DBG] Hosting starting
2024-05-05 04:11:08.693 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-05 04:11:08.694 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-05 04:11:08.694 +03:00 [INF] Hosting environment: Development
2024-05-05 04:11:08.695 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-05 04:11:08.695 +03:00 [DBG] Hosting started
2024-05-05 04:11:08.705 +03:00 [DBG] Connection ID "18374686494167138335" disconnecting.
2024-05-05 04:11:08.714 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-05 04:11:08.720 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-05 04:11:08.763 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-05 04:11:08.763 +03:00 [DBG] Request did not match any endpoints
2024-05-05 04:11:08.821 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-05 04:11:08.824 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 499 null null 114.8625ms
2024-05-05 04:11:08.827 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 499
2024-05-05 04:11:09.176 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-05 04:11:09.177 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-05 04:11:09.177 +03:00 [DBG] Request did not match any endpoints
2024-05-05 04:11:09.272 +03:00 [DBG] Connection ID "18302628930193981456" disconnecting.
2024-05-05 04:11:09.272 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 95.6753ms
2024-05-05 04:11:09.485 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-05 04:11:09.486 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-05 04:11:09.486 +03:00 [DBG] Request did not match any endpoints
2024-05-05 04:11:09.638 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 152.3216ms
2024-05-05 04:11:09.638 +03:00 [DBG] Connection ID "18374686498462105687" disconnecting.
2024-05-05 04:12:58.195 +03:00 [INF] Application is shutting down...
2024-05-05 04:12:58.196 +03:00 [DBG] Hosting stopping
2024-05-05 04:12:58.197 +03:00 [DBG] Hosting stopped
2024-05-05 04:13:06.488 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-05 04:13:06.622 +03:00 [DBG] Hosting starting
2024-05-05 04:13:06.676 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-05 04:13:06.677 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-05 04:13:06.678 +03:00 [INF] Hosting environment: Development
2024-05-05 04:13:06.678 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-05 04:13:06.679 +03:00 [DBG] Hosting started
2024-05-05 04:13:06.693 +03:00 [DBG] Connection ID "18230571318976184325" disconnecting.
2024-05-05 04:13:06.706 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-05 04:13:06.712 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-05 04:13:06.762 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-05 04:13:06.763 +03:00 [DBG] Request did not match any endpoints
2024-05-05 04:13:06.823 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-05 04:13:06.826 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 499 null null 128.9609ms
2024-05-05 04:13:06.830 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 499
2024-05-05 04:13:07.146 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-05 04:13:07.147 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-05 04:13:07.147 +03:00 [DBG] Request did not match any endpoints
2024-05-05 04:13:07.246 +03:00 [DBG] Connection ID "18230571318976184327" disconnecting.
2024-05-05 04:13:07.247 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 101.055ms
2024-05-05 04:13:07.507 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-05 04:13:07.507 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-05 04:13:07.507 +03:00 [DBG] Request did not match any endpoints
2024-05-05 04:13:07.666 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 159.5848ms
2024-05-05 04:13:07.666 +03:00 [DBG] Connection ID "18230571318976184329" disconnecting.
2024-05-05 04:13:33.160 +03:00 [INF] Application is shutting down...
2024-05-05 04:13:33.162 +03:00 [DBG] Hosting stopping
2024-05-05 04:13:33.165 +03:00 [DBG] Hosting stopped
2024-05-05 04:30:19.865 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-05 04:30:19.995 +03:00 [DBG] Hosting starting
2024-05-05 04:30:20.074 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-05 04:30:20.075 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-05 04:30:20.076 +03:00 [INF] Hosting environment: Development
2024-05-05 04:30:20.077 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-05 04:30:20.077 +03:00 [DBG] Hosting started
2024-05-05 04:30:20.091 +03:00 [DBG] Connection ID "18374686507052040242" disconnecting.
2024-05-05 04:30:20.105 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-05 04:30:20.112 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-05 04:30:20.164 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-05 04:30:20.165 +03:00 [DBG] Request did not match any endpoints
2024-05-05 04:30:20.217 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-05 04:30:20.219 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 499 null null 123.2669ms
2024-05-05 04:30:20.223 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 499
2024-05-05 04:30:20.355 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-05 04:30:20.356 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-05 04:30:20.356 +03:00 [DBG] Request did not match any endpoints
2024-05-05 04:30:20.470 +03:00 [DBG] Connection ID "18374686507052040244" disconnecting.
2024-05-05 04:30:20.470 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 115.4899ms
2024-05-05 04:30:20.698 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-05 04:30:20.698 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-05 04:30:20.698 +03:00 [DBG] Request did not match any endpoints
2024-05-05 04:30:20.858 +03:00 [DBG] Connection ID "18374686515641974852" disconnecting.
2024-05-05 04:30:20.858 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 160.6362ms
2024-05-05 04:30:39.681 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/api/v1/Report - application/json 71
2024-05-05 04:30:39.691 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report'
2024-05-05 04:30:39.695 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)' with route pattern 'api/v{version:apiVersion}/Report' is valid for the request path '/api/v1/Report'
2024-05-05 04:30:39.700 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-05 04:30:39.701 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-05 04:30:39.702 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-05 04:30:39.731 +03:00 [INF] Route matched with {action = "CreateReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] CreateReportAsync(Diary.Domain.Dto.ReportDto.CreateReportDto) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-05 04:30:39.735 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-05 04:30:39.735 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-05 04:30:39.735 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-05 04:30:39.735 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-05 04:30:39.735 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-05 04:30:39.738 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-05 04:30:40.157 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-05 04:30:41.280 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-05 04:30:41.299 +03:00 [DBG] Creating DbConnection.
2024-05-05 04:30:41.394 +03:00 [DBG] Created DbConnection. (92ms).
2024-05-05 04:30:41.401 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:30:41.569 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:30:41.576 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:30:41.587 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (7ms).
2024-05-05 04:30:41.597 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-05 04:30:41.605 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2024-05-05 04:30:41.607 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (10ms).
2024-05-05 04:30:41.607 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:30:41.634 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:30:41.643 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-05 04:30:41.766 +03:00 [INF] Executed DbCommand (125ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-05 04:30:41.770 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:30:41.773 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (3ms).
2024-05-05 04:30:41.901 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-05 04:30:41.905 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' ...
2024-05-05 04:30:41.907 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' using the name '' in request data ...
2024-05-05 04:30:41.909 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-05 04:30:41.933 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.ReportDto.CreateReportDto'
2024-05-05 04:30:41.934 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-05 04:30:41.934 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-05 04:30:41.934 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' ...
2024-05-05 04:30:41.938 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-05 04:30:41.944 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api) - Validation state: "Valid"
2024-05-05 04:30:42.051 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(x => x.Id == __dto_UserId_0)'
2024-05-05 04:30:42.290 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedAt (DateTime) Required, 1], [Property: User.CreatedBy (long) Required, 2], [Property: User.Login (string) Required MaxLength(100), 3], [Property: User.Password (string) Required, 4], [Property: User.UpdatedAt (DateTime?), 5], [Property: User.UpdatedBy (long?), 6] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.CreatedBy, u.Login, u.Password, u.UpdatedAt, u.UpdatedBy
            FROM User AS u
            WHERE u.Id == @__dto_UserId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-05 04:30:42.334 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:30:42.337 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:30:42.337 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-05 04:30:42.337 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-05 04:30:42.344 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-05-05 04:30:42.348 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Id" = @__dto_UserId_0
LIMIT 1
2024-05-05 04:30:42.380 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[@__dto_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Id" = @__dto_UserId_0
LIMIT 1
2024-05-05 04:30:42.389 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:30:42.390 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 8ms reading results.
2024-05-05 04:30:42.394 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:30:42.394 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-05 04:30:42.396 +03:00 [DBG] Compiling query expression: 
'DbSet<Report>()
    .FirstOrDefault(x => x.Name == __dto_Name_0)'
2024-05-05 04:30:42.401 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Report>(
    asyncEnumerable: new SingleQueryingEnumerable<Report>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Report.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Report.CreatedAt (DateTime) Required, 1], [Property: Report.CreatedBy (long) Required, 2], [Property: Report.Description (string) Required MaxLength(2000), 3], [Property: Report.Name (string) Required MaxLength(100), 4], [Property: Report.UpdatedAt (DateTime?), 5], [Property: Report.UpdatedBy (long?), 6], [Property: Report.UserId (long) Required FK Index, 7] }
            SELECT TOP(1) r.Id, r.CreatedAt, r.CreatedBy, r.Description, r.Name, r.UpdatedAt, r.UpdatedBy, r.UserId
            FROM Report AS r
            WHERE r.Name == @__dto_Name_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Report>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-05 04:30:42.402 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:30:42.402 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:30:42.402 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-05 04:30:42.402 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-05 04:30:42.402 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-05 04:30:42.403 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_Name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Name" = @__dto_Name_0
LIMIT 1
2024-05-05 04:30:42.409 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__dto_Name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Name" = @__dto_Name_0
LIMIT 1
2024-05-05 04:30:42.409 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:30:42.409 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 0ms reading results.
2024-05-05 04:30:42.409 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:30:42.410 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-05 04:30:42.418 +03:00 [INF] Executed action method Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 468.8363ms.
2024-05-05 04:30:42.424 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-05 04:30:42.427 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-05 04:30:42.428 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-05 04:30:42.428 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-05 04:30:42.428 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-05 04:30:42.429 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-05 04:30:42.430 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.ReportDto.ReportDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-05 04:30:42.446 +03:00 [INF] Executed action Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api) in 2705.2008ms
2024-05-05 04:30:42.447 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-05 04:30:42.452 +03:00 [DBG] Connection ID "18374686481282236491" disconnecting.
2024-05-05 04:30:42.455 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-05 04:30:42.461 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:30:42.464 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-05 04:30:42.464 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44308/api/v1/Report - 400 null application/json; charset=utf-8 2783.8712ms
2024-05-05 04:30:54.927 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/api/v1/Report - application/json 71
2024-05-05 04:30:54.928 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report'
2024-05-05 04:30:54.928 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)' with route pattern 'api/v{version:apiVersion}/Report' is valid for the request path '/api/v1/Report'
2024-05-05 04:30:54.928 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-05 04:30:54.928 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-05 04:30:54.928 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-05 04:30:54.929 +03:00 [INF] Route matched with {action = "CreateReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] CreateReportAsync(Diary.Domain.Dto.ReportDto.CreateReportDto) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-05 04:30:54.929 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-05 04:30:54.929 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-05 04:30:54.929 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-05 04:30:54.929 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-05 04:30:54.929 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-05 04:30:54.929 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-05 04:30:54.953 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-05 04:30:54.956 +03:00 [DBG] Creating DbConnection.
2024-05-05 04:30:54.956 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-05 04:30:54.956 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:30:54.975 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:30:54.975 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:30:54.975 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-05 04:30:54.976 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-05 04:30:54.976 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-05-05 04:30:54.976 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-05-05 04:30:54.976 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:30:54.976 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:30:54.977 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-05 04:30:54.981 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-05 04:30:54.981 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:30:54.981 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-05 04:30:54.982 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-05 04:30:54.983 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' ...
2024-05-05 04:30:54.983 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' using the name '' in request data ...
2024-05-05 04:30:54.983 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-05 04:30:54.984 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.ReportDto.CreateReportDto'
2024-05-05 04:30:54.984 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-05 04:30:54.984 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-05 04:30:54.984 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' ...
2024-05-05 04:30:54.984 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-05 04:30:54.984 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api) - Validation state: "Valid"
2024-05-05 04:30:54.988 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:30:54.989 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:30:54.989 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-05 04:30:54.989 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-05 04:30:54.989 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-05 04:30:54.989 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Id" = @__dto_UserId_0
LIMIT 1
2024-05-05 04:30:54.991 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__dto_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Id" = @__dto_UserId_0
LIMIT 1
2024-05-05 04:30:55.034 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-05 04:30:55.067 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:30:55.067 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 76ms reading results.
2024-05-05 04:30:55.068 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:30:55.068 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-05 04:30:55.068 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:30:55.069 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:30:55.069 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-05 04:30:55.069 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-05 04:30:55.069 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-05 04:30:55.069 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_Name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Name" = @__dto_Name_0
LIMIT 1
2024-05-05 04:30:55.070 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__dto_Name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Name" = @__dto_Name_0
LIMIT 1
2024-05-05 04:30:55.071 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:30:55.071 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 0ms reading results.
2024-05-05 04:30:55.071 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:30:55.071 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-05 04:30:55.112 +03:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'Report.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-05 04:30:55.154 +03:00 [DBG] The navigation 'Report.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-05 04:30:55.170 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Report' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-05 04:30:55.174 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-05-05 04:30:55.179 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-05 04:30:55.207 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-05 04:30:55.217 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-05 04:30:55.217 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-05 04:30:55.337 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:30:55.337 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:30:55.339 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-05 04:30:55.340 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-05 04:30:55.340 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-05 04:30:55.340 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-05-05 04:30:55.356 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-05-05 04:30:55.368 +03:00 [DBG] The foreign key property 'Report.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-05 04:30:55.372 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:30:55.373 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 15ms reading results.
2024-05-05 04:30:55.374 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:30:55.374 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-05 04:30:55.389 +03:00 [DBG] An entity of type 'Report' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-05 04:30:55.391 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-05-05 04:30:55.405 +03:00 [INF] Executed action method Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 420.294ms.
2024-05-05 04:30:55.405 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-05 04:30:55.406 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-05 04:30:55.406 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-05 04:30:55.406 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-05 04:30:55.406 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-05 04:30:55.406 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-05 04:30:55.406 +03:00 [INF] Executing OkObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.ReportDto.ReportDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-05 04:30:55.410 +03:00 [INF] Executed action Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api) in 480.9609ms
2024-05-05 04:30:55.410 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-05 04:30:55.411 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-05 04:30:55.411 +03:00 [DBG] Connection ID "18374686519936942122" disconnecting.
2024-05-05 04:30:55.411 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:30:55.411 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-05 04:30:55.411 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44308/api/v1/Report - 200 null application/json; charset=utf-8 484.285ms
2024-05-05 04:32:17.347 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:44308/api/v1/Report - application/json 62
2024-05-05 04:32:17.349 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report'
2024-05-05 04:32:17.350 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api)' with route pattern 'api/v{version:apiVersion}/Report' is valid for the request path '/api/v1/Report'
2024-05-05 04:32:17.350 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api)'
2024-05-05 04:32:17.350 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-05 04:32:17.350 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api)'
2024-05-05 04:32:17.357 +03:00 [INF] Route matched with {action = "UpdateReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] UpdateReportAsync(Diary.Domain.Dto.ReportDto.UpdateReportDto) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-05 04:32:17.357 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-05 04:32:17.357 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-05 04:32:17.357 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-05 04:32:17.357 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-05 04:32:17.357 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-05 04:32:17.357 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-05 04:32:17.417 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-05 04:32:17.426 +03:00 [DBG] Creating DbConnection.
2024-05-05 04:32:17.426 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-05 04:32:17.426 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:32:17.436 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:32:17.436 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:32:17.436 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-05 04:32:17.436 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-05 04:32:17.436 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-05-05 04:32:17.436 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-05-05 04:32:17.436 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:32:17.436 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:32:17.437 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-05 04:32:17.439 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-05 04:32:17.440 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:32:17.440 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-05 04:32:17.441 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-05 04:32:17.441 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UpdateReportDto' ...
2024-05-05 04:32:17.441 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UpdateReportDto' using the name '' in request data ...
2024-05-05 04:32:17.441 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-05 04:32:17.444 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.ReportDto.UpdateReportDto'
2024-05-05 04:32:17.444 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UpdateReportDto'.
2024-05-05 04:32:17.444 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UpdateReportDto'.
2024-05-05 04:32:17.444 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UpdateReportDto' ...
2024-05-05 04:32:17.446 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UpdateReportDto'.
2024-05-05 04:32:17.446 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api) - Validation state: "Valid"
2024-05-05 04:32:17.449 +03:00 [DBG] Compiling query expression: 
'DbSet<Report>()
    .FirstOrDefault(x => x.Id == __reportDto_Id_0)'
2024-05-05 04:32:17.453 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Report>(
    asyncEnumerable: new SingleQueryingEnumerable<Report>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Report.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Report.CreatedAt (DateTime) Required, 1], [Property: Report.CreatedBy (long) Required, 2], [Property: Report.Description (string) Required MaxLength(2000), 3], [Property: Report.Name (string) Required MaxLength(100), 4], [Property: Report.UpdatedAt (DateTime?), 5], [Property: Report.UpdatedBy (long?), 6], [Property: Report.UserId (long) Required FK Index, 7] }
            SELECT TOP(1) r.Id, r.CreatedAt, r.CreatedBy, r.Description, r.Name, r.UpdatedAt, r.UpdatedBy, r.UserId
            FROM Report AS r
            WHERE r.Id == @__reportDto_Id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Report>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-05 04:32:17.454 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:32:17.454 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:32:17.454 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-05 04:32:17.454 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-05 04:32:17.454 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-05 04:32:17.454 +03:00 [DBG] Executing DbCommand [Parameters=[@__reportDto_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Id" = @__reportDto_Id_0
LIMIT 1
2024-05-05 04:32:17.456 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__reportDto_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Id" = @__reportDto_Id_0
LIMIT 1
2024-05-05 04:32:17.456 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Report' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-05 04:32:17.456 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:32:17.457 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 0ms reading results.
2024-05-05 04:32:17.457 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:32:17.457 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-05 04:32:17.459 +03:00 [DBG] An entity of type 'Report' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-05 04:32:17.459 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-05-05 04:32:17.459 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-05 04:32:17.460 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-05 04:32:17.463 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-05 04:32:17.463 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-05 04:32:17.469 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:32:17.470 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:32:17.470 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-05 04:32:17.470 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-05 04:32:17.470 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-05 04:32:17.470 +03:00 [DBG] Executing DbCommand [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Report" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "Description" = @p2, "Name" = @p3, "UpdatedAt" = @p4, "UpdatedBy" = @p5, "UserId" = @p6
WHERE "Id" = @p7;
2024-05-05 04:32:17.475 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Report" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "Description" = @p2, "Name" = @p3, "UpdatedAt" = @p4, "UpdatedBy" = @p5, "UserId" = @p6
WHERE "Id" = @p7;
2024-05-05 04:32:17.475 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:32:17.475 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 0ms reading results.
2024-05-05 04:32:17.475 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:32:17.475 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-05 04:32:17.477 +03:00 [DBG] An entity of type 'Report' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-05 04:32:17.477 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-05-05 04:32:17.479 +03:00 [INF] Executed action method Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 32.9439ms.
2024-05-05 04:32:17.479 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-05 04:32:17.479 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-05 04:32:17.479 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-05 04:32:17.479 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-05 04:32:17.479 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-05 04:32:17.479 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-05 04:32:17.479 +03:00 [INF] Executing OkObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.ReportDto.ReportDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-05 04:32:17.479 +03:00 [INF] Executed action Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api) in 122.2124ms
2024-05-05 04:32:17.479 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api)'
2024-05-05 04:32:17.479 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-05 04:32:17.479 +03:00 [DBG] Connection ID "18374686524231909425" disconnecting.
2024-05-05 04:32:17.479 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:32:17.480 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-05 04:32:17.480 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:44308/api/v1/Report - 200 null application/json; charset=utf-8 132.8174ms
2024-05-05 04:33:19.764 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/api/v1/Report - application/json 67
2024-05-05 04:33:19.764 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report'
2024-05-05 04:33:19.764 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)' with route pattern 'api/v{version:apiVersion}/Report' is valid for the request path '/api/v1/Report'
2024-05-05 04:33:19.764 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-05 04:33:19.764 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-05 04:33:19.764 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-05 04:33:19.764 +03:00 [INF] Route matched with {action = "CreateReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] CreateReportAsync(Diary.Domain.Dto.ReportDto.CreateReportDto) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-05 04:33:19.765 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-05 04:33:19.765 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-05 04:33:19.765 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-05 04:33:19.765 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-05 04:33:19.765 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-05 04:33:19.765 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-05 04:33:19.766 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-05 04:33:19.766 +03:00 [DBG] Creating DbConnection.
2024-05-05 04:33:19.766 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-05 04:33:19.766 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:33:19.779 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:33:19.779 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:33:19.780 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-05 04:33:19.780 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-05 04:33:19.780 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-05-05 04:33:19.780 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-05-05 04:33:19.780 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:33:19.780 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:33:19.780 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-05 04:33:19.783 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-05 04:33:19.784 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:33:19.784 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-05 04:33:19.784 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-05 04:33:19.784 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' ...
2024-05-05 04:33:19.784 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' using the name '' in request data ...
2024-05-05 04:33:19.784 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-05 04:33:19.784 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.ReportDto.CreateReportDto'
2024-05-05 04:33:19.784 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-05 04:33:19.784 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-05 04:33:19.785 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' ...
2024-05-05 04:33:19.785 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-05 04:33:19.785 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api) - Validation state: "Valid"
2024-05-05 04:33:19.785 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:33:19.785 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:33:19.785 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-05 04:33:19.785 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-05 04:33:19.785 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-05 04:33:19.785 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Id" = @__dto_UserId_0
LIMIT 1
2024-05-05 04:33:19.788 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__dto_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Id" = @__dto_UserId_0
LIMIT 1
2024-05-05 04:33:19.788 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-05 04:33:19.788 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:33:19.788 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 0ms reading results.
2024-05-05 04:33:19.788 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:33:19.788 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-05 04:33:19.788 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:33:19.789 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:33:19.789 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-05 04:33:19.789 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-05 04:33:19.789 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-05 04:33:19.789 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_Name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Name" = @__dto_Name_0
LIMIT 1
2024-05-05 04:33:19.790 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__dto_Name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Name" = @__dto_Name_0
LIMIT 1
2024-05-05 04:33:19.790 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:33:19.790 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 0ms reading results.
2024-05-05 04:33:19.790 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:33:19.790 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-05 04:33:19.792 +03:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'Report.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-05 04:33:19.793 +03:00 [DBG] The navigation 'Report.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-05 04:33:19.793 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Report' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-05 04:33:19.793 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-05-05 04:33:19.793 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-05 04:33:19.793 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-05 04:33:19.793 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-05 04:33:19.794 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-05 04:33:19.794 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:33:19.794 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:33:19.794 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-05 04:33:19.794 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-05 04:33:19.794 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-05 04:33:19.794 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-05-05 04:33:19.797 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-05-05 04:33:19.798 +03:00 [DBG] The foreign key property 'Report.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-05 04:33:19.798 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:33:19.798 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 0ms reading results.
2024-05-05 04:33:19.798 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:33:19.798 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-05 04:33:19.798 +03:00 [DBG] An entity of type 'Report' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-05 04:33:19.798 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-05-05 04:33:19.798 +03:00 [INF] Executed action method Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 13.6328ms.
2024-05-05 04:33:19.799 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-05 04:33:19.799 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-05 04:33:19.799 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-05 04:33:19.799 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-05 04:33:19.799 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-05 04:33:19.799 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-05 04:33:19.799 +03:00 [INF] Executing OkObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.ReportDto.ReportDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-05 04:33:19.799 +03:00 [INF] Executed action Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api) in 34.5601ms
2024-05-05 04:33:19.799 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-05 04:33:19.800 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-05 04:33:19.800 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:33:19.800 +03:00 [DBG] Connection ID "18374686519936942124" disconnecting.
2024-05-05 04:33:19.800 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-05 04:33:19.800 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44308/api/v1/Report - 200 null application/json; charset=utf-8 36.1981ms
2024-05-05 04:33:24.033 +03:00 [INF] Application is shutting down...
2024-05-05 04:33:24.034 +03:00 [DBG] Hosting stopping
2024-05-05 04:33:24.035 +03:00 [DBG] Hosting stopped
2024-05-05 04:33:41.742 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-05 04:33:41.849 +03:00 [DBG] Hosting starting
2024-05-05 04:33:41.983 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-05 04:33:41.993 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-05 04:33:41.994 +03:00 [INF] Hosting environment: Development
2024-05-05 04:33:42.003 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-05 04:33:42.003 +03:00 [DBG] Hosting started
2024-05-05 04:33:42.051 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-05 04:33:42.056 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-05 04:33:42.100 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-05 04:33:42.100 +03:00 [DBG] Request did not match any endpoints
2024-05-05 04:33:42.172 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-05 04:33:42.196 +03:00 [DBG] Connection ID "18374686481282236493" disconnecting.
2024-05-05 04:33:42.198 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 404 null null 152.7437ms
2024-05-05 04:33:42.202 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 404
2024-05-05 04:33:44.216 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-05 04:33:44.216 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-05 04:33:44.216 +03:00 [DBG] Request did not match any endpoints
2024-05-05 04:33:44.308 +03:00 [DBG] Connection ID "18374686498462105689" disconnecting.
2024-05-05 04:33:44.308 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 92.5651ms
2024-05-05 04:33:44.516 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-05 04:33:44.516 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-05 04:33:44.516 +03:00 [DBG] Request did not match any endpoints
2024-05-05 04:33:44.665 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 149.8974ms
2024-05-05 04:33:44.669 +03:00 [DBG] Connection ID "18374686524231909427" disconnecting.
2024-05-05 04:34:02.480 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/api/v1/Report - application/json 74
2024-05-05 04:34:02.489 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report'
2024-05-05 04:34:02.494 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)' with route pattern 'api/v{version:apiVersion}/Report' is valid for the request path '/api/v1/Report'
2024-05-05 04:34:02.497 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-05 04:34:02.498 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-05 04:34:02.498 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-05 04:34:02.528 +03:00 [INF] Route matched with {action = "CreateReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] CreateReportAsync(Diary.Domain.Dto.ReportDto.CreateReportDto) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-05 04:34:02.531 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-05 04:34:02.532 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-05 04:34:02.532 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-05 04:34:02.533 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-05 04:34:02.533 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-05 04:34:02.534 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-05 04:34:02.735 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-05 04:34:03.613 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-05 04:34:03.632 +03:00 [DBG] Creating DbConnection.
2024-05-05 04:34:03.696 +03:00 [DBG] Created DbConnection. (61ms).
2024-05-05 04:34:03.706 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:34:03.831 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:34:03.838 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:34:03.849 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (6ms).
2024-05-05 04:34:03.857 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-05 04:34:03.865 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2024-05-05 04:34:03.867 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (10ms).
2024-05-05 04:34:03.867 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:34:03.898 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:34:03.914 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-05 04:34:04.044 +03:00 [INF] Executed DbCommand (130ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-05 04:34:04.048 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:34:04.052 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (3ms).
2024-05-05 04:34:04.185 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-05 04:34:04.190 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' ...
2024-05-05 04:34:04.193 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' using the name '' in request data ...
2024-05-05 04:34:04.194 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-05 04:34:04.214 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.ReportDto.CreateReportDto'
2024-05-05 04:34:04.214 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-05 04:34:04.214 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-05 04:34:04.215 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' ...
2024-05-05 04:34:04.223 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-05 04:34:04.230 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api) - Validation state: "Valid"
2024-05-05 04:34:04.343 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(x => x.Id == __dto_UserId_0)'
2024-05-05 04:34:04.617 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedAt (DateTime) Required, 1], [Property: User.CreatedBy (long) Required, 2], [Property: User.Login (string) Required MaxLength(100), 3], [Property: User.Password (string) Required, 4], [Property: User.UpdatedAt (DateTime?), 5], [Property: User.UpdatedBy (long?), 6] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.CreatedBy, u.Login, u.Password, u.UpdatedAt, u.UpdatedBy
            FROM User AS u
            WHERE u.Id == @__dto_UserId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-05 04:34:04.670 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:34:04.673 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:34:04.673 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-05 04:34:04.673 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-05 04:34:04.679 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-05-05 04:34:04.683 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Id" = @__dto_UserId_0
LIMIT 1
2024-05-05 04:34:04.722 +03:00 [INF] Executed DbCommand (42ms) [Parameters=[@__dto_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Id" = @__dto_UserId_0
LIMIT 1
2024-05-05 04:34:04.772 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-05 04:34:04.812 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:34:04.814 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 89ms reading results.
2024-05-05 04:34:04.819 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:34:04.820 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-05 04:34:04.822 +03:00 [DBG] Compiling query expression: 
'DbSet<Report>()
    .FirstOrDefault(x => x.Name == __dto_Name_0)'
2024-05-05 04:34:04.826 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Report>(
    asyncEnumerable: new SingleQueryingEnumerable<Report>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Report.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Report.CreatedAt (DateTime) Required, 1], [Property: Report.CreatedBy (long) Required, 2], [Property: Report.Description (string) Required MaxLength(2000), 3], [Property: Report.Name (string) Required MaxLength(100), 4], [Property: Report.UpdatedAt (DateTime?), 5], [Property: Report.UpdatedBy (long?), 6], [Property: Report.UserId (long) Required FK Index, 7] }
            SELECT TOP(1) r.Id, r.CreatedAt, r.CreatedBy, r.Description, r.Name, r.UpdatedAt, r.UpdatedBy, r.UserId
            FROM Report AS r
            WHERE r.Name == @__dto_Name_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Report>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-05 04:34:04.827 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:34:04.827 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:34:04.827 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-05 04:34:04.827 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-05 04:34:04.828 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-05 04:34:04.828 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_Name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Name" = @__dto_Name_0
LIMIT 1
2024-05-05 04:34:04.833 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__dto_Name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Name" = @__dto_Name_0
LIMIT 1
2024-05-05 04:34:04.834 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:34:04.834 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 0ms reading results.
2024-05-05 04:34:04.834 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:34:04.834 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-05 04:34:04.874 +03:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'Report.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-05 04:34:04.902 +03:00 [DBG] The navigation 'Report.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-05 04:34:04.918 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Report' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-05 04:34:04.923 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-05-05 04:34:20.944 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-05 04:34:20.966 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-05 04:34:36.950 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-05 04:34:36.951 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-05 04:34:37.013 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:34:37.013 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:34:37.015 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-05 04:34:37.015 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-05 04:34:37.015 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-05 04:34:37.015 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-05-05 04:34:37.024 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-05-05 04:34:37.037 +03:00 [DBG] The foreign key property 'Report.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-05 04:34:37.040 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:34:37.040 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 13ms reading results.
2024-05-05 04:34:37.041 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:34:37.041 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-05 04:34:37.051 +03:00 [DBG] An entity of type 'Report' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-05 04:34:37.053 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-05-05 04:34:37.066 +03:00 [INF] Executed action method Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 32832.6455ms.
2024-05-05 04:34:37.071 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-05 04:34:37.073 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-05 04:34:37.074 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-05 04:34:37.074 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-05 04:34:37.074 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-05 04:34:37.075 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-05 04:34:37.075 +03:00 [INF] Executing OkObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.ReportDto.ReportDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-05 04:34:37.087 +03:00 [INF] Executed action Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api) in 34551.369ms
2024-05-05 04:34:37.088 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-05 04:34:37.091 +03:00 [DBG] Connection ID "18374686485577203747" disconnecting.
2024-05-05 04:34:37.094 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-05 04:34:37.097 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:34:37.099 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (1ms).
2024-05-05 04:34:37.100 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44308/api/v1/Report - 200 null application/json; charset=utf-8 34620.3428ms
2024-05-05 04:35:09.155 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:44308/api/v1/Report - application/json 80
2024-05-05 04:35:09.156 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report'
2024-05-05 04:35:09.156 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api)' with route pattern 'api/v{version:apiVersion}/Report' is valid for the request path '/api/v1/Report'
2024-05-05 04:35:09.156 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api)'
2024-05-05 04:35:09.157 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-05 04:35:09.157 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api)'
2024-05-05 04:35:09.161 +03:00 [INF] Route matched with {action = "UpdateReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] UpdateReportAsync(Diary.Domain.Dto.ReportDto.UpdateReportDto) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-05 04:35:09.161 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-05 04:35:09.161 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-05 04:35:09.161 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-05 04:35:09.161 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-05 04:35:09.161 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-05 04:35:09.161 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-05 04:35:09.192 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-05 04:35:09.195 +03:00 [DBG] Creating DbConnection.
2024-05-05 04:35:09.195 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-05 04:35:09.195 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:35:09.206 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:35:09.206 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:35:09.206 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-05 04:35:09.207 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-05 04:35:09.207 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-05-05 04:35:09.207 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-05-05 04:35:09.207 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:35:09.207 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:35:09.208 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-05 04:35:09.211 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-05 04:35:09.211 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:35:09.211 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-05 04:35:09.212 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-05 04:35:09.213 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UpdateReportDto' ...
2024-05-05 04:35:09.213 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UpdateReportDto' using the name '' in request data ...
2024-05-05 04:35:09.213 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-05 04:35:09.218 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.ReportDto.UpdateReportDto'
2024-05-05 04:35:09.218 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UpdateReportDto'.
2024-05-05 04:35:09.218 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UpdateReportDto'.
2024-05-05 04:35:09.218 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UpdateReportDto' ...
2024-05-05 04:35:09.220 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UpdateReportDto'.
2024-05-05 04:35:09.221 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api) - Validation state: "Valid"
2024-05-05 04:35:09.224 +03:00 [DBG] Compiling query expression: 
'DbSet<Report>()
    .FirstOrDefault(x => x.Id == __reportDto_Id_0)'
2024-05-05 04:35:09.227 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Report>(
    asyncEnumerable: new SingleQueryingEnumerable<Report>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Report.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Report.CreatedAt (DateTime) Required, 1], [Property: Report.CreatedBy (long) Required, 2], [Property: Report.Description (string) Required MaxLength(2000), 3], [Property: Report.Name (string) Required MaxLength(100), 4], [Property: Report.UpdatedAt (DateTime?), 5], [Property: Report.UpdatedBy (long?), 6], [Property: Report.UserId (long) Required FK Index, 7] }
            SELECT TOP(1) r.Id, r.CreatedAt, r.CreatedBy, r.Description, r.Name, r.UpdatedAt, r.UpdatedBy, r.UserId
            FROM Report AS r
            WHERE r.Id == @__reportDto_Id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Report>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-05 04:35:09.227 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:35:09.227 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:35:09.227 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-05 04:35:09.228 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-05 04:35:09.228 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-05 04:35:09.228 +03:00 [DBG] Executing DbCommand [Parameters=[@__reportDto_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Id" = @__reportDto_Id_0
LIMIT 1
2024-05-05 04:35:09.230 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__reportDto_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Id" = @__reportDto_Id_0
LIMIT 1
2024-05-05 04:35:09.231 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:35:09.231 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 0ms reading results.
2024-05-05 04:35:09.232 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:35:09.232 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-05 04:35:09.234 +03:00 [INF] Executed action method Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 13.2325ms.
2024-05-05 04:35:09.235 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-05 04:35:09.235 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-05 04:35:09.235 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-05 04:35:09.235 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-05 04:35:09.235 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-05 04:35:09.235 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-05 04:35:09.235 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.ReportDto.ReportDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-05 04:35:09.237 +03:00 [INF] Executed action Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api) in 75.635ms
2024-05-05 04:35:09.237 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api)'
2024-05-05 04:35:09.237 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-05 04:35:09.237 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:35:09.238 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-05 04:35:09.241 +03:00 [DBG] Connection ID "18374686515641974854" disconnecting.
2024-05-05 04:35:09.241 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:44308/api/v1/Report - 400 null application/json; charset=utf-8 86.6334ms
2024-05-05 04:36:42.805 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:44308/api/v1/Report - application/json 60
2024-05-05 04:36:42.806 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report'
2024-05-05 04:36:42.806 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api)' with route pattern 'api/v{version:apiVersion}/Report' is valid for the request path '/api/v1/Report'
2024-05-05 04:36:42.806 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api)'
2024-05-05 04:36:42.806 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-05 04:36:42.806 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api)'
2024-05-05 04:36:42.807 +03:00 [INF] Route matched with {action = "UpdateReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] UpdateReportAsync(Diary.Domain.Dto.ReportDto.UpdateReportDto) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-05 04:36:42.808 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-05 04:36:42.808 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-05 04:36:42.809 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-05 04:36:42.809 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-05 04:36:42.809 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-05 04:36:42.809 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-05 04:36:42.841 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-05 04:36:42.844 +03:00 [DBG] Creating DbConnection.
2024-05-05 04:36:42.844 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-05 04:36:42.844 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:36:42.853 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:36:42.853 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:36:42.853 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-05 04:36:42.854 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-05 04:36:42.854 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-05-05 04:36:42.854 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-05-05 04:36:42.854 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:36:42.854 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:36:42.854 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-05 04:36:42.857 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-05 04:36:42.857 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:36:42.857 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-05 04:36:42.858 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-05 04:36:42.858 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UpdateReportDto' ...
2024-05-05 04:36:42.858 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UpdateReportDto' using the name '' in request data ...
2024-05-05 04:36:42.858 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-05 04:36:42.860 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.ReportDto.UpdateReportDto'
2024-05-05 04:36:42.860 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UpdateReportDto'.
2024-05-05 04:36:42.860 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UpdateReportDto'.
2024-05-05 04:36:42.860 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UpdateReportDto' ...
2024-05-05 04:36:42.860 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UpdateReportDto'.
2024-05-05 04:36:42.860 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api) - Validation state: "Valid"
2024-05-05 04:36:42.863 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:36:42.863 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:36:42.863 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-05 04:36:42.863 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-05 04:36:42.864 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-05 04:36:42.864 +03:00 [DBG] Executing DbCommand [Parameters=[@__reportDto_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Id" = @__reportDto_Id_0
LIMIT 1
2024-05-05 04:36:42.866 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__reportDto_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Id" = @__reportDto_Id_0
LIMIT 1
2024-05-05 04:36:42.868 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Report' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-05 04:36:42.868 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:36:42.868 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 1ms reading results.
2024-05-05 04:36:42.868 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:36:42.869 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-05 04:36:42.877 +03:00 [DBG] An entity of type 'Report' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-05 04:36:42.877 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-05-05 04:36:45.567 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-05 04:36:45.567 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-05 04:37:01.746 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-05 04:37:01.748 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-05 04:37:01.756 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:37:01.756 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:37:01.756 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-05 04:37:01.756 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-05 04:37:01.756 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-05 04:37:01.756 +03:00 [DBG] Executing DbCommand [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Report" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "Description" = @p2, "Name" = @p3, "UpdatedAt" = @p4, "UpdatedBy" = @p5, "UserId" = @p6
WHERE "Id" = @p7;
2024-05-05 04:37:01.761 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p7='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Report" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "Description" = @p2, "Name" = @p3, "UpdatedAt" = @p4, "UpdatedBy" = @p5, "UserId" = @p6
WHERE "Id" = @p7;
2024-05-05 04:37:01.762 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:37:01.762 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 0ms reading results.
2024-05-05 04:37:01.762 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:37:01.762 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-05 04:37:01.764 +03:00 [DBG] An entity of type 'Report' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-05 04:37:01.764 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-05-05 04:37:01.765 +03:00 [INF] Executed action method Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 18904.2775ms.
2024-05-05 04:37:01.765 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-05 04:37:01.765 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-05 04:37:01.765 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-05 04:37:01.765 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-05 04:37:01.766 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-05 04:37:01.766 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-05 04:37:01.766 +03:00 [INF] Executing OkObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.ReportDto.ReportDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-05 04:37:01.766 +03:00 [INF] Executed action Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api) in 18957.0142ms
2024-05-05 04:37:01.766 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.ReportController.UpdateReportAsync (Diary.Api)'
2024-05-05 04:37:01.766 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-05 04:37:01.766 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 04:37:01.766 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-05 04:37:01.766 +03:00 [DBG] Connection ID "18374686481282236495" disconnecting.
2024-05-05 04:37:01.766 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:44308/api/v1/Report - 200 null application/json; charset=utf-8 18961.5724ms
2024-05-05 18:52:30.622 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-05 18:52:30.766 +03:00 [DBG] Hosting starting
2024-05-05 18:52:30.986 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-05 18:52:30.986 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-05 18:52:30.987 +03:00 [INF] Hosting environment: Development
2024-05-05 18:52:30.987 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-05 18:52:30.987 +03:00 [DBG] Hosting started
2024-05-05 18:52:31.103 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-05 18:52:31.108 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-05 18:52:31.150 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-05 18:52:31.151 +03:00 [DBG] Request did not match any endpoints
2024-05-05 18:52:31.314 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-05 18:52:31.359 +03:00 [DBG] Connection ID "18374686494167138338" disconnecting.
2024-05-05 18:52:31.360 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 404 null null 263.3232ms
2024-05-05 18:52:31.364 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 404
2024-05-05 18:52:41.446 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/ - null null
2024-05-05 18:52:41.446 +03:00 [DBG] No candidates found for the request path '/'
2024-05-05 18:52:41.446 +03:00 [DBG] Request did not match any endpoints
2024-05-05 18:52:41.451 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/ - 301 null null 5.4431ms
2024-05-05 18:52:41.451 +03:00 [DBG] Connection ID "18158513724938256411" disconnecting.
2024-05-05 18:52:41.455 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-05 18:52:41.456 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-05 18:52:41.456 +03:00 [DBG] Request did not match any endpoints
2024-05-05 18:52:41.542 +03:00 [DBG] Connection ID "18374686489872171087" disconnecting.
2024-05-05 18:52:41.542 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 86.6935ms
2024-05-05 18:52:41.682 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger-ui.css - null null
2024-05-05 18:52:41.682 +03:00 [DBG] No candidates found for the request path '/swagger-ui.css'
2024-05-05 18:52:41.682 +03:00 [DBG] Request did not match any endpoints
2024-05-05 18:52:41.682 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger-ui-standalone-preset.js - null null
2024-05-05 18:52:41.682 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger-ui-bundle.js - null null
2024-05-05 18:52:41.683 +03:00 [DBG] No candidates found for the request path '/swagger-ui-standalone-preset.js'
2024-05-05 18:52:41.683 +03:00 [DBG] No candidates found for the request path '/swagger-ui-bundle.js'
2024-05-05 18:52:41.683 +03:00 [DBG] Request did not match any endpoints
2024-05-05 18:52:41.683 +03:00 [DBG] Request did not match any endpoints
2024-05-05 18:52:41.704 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-05-05 18:52:41.704 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-05-05 18:52:41.706 +03:00 [DBG] Connection ID "18374686502757072951" disconnecting.
2024-05-05 18:52:41.710 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger-ui.css - 200 143943 text/css 27.9616ms
2024-05-05 18:52:41.715 +03:00 [DBG] Connection ID "18230571327566118915" disconnecting.
2024-05-05 18:52:41.716 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-05-05 18:52:41.716 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger-ui-standalone-preset.js - 200 339486 text/javascript 33.5751ms
2024-05-05 18:52:41.744 +03:00 [DBG] Connection ID "18158513724938256413" disconnecting.
2024-05-05 18:52:41.744 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger-ui-bundle.js - 200 1096145 text/javascript 61.7739ms
2024-05-05 18:52:42.002 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-05 18:52:42.002 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-05 18:52:42.003 +03:00 [DBG] Request did not match any endpoints
2024-05-05 18:52:42.143 +03:00 [DBG] Connection ID "18374686489872171089" disconnecting.
2024-05-05 18:52:42.143 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 141.2476ms
2024-05-05 18:52:55.732 +03:00 [INF] Application is shutting down...
2024-05-05 18:52:55.734 +03:00 [DBG] Hosting stopping
2024-05-05 18:52:55.736 +03:00 [DBG] Hosting stopped
2024-05-05 18:53:14.184 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-05 18:53:14.315 +03:00 [DBG] Hosting starting
2024-05-05 18:53:14.434 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-05 18:53:14.444 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-05 18:53:14.455 +03:00 [INF] Hosting environment: Development
2024-05-05 18:53:14.455 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-05 18:53:14.455 +03:00 [DBG] Hosting started
2024-05-05 18:53:14.486 +03:00 [DBG] Connection ID "18374686524231909429" disconnecting.
2024-05-05 18:53:14.513 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-05 18:53:14.521 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-05 18:53:14.577 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-05 18:53:14.578 +03:00 [DBG] Request did not match any endpoints
2024-05-05 18:53:14.658 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-05 18:53:14.661 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 499 null null 158.6954ms
2024-05-05 18:53:14.664 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 499
2024-05-05 18:53:31.789 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-05 18:53:31.887 +03:00 [DBG] Hosting starting
2024-05-05 18:53:32.003 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-05 18:53:32.004 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-05 18:53:32.012 +03:00 [INF] Hosting environment: Development
2024-05-05 18:53:32.012 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-05 18:53:32.012 +03:00 [DBG] Hosting started
2024-05-05 18:53:32.069 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-05 18:53:32.075 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-05 18:53:32.123 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-05 18:53:32.123 +03:00 [DBG] Request did not match any endpoints
2024-05-05 18:53:32.186 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-05 18:53:32.207 +03:00 [DBG] Connection ID "18230571323271151644" disconnecting.
2024-05-05 18:53:32.209 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 404 null null 146.7464ms
2024-05-05 18:53:32.212 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 404
2024-05-05 18:53:32.677 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagge - null null
2024-05-05 18:53:32.678 +03:00 [DBG] No candidates found for the request path '/swagge'
2024-05-05 18:53:32.678 +03:00 [DBG] Request did not match any endpoints
2024-05-05 18:53:32.687 +03:00 [DBG] The request path /swagge does not match a supported file type
2024-05-05 18:53:32.690 +03:00 [DBG] Connection ID "18374686481282236507" disconnecting.
2024-05-05 18:53:32.690 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagge - 404 null null 13.3985ms
2024-05-05 18:53:32.691 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagge, Response status code: 404
2024-05-05 18:53:34.861 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-05 18:53:34.862 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-05 18:53:34.862 +03:00 [DBG] Request did not match any endpoints
2024-05-05 18:53:34.945 +03:00 [DBG] Connection ID "18302628930193981458" disconnecting.
2024-05-05 18:53:34.945 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 83.2567ms
2024-05-05 18:53:35.406 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-05 18:53:35.406 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-05 18:53:35.406 +03:00 [DBG] Request did not match any endpoints
2024-05-05 18:53:35.549 +03:00 [DBG] Connection ID "18374686481282236509" disconnecting.
2024-05-05 18:53:35.549 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 142.8173ms
2024-05-05 18:54:20.532 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/api/v1/Report/1 - null null
2024-05-05 18:54:20.548 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report/1'
2024-05-05 18:54:20.552 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.GetReportAsync (Diary.Api)' with route pattern 'api/v{version:apiVersion}/Report/{id}' is valid for the request path '/api/v1/Report/1'
2024-05-05 18:54:20.555 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.GetReportAsync (Diary.Api)'
2024-05-05 18:54:20.557 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-05 18:54:20.557 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.GetReportAsync (Diary.Api)'
2024-05-05 18:54:20.582 +03:00 [INF] Route matched with {action = "GetReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] GetReportAsync(Int64) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-05 18:54:20.586 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-05 18:54:20.586 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-05 18:54:20.587 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-05 18:54:20.587 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-05 18:54:20.587 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-05 18:54:20.589 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-05 18:54:21.032 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-05 18:54:21.990 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-05 18:54:22.007 +03:00 [DBG] Creating DbConnection.
2024-05-05 18:54:22.109 +03:00 [DBG] Created DbConnection. (100ms).
2024-05-05 18:54:22.116 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 18:54:26.261 +03:00 [DBG] An error occurred using the connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 18:57:09.560 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-05 18:57:09.665 +03:00 [DBG] Hosting starting
2024-05-05 18:57:09.829 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-05 18:57:09.867 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-05 18:57:09.886 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-05 18:57:09.900 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-05 18:57:09.921 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-05 18:57:09.924 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-05 18:57:09.925 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-05 18:57:09.931 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-05 18:57:09.934 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-05 18:57:09.937 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-05 18:57:09.938 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-05 18:57:09.943 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-05 18:57:09.944 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-05 18:57:09.946 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-05 18:57:09.946 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-05 18:57:10.045 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-05 18:57:10.046 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-05 18:57:10.046 +03:00 [INF] Hosting environment: Development
2024-05-05 18:57:10.055 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-05 18:57:10.056 +03:00 [DBG] Hosting started
2024-05-05 18:57:10.105 +03:00 [DBG] Connection ID "18374686511347007528" disconnecting.
2024-05-05 18:57:10.123 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-05 18:57:10.123 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-05 18:57:10.126 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-05 18:57:10.126 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-05 18:57:10.190 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-05 18:57:10.190 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-05 18:57:10.191 +03:00 [DBG] Request did not match any endpoints
2024-05-05 18:57:10.191 +03:00 [DBG] Request did not match any endpoints
2024-05-05 18:57:18.900 +03:00 [DBG] Connection ID "18374686528526876701" disconnecting.
2024-05-05 18:57:18.901 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-05 18:57:18.915 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-05 18:57:18.915 +03:00 [DBG] Request did not match any endpoints
2024-05-05 18:57:35.765 +03:00 [DBG] Connection ID "18374686498462105695" disconnecting.
2024-05-05 18:57:35.768 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-05 18:57:35.768 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-05 18:57:35.771 +03:00 [DBG] Request did not match any endpoints
2024-05-05 18:57:41.981 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-05 18:57:41.981 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-05 18:57:41.981 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-05 18:57:41.981 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-05 18:57:42.035 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-05 18:57:42.038 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 499 null null 31921.7435ms
2024-05-05 18:57:42.042 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 499
2024-05-05 18:57:42.147 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 32031.0988ms
2024-05-05 18:57:42.147 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 23246.4644ms
2024-05-05 18:57:42.151 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 6383.5432ms
2024-05-05 18:57:42.153 +03:00 [DBG] Connection ID "18158513724938256415" disconnecting.
2024-05-05 18:57:42.492 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-05 18:57:42.493 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-05 18:57:42.493 +03:00 [DBG] Request did not match any endpoints
2024-05-05 18:57:42.493 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-05 18:57:42.528 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/favicon-32x32.png - null null
2024-05-05 18:57:42.528 +03:00 [DBG] No candidates found for the request path '/favicon-32x32.png'
2024-05-05 18:57:42.528 +03:00 [DBG] Request did not match any endpoints
2024-05-05 18:57:42.528 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-05 18:57:42.539 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-05-05 18:57:42.539 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/favicon-32x32.png - 200 628 image/png 11.3836ms
2024-05-05 18:57:42.543 +03:00 [DBG] Connection ID "18374686481282236511" disconnecting.
2024-05-05 18:57:42.654 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 161.8762ms
2024-05-05 18:57:42.658 +03:00 [DBG] Connection ID "18374686498462105697" disconnecting.
2024-05-05 18:59:00.939 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-05 18:59:01.025 +03:00 [DBG] Hosting starting
2024-05-05 18:59:01.038 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-05 18:59:01.060 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-05 18:59:01.063 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-05 18:59:01.064 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-05 18:59:01.067 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-05 18:59:01.070 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-05 18:59:01.070 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-05 18:59:01.077 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-05 18:59:01.080 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-05 18:59:01.083 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-05 18:59:01.084 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-05 18:59:01.088 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-05 18:59:01.089 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-05 18:59:01.090 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-05 18:59:01.091 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-05 18:59:01.118 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-05 18:59:01.119 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-05 18:59:01.119 +03:00 [INF] Hosting environment: Development
2024-05-05 18:59:01.119 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-05 18:59:01.119 +03:00 [DBG] Hosting started
2024-05-05 18:59:01.139 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-05 18:59:01.142 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-05 18:59:01.191 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-05 18:59:01.191 +03:00 [DBG] Request did not match any endpoints
2024-05-05 18:59:01.227 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-05 18:59:01.261 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-05 18:59:01.272 +03:00 [DBG] Connection ID "18374686481282236513" disconnecting.
2024-05-05 18:59:01.274 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 404 null null 141.778ms
2024-05-05 18:59:01.277 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 404
2024-05-05 18:59:02.814 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-05 18:59:02.815 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-05 18:59:02.815 +03:00 [DBG] Request did not match any endpoints
2024-05-05 18:59:02.816 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-05 18:59:02.900 +03:00 [DBG] Connection ID "18158513724938256417" disconnecting.
2024-05-05 18:59:02.900 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 86.61ms
2024-05-05 18:59:03.109 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-05 18:59:03.109 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-05 18:59:03.109 +03:00 [DBG] Request did not match any endpoints
2024-05-05 18:59:03.112 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-05 18:59:03.256 +03:00 [DBG] Connection ID "18374686524231909432" disconnecting.
2024-05-05 18:59:03.256 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 147.5263ms
2024-05-05 18:59:09.639 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/reports/1 - null null
2024-05-05 18:59:09.647 +03:00 [DBG] 1 candidate(s) found for the request path '/reports/1'
2024-05-05 18:59:09.648 +03:00 [DBG] Request matched endpoint '400 Unspecified API Version'
2024-05-05 18:59:09.649 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-05 18:59:09.649 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-05 18:59:09.650 +03:00 [INF] Executing endpoint '400 Unspecified API Version'
2024-05-05 18:59:09.651 +03:00 [INF] Request did not specify an API version
2024-05-05 18:59:09.651 +03:00 [INF] Executed endpoint '400 Unspecified API Version'
2024-05-05 18:59:09.651 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/reports/1 - 400 null null 11.9803ms
2024-05-05 18:59:09.651 +03:00 [DBG] Connection ID "18374686481282236515" disconnecting.
2024-05-05 18:59:10.924 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/reports/1 - null null
2024-05-05 18:59:10.925 +03:00 [DBG] 1 candidate(s) found for the request path '/reports/1'
2024-05-05 18:59:10.925 +03:00 [DBG] Request matched endpoint '400 Unspecified API Version'
2024-05-05 18:59:10.925 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-05 18:59:10.925 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-05 18:59:10.925 +03:00 [INF] Executing endpoint '400 Unspecified API Version'
2024-05-05 18:59:10.925 +03:00 [INF] Request did not specify an API version
2024-05-05 18:59:10.925 +03:00 [INF] Executed endpoint '400 Unspecified API Version'
2024-05-05 18:59:10.926 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/reports/1 - 400 null null 1.4741ms
2024-05-05 18:59:19.233 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/reports/1?api-version=1 - null null
2024-05-05 18:59:19.240 +03:00 [DBG] 1 candidate(s) found for the request path '/reports/1'
2024-05-05 18:59:19.245 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api)' with route pattern 'reports/{userId:long}' is valid for the request path '/reports/1'
2024-05-05 18:59:19.250 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api)'
2024-05-05 18:59:19.251 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-05 18:59:19.251 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-05 18:59:19.251 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api)'
2024-05-05 18:59:19.276 +03:00 [INF] Route matched with {action = "GetReports", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.CollectionResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] GetReportsAsync(Int64) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-05 18:59:19.277 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-05 18:59:19.277 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-05 18:59:19.277 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-05 18:59:19.277 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-05 18:59:19.277 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-05 18:59:19.279 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-05 18:59:19.398 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-05 18:59:20.431 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-05 18:59:20.447 +03:00 [DBG] Creating DbConnection.
2024-05-05 18:59:20.492 +03:00 [DBG] Created DbConnection. (41ms).
2024-05-05 18:59:20.500 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 18:59:20.635 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 18:59:20.643 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 18:59:20.655 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (7ms).
2024-05-05 18:59:20.666 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-05 18:59:20.674 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2024-05-05 18:59:20.676 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (11ms).
2024-05-05 18:59:20.676 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 18:59:20.709 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 18:59:20.721 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-05 18:59:20.866 +03:00 [INF] Executed DbCommand (149ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-05 18:59:20.869 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 18:59:20.872 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-05 18:59:21.010 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-05 18:59:21.015 +03:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int64' ...
2024-05-05 18:59:21.017 +03:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int64' using the name 'userId' in request data ...
2024-05-05 18:59:21.018 +03:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int64'.
2024-05-05 18:59:21.018 +03:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int64'.
2024-05-05 18:59:21.018 +03:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Int64' ...
2024-05-05 18:59:21.019 +03:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Int64'.
2024-05-05 18:59:21.027 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api) - Validation state: "Valid"
2024-05-05 18:59:21.125 +03:00 [DBG] Compiling query expression: 
'DbSet<Report>()
    .Where(x => x.UserId == __userId_0)
    .Select(x => new ReportDto(
        x.Id, 
        x.Name, 
        x.Description, 
        x.CreatedAt.ToLongDateString()
    ))'
2024-05-05 18:59:21.402 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ReportDto>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
        SELECT r.Id, r.Name, r.Description, r.CreatedAt
        FROM Report AS r
        WHERE r.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ReportDto>, 
    Diary.DAL.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-05-05 18:59:21.446 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 18:59:21.449 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 18:59:21.449 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-05 18:59:21.449 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-05 18:59:21.457 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-05-05 18:59:21.460 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name", r."Description", r."CreatedAt"
FROM "Report" AS r
WHERE r."UserId" = @__userId_0
2024-05-05 18:59:21.494 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name", r."Description", r."CreatedAt"
FROM "Report" AS r
WHERE r."UserId" = @__userId_0
2024-05-05 18:59:21.521 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 18:59:21.522 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 26ms reading results.
2024-05-05 18:59:21.526 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 18:59:21.527 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-05 18:59:21.534 +03:00 [INF] Executed action method Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 503.4635ms.
2024-05-05 18:59:21.540 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-05 18:59:21.543 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-05 18:59:21.544 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-05 18:59:21.545 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-05 18:59:21.545 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-05 18:59:21.545 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-05 18:59:21.546 +03:00 [INF] Executing OkObjectResult, writing value of type 'Diary.Domain.Result.CollectionResult`1[[Diary.Domain.Dto.ReportDto.ReportDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-05 18:59:21.574 +03:00 [INF] Executed action Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api) in 2292.3226ms
2024-05-05 18:59:21.575 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api)'
2024-05-05 18:59:21.580 +03:00 [DBG] Connection ID "18374686519936942126" disconnecting.
2024-05-05 18:59:21.584 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-05 18:59:21.589 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 18:59:21.593 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (3ms).
2024-05-05 18:59:21.594 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/reports/1?api-version=1 - 200 null application/json; charset=utf-8 2361.7281ms
2024-05-05 18:59:50.466 +03:00 [INF] Application is shutting down...
2024-05-05 18:59:50.467 +03:00 [DBG] Hosting stopping
2024-05-05 18:59:50.468 +03:00 [DBG] Hosting stopped
2024-05-05 19:01:11.623 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-05 19:01:11.707 +03:00 [DBG] Hosting starting
2024-05-05 19:01:11.720 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-05 19:01:11.742 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-05 19:01:11.746 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-05 19:01:11.747 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-05 19:01:11.753 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-05 19:01:11.755 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-05 19:01:11.756 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-05 19:01:11.763 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-05 19:01:11.768 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-05 19:01:11.772 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-05 19:01:11.773 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-05 19:01:11.778 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-05 19:01:11.780 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-05 19:01:11.781 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-05 19:01:11.782 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-05 19:01:11.823 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-05 19:01:11.823 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-05 19:01:11.823 +03:00 [INF] Hosting environment: Development
2024-05-05 19:01:11.823 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-05 19:01:11.823 +03:00 [DBG] Hosting started
2024-05-05 19:01:11.854 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-05 19:01:11.858 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-05 19:01:11.915 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-05 19:01:11.916 +03:00 [DBG] Request did not match any endpoints
2024-05-05 19:01:11.956 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-05 19:01:11.963 +03:00 [DBG] Connection ID "18374686528526876703" disconnecting.
2024-05-05 19:01:12.008 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-05 19:01:12.012 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 499 null null 166.2832ms
2024-05-05 19:01:12.017 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 499
2024-05-05 19:01:12.972 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-05 19:01:12.973 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-05 19:01:12.973 +03:00 [DBG] Request did not match any endpoints
2024-05-05 19:01:12.974 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-05 19:01:13.068 +03:00 [DBG] Connection ID "18374686524231909434" disconnecting.
2024-05-05 19:01:13.068 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 96.1275ms
2024-05-05 19:01:13.285 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-05 19:01:13.285 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-05 19:01:13.286 +03:00 [DBG] Request did not match any endpoints
2024-05-05 19:01:13.288 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-05 19:01:13.438 +03:00 [DBG] Connection ID "18302628921604046857" disconnecting.
2024-05-05 19:01:13.438 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 152.6197ms
2024-05-05 19:01:17.996 +03:00 [INF] Application is shutting down...
2024-05-05 19:01:17.997 +03:00 [DBG] Hosting stopping
2024-05-05 19:01:17.998 +03:00 [DBG] Hosting stopped
2024-05-05 19:03:51.036 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-05 19:03:51.132 +03:00 [DBG] Hosting starting
2024-05-05 19:03:51.144 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-05 19:03:51.169 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-05 19:03:51.173 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-05 19:03:51.173 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-05 19:03:51.177 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-05 19:03:51.180 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-05 19:03:51.181 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-05 19:03:51.188 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-05 19:03:51.191 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-05 19:03:51.195 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-05 19:03:51.196 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-05 19:03:51.201 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-05 19:03:51.202 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-05 19:03:51.204 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-05 19:03:51.204 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-05 19:03:51.238 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-05 19:03:51.238 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-05 19:03:51.239 +03:00 [INF] Hosting environment: Development
2024-05-05 19:03:51.239 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-05 19:03:51.239 +03:00 [DBG] Hosting started
2024-05-05 19:03:51.263 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-05 19:03:51.266 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-05 19:03:51.312 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-05 19:03:51.312 +03:00 [DBG] Request did not match any endpoints
2024-05-05 19:03:51.347 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-05 19:03:51.369 +03:00 [DBG] Connection ID "18374686524231909436" disconnecting.
2024-05-05 19:03:51.401 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-05 19:03:51.404 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 499 null null 147.0075ms
2024-05-05 19:03:51.408 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 499
2024-05-05 19:03:52.082 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-05 19:03:52.083 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-05 19:03:52.083 +03:00 [DBG] Request did not match any endpoints
2024-05-05 19:03:52.084 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-05 19:03:52.176 +03:00 [DBG] Connection ID "18374686524231909438" disconnecting.
2024-05-05 19:03:52.176 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 94.8707ms
2024-05-05 19:03:52.291 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-05 19:03:52.291 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-05 19:03:52.291 +03:00 [DBG] Request did not match any endpoints
2024-05-05 19:03:52.294 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-05 19:03:52.451 +03:00 [DBG] Connection ID "18374686515641974866" disconnecting.
2024-05-05 19:03:52.451 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 160.4526ms
2024-05-05 19:04:43.420 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/reports/1 - null null
2024-05-05 19:04:43.432 +03:00 [DBG] 1 candidate(s) found for the request path '/reports/1'
2024-05-05 19:04:43.433 +03:00 [DBG] Request matched endpoint '400 Unspecified API Version'
2024-05-05 19:04:43.434 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-05 19:04:43.435 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-05 19:04:43.435 +03:00 [INF] Executing endpoint '400 Unspecified API Version'
2024-05-05 19:04:43.437 +03:00 [INF] Request did not specify an API version
2024-05-05 19:04:43.437 +03:00 [INF] Executed endpoint '400 Unspecified API Version'
2024-05-05 19:04:43.438 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/reports/1 - 400 null null 17.9664ms
2024-05-05 19:04:43.438 +03:00 [DBG] Connection ID "18158513724938256419" disconnecting.
2024-05-05 19:04:49.211 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/reports/1?api-version=1 - null null
2024-05-05 19:04:49.216 +03:00 [DBG] 1 candidate(s) found for the request path '/reports/1'
2024-05-05 19:04:49.220 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api)' with route pattern 'reports/{userId:long}' is valid for the request path '/reports/1'
2024-05-05 19:04:49.225 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api)'
2024-05-05 19:04:49.225 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-05 19:04:49.225 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-05 19:04:49.225 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api)'
2024-05-05 19:04:49.251 +03:00 [INF] Route matched with {action = "GetReports", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.CollectionResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] GetReportsAsync(Int64) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-05 19:04:49.252 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-05 19:04:49.253 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-05 19:04:49.253 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-05 19:04:49.253 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-05 19:04:49.253 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-05 19:04:49.255 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-05 19:04:49.383 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-05 19:04:50.406 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-05 19:04:50.424 +03:00 [DBG] Creating DbConnection.
2024-05-05 19:04:50.482 +03:00 [DBG] Created DbConnection. (54ms).
2024-05-05 19:04:50.491 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 19:04:50.630 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 19:04:50.637 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 19:04:50.649 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (7ms).
2024-05-05 19:04:50.658 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-05 19:04:50.666 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2024-05-05 19:04:50.668 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (11ms).
2024-05-05 19:04:50.668 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 19:04:50.691 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 19:04:50.700 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-05 19:04:50.798 +03:00 [INF] Executed DbCommand (100ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-05 19:04:50.801 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 19:04:50.804 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (3ms).
2024-05-05 19:04:50.929 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-05 19:04:50.933 +03:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int64' ...
2024-05-05 19:04:50.934 +03:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int64' using the name 'userId' in request data ...
2024-05-05 19:04:50.935 +03:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int64'.
2024-05-05 19:04:50.935 +03:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int64'.
2024-05-05 19:04:50.935 +03:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Int64' ...
2024-05-05 19:04:50.936 +03:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Int64'.
2024-05-05 19:04:50.943 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api) - Validation state: "Valid"
2024-05-05 19:04:51.004 +03:00 [DBG] Compiling query expression: 
'DbSet<Report>()
    .Where(x => x.UserId == __userId_0)
    .Select(x => new ReportDto(
        x.Id, 
        x.Name, 
        x.Description, 
        x.CreatedAt.ToLongDateString()
    ))'
2024-05-05 19:04:51.273 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ReportDto>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
        SELECT r.Id, r.Name, r.Description, r.CreatedAt
        FROM Report AS r
        WHERE r.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ReportDto>, 
    Diary.DAL.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-05-05 19:04:51.315 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 19:04:51.318 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 19:04:51.318 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-05 19:04:51.318 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-05 19:04:51.325 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-05-05 19:04:51.328 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name", r."Description", r."CreatedAt"
FROM "Report" AS r
WHERE r."UserId" = @__userId_0
2024-05-05 19:04:51.360 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name", r."Description", r."CreatedAt"
FROM "Report" AS r
WHERE r."UserId" = @__userId_0
2024-05-05 19:04:51.385 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 19:04:51.386 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 24ms reading results.
2024-05-05 19:04:51.390 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 19:04:51.391 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-05 19:04:51.398 +03:00 [INF] Executed action method Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 451.5617ms.
2024-05-05 19:04:51.404 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-05 19:04:51.407 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-05 19:04:51.408 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-05 19:04:51.408 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-05 19:04:51.408 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-05 19:04:51.409 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-05 19:04:51.410 +03:00 [INF] Executing OkObjectResult, writing value of type 'Diary.Domain.Result.CollectionResult`1[[Diary.Domain.Dto.ReportDto.ReportDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-05 19:04:51.438 +03:00 [INF] Executed action Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api) in 2180.2363ms
2024-05-05 19:04:51.439 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api)'
2024-05-05 19:04:51.444 +03:00 [DBG] Connection ID "18302628925899014148" disconnecting.
2024-05-05 19:04:51.447 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-05 19:04:51.453 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 19:04:51.455 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-05 19:04:51.456 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/reports/1?api-version=1 - 200 null application/json; charset=utf-8 2244.9136ms
2024-05-05 19:05:00.554 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/api/v1/Report/1 - null null
2024-05-05 19:05:00.561 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report/1'
2024-05-05 19:05:00.562 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.GetReportAsync (Diary.Api)' with route pattern 'api/v{version:apiVersion}/Report/{id:long}' is valid for the request path '/api/v1/Report/1'
2024-05-05 19:05:00.562 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.GetReportAsync (Diary.Api)'
2024-05-05 19:05:00.562 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-05 19:05:00.563 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-05 19:05:00.563 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.GetReportAsync (Diary.Api)'
2024-05-05 19:05:00.570 +03:00 [INF] Route matched with {action = "GetReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] GetReportAsync(Int64) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-05 19:05:00.570 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-05 19:05:00.570 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-05 19:05:00.570 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-05 19:05:00.570 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-05 19:05:00.570 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-05 19:05:00.570 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-05 19:05:00.592 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-05 19:05:00.594 +03:00 [DBG] Creating DbConnection.
2024-05-05 19:05:00.595 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-05 19:05:00.595 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 19:05:00.602 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 19:05:00.603 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 19:05:00.603 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-05 19:05:00.603 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-05 19:05:00.604 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-05-05 19:05:00.604 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-05-05 19:05:00.604 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 19:05:00.604 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 19:05:00.604 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-05 19:05:00.607 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-05 19:05:00.607 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 19:05:00.607 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-05 19:05:00.608 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-05 19:05:00.609 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int64' ...
2024-05-05 19:05:00.609 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int64' using the name 'id' in request data ...
2024-05-05 19:05:00.609 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int64'.
2024-05-05 19:05:00.609 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int64'.
2024-05-05 19:05:00.609 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int64' ...
2024-05-05 19:05:00.609 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int64'.
2024-05-05 19:05:00.610 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.GetReportAsync (Diary.Api) - Validation state: "Valid"
2024-05-05 19:05:00.614 +03:00 [DBG] Compiling query expression: 
'DbSet<Report>()'
2024-05-05 19:05:00.658 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Report>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Report.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Report.CreatedAt (DateTime) Required, 1], [Property: Report.CreatedBy (long) Required, 2], [Property: Report.Description (string) Required MaxLength(2000), 3], [Property: Report.Name (string) Required MaxLength(100), 4], [Property: Report.UpdatedAt (DateTime?), 5], [Property: Report.UpdatedBy (long?), 6], [Property: Report.UserId (long) Required FK Index, 7] }
        SELECT r.Id, r.CreatedAt, r.CreatedBy, r.Description, r.Name, r.UpdatedAt, r.UpdatedBy, r.UserId
        FROM Report AS r), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Report>, 
    Diary.DAL.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-05-05 19:05:00.662 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 19:05:00.662 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 19:05:00.662 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-05 19:05:00.662 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-05 19:05:00.662 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-05 19:05:00.663 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
2024-05-05 19:05:00.665 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
2024-05-05 19:05:00.690 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Report' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-05 19:05:00.729 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 19:05:00.729 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 64ms reading results.
2024-05-05 19:05:00.730 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 19:05:00.730 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-05 19:05:00.731 +03:00 [INF] Executed action method Diary.Api.Controllers.ReportController.GetReportAsync (Diary.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 120.876ms.
2024-05-05 19:05:00.731 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-05 19:05:00.731 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-05 19:05:00.731 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-05 19:05:00.731 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-05 19:05:00.731 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-05 19:05:00.731 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-05 19:05:00.731 +03:00 [INF] Executing OkObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.ReportDto.ReportDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-05 19:05:00.733 +03:00 [INF] Executed action Diary.Api.Controllers.ReportController.GetReportAsync (Diary.Api) in 162.9777ms
2024-05-05 19:05:00.734 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.ReportController.GetReportAsync (Diary.Api)'
2024-05-05 19:05:00.734 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-05 19:05:00.734 +03:00 [DBG] Connection ID "18158513724938256421" disconnecting.
2024-05-05 19:05:00.734 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-05 19:05:00.734 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-05 19:05:00.734 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/api/v1/Report/1 - 200 null application/json; charset=utf-8 180.1078ms
2024-05-05 19:05:39.584 +03:00 [INF] Application is shutting down...
2024-05-05 19:05:39.586 +03:00 [DBG] Hosting stopping
2024-05-05 19:05:39.588 +03:00 [DBG] Hosting stopped
2024-05-05 19:05:51.956 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-05 19:05:52.056 +03:00 [DBG] Hosting starting
2024-05-05 19:05:52.105 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-05 19:05:52.138 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-05 19:05:52.143 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-05 19:05:52.144 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-05 19:05:52.148 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-05 19:05:52.153 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-05 19:05:52.153 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-05 19:05:52.159 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-05 19:05:52.162 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-05 19:05:52.165 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-05 19:05:52.166 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-05 19:05:52.171 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-05 19:05:52.172 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-05 19:05:52.173 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-05 19:05:52.174 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-05 19:05:52.258 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-05 19:05:52.259 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-05 19:05:52.259 +03:00 [INF] Hosting environment: Development
2024-05-05 19:05:52.259 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-05 19:05:52.259 +03:00 [DBG] Hosting started
2024-05-05 19:05:52.324 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-05 19:05:52.326 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-05 19:05:52.372 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-05 19:05:52.373 +03:00 [DBG] Request did not match any endpoints
2024-05-05 19:05:56.618 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-05 19:05:56.661 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-05 19:05:56.683 +03:00 [DBG] Connection ID "18230571310386249739" disconnecting.
2024-05-05 19:05:56.685 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 404 null null 4367.31ms
2024-05-05 19:05:56.690 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 404
2024-05-05 19:05:59.686 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-05 19:05:59.687 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-05 19:05:59.687 +03:00 [DBG] Request did not match any endpoints
2024-05-05 19:05:59.688 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-05 19:05:59.788 +03:00 [DBG] Connection ID "18374686515641974868" disconnecting.
2024-05-05 19:05:59.788 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 101.7702ms
2024-05-05 19:06:00.006 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-05 19:06:00.007 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-05 19:06:00.007 +03:00 [DBG] Request did not match any endpoints
2024-05-05 19:06:00.008 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-05 19:06:00.157 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 151.1373ms
2024-05-05 19:06:00.161 +03:00 [DBG] Connection ID "18374686515641974870" disconnecting.
2024-05-05 19:10:18.458 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-05 19:10:18.539 +03:00 [DBG] Hosting starting
2024-05-05 19:10:18.551 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-05 19:10:18.574 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-05 19:10:18.577 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-05 19:10:18.578 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-05 19:10:18.581 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-05 19:10:18.584 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-05 19:10:18.584 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-05 19:10:18.592 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-05 19:10:18.595 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-05 19:10:18.598 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-05 19:10:18.599 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-05 19:10:18.604 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-05 19:10:18.605 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-05 19:10:18.606 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-05 19:10:18.606 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-05 19:10:18.636 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-05 19:10:18.637 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-05 19:10:18.637 +03:00 [INF] Hosting environment: Development
2024-05-05 19:10:18.637 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-05 19:10:18.637 +03:00 [DBG] Hosting started
2024-05-05 19:10:18.657 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-05 19:10:18.660 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-05 19:10:18.704 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-05 19:10:18.705 +03:00 [DBG] Request did not match any endpoints
2024-05-05 19:10:18.753 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-05 19:10:18.811 +03:00 [DBG] Connection ID "18302628917309079570" disconnecting.
2024-05-05 19:10:18.814 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/index.html - null null
2024-05-05 19:10:18.815 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-05 19:10:18.815 +03:00 [DBG] Request did not match any endpoints
2024-05-05 19:10:18.816 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-05 19:10:18.816 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 301 null null 165.5533ms
2024-05-05 19:10:18.903 +03:00 [DBG] Connection ID "18302628887244308506" disconnecting.
2024-05-05 19:10:18.903 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/index.html - 200 null text/html;charset=utf-8 89.5956ms
2024-05-05 19:10:19.024 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/swagger-ui.css - null null
2024-05-05 19:10:19.024 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-05-05 19:10:19.025 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/swagger-ui-standalone-preset.js - null null
2024-05-05 19:10:19.025 +03:00 [DBG] Request did not match any endpoints
2024-05-05 19:10:19.025 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2024-05-05 19:10:19.025 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/swagger-ui-bundle.js - null null
2024-05-05 19:10:19.025 +03:00 [DBG] Request did not match any endpoints
2024-05-05 19:10:19.025 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2024-05-05 19:10:19.025 +03:00 [DBG] Request did not match any endpoints
2024-05-05 19:10:19.027 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-05 19:10:19.027 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-05 19:10:19.027 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-05 19:10:19.040 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-05-05 19:10:19.042 +03:00 [DBG] Connection ID "18374686519936942129" disconnecting.
2024-05-05 19:10:19.042 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-05-05 19:10:19.044 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/swagger-ui.css - 200 143943 text/css 19.9741ms
2024-05-05 19:10:19.049 +03:00 [DBG] Connection ID "18374686489872171092" disconnecting.
2024-05-05 19:10:19.049 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/swagger-ui-standalone-preset.js - 200 339486 text/javascript 24.3914ms
2024-05-05 19:10:19.055 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-05-05 19:10:19.073 +03:00 [DBG] Connection ID "18374686524231909440" disconnecting.
2024-05-05 19:10:19.073 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/swagger-ui-bundle.js - 200 1096145 text/javascript 48.2744ms
2024-05-05 19:10:19.323 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-05 19:10:19.323 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-05 19:10:19.323 +03:00 [DBG] Request did not match any endpoints
2024-05-05 19:10:19.323 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-05 19:10:19.485 +03:00 [DBG] Connection ID "18374686524231909442" disconnecting.
2024-05-05 19:10:19.485 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 162.4327ms
2024-05-05 19:10:22.976 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-05 19:10:22.976 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-05 19:10:22.976 +03:00 [DBG] Request did not match any endpoints
2024-05-05 19:10:22.976 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-05 19:10:22.977 +03:00 [DBG] The request path  does not match the path filter
2024-05-05 19:10:22.978 +03:00 [DBG] Connection ID "18374686528526876705" disconnecting.
2024-05-05 19:10:22.978 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 404 null null 2.3076ms
2024-05-05 19:10:22.978 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/index.html, Response status code: 404
2024-05-05 19:10:24.811 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-05 19:10:24.811 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-05 19:10:24.811 +03:00 [DBG] Request did not match any endpoints
2024-05-05 19:10:24.811 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-05 19:10:24.811 +03:00 [DBG] The request path  does not match the path filter
2024-05-05 19:10:24.812 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 404 null null 1.0099ms
2024-05-05 19:10:24.812 +03:00 [DBG] Connection ID "18374686515641974872" disconnecting.
2024-05-05 19:10:24.812 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/index.html, Response status code: 404
2024-05-05 19:10:27.489 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-05 19:10:27.489 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-05 19:10:27.489 +03:00 [DBG] Request did not match any endpoints
2024-05-05 19:10:27.489 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-05 19:10:27.502 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 12.7455ms
2024-05-05 19:10:27.502 +03:00 [DBG] Connection ID "18158513724938256423" disconnecting.
2024-05-05 19:10:32.426 +03:00 [INF] Application is shutting down...
2024-05-05 19:10:32.427 +03:00 [DBG] Hosting stopping
2024-05-05 19:10:32.429 +03:00 [DBG] Hosting stopped
2024-05-05 19:12:53.272 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-05 19:12:53.392 +03:00 [DBG] Hosting starting
2024-05-05 19:12:53.407 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-05 19:12:53.431 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-05 19:12:53.437 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-05 19:12:53.438 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-05 19:12:53.444 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-05 19:12:53.448 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-05 19:12:53.448 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-05 19:12:53.456 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-05 19:12:53.459 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-05 19:12:53.463 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-05 19:12:53.464 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-05 19:12:53.469 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-05 19:12:53.470 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-05 19:12:53.472 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-05 19:12:53.473 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-05 19:12:53.509 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-05 19:12:53.509 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-05 19:12:53.509 +03:00 [INF] Hosting environment: Development
2024-05-05 19:12:53.509 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-05 19:12:53.509 +03:00 [DBG] Hosting started
2024-05-05 19:12:53.531 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/index.html - null null
2024-05-05 19:12:53.534 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-05 19:12:53.582 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-05 19:12:53.583 +03:00 [DBG] Request did not match any endpoints
2024-05-05 19:12:53.618 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-05 19:12:53.658 +03:00 [DBG] The request path /swagger/index.html does not match an existing file
2024-05-05 19:12:53.669 +03:00 [DBG] Connection ID "18302628908719144970" disconnecting.
2024-05-05 19:12:53.672 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/index.html - 404 null null 147.5283ms
2024-05-05 19:12:53.676 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger/index.html, Response status code: 404
2024-05-05 19:12:56.750 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-05 19:12:56.751 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-05 19:12:56.752 +03:00 [DBG] Request did not match any endpoints
2024-05-05 19:12:56.754 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-05 19:12:56.840 +03:00 [DBG] Connection ID "18374686489872171094" disconnecting.
2024-05-05 19:12:56.840 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 89.7465ms
2024-05-05 19:12:57.170 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-05 19:12:57.170 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-05 19:12:57.170 +03:00 [DBG] Request did not match any endpoints
2024-05-05 19:12:57.172 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-05 19:12:57.320 +03:00 [DBG] Connection ID "18302628908719144972" disconnecting.
2024-05-05 19:12:57.320 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 150.8213ms
2024-05-05 19:13:54.336 +03:00 [INF] Application is shutting down...
2024-05-05 19:13:54.337 +03:00 [DBG] Hosting stopping
2024-05-05 19:13:54.338 +03:00 [DBG] Hosting stopped
2024-05-06 15:40:37.032 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-06 15:40:37.221 +03:00 [DBG] Hosting starting
2024-05-06 15:40:37.373 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-06 15:40:37.414 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-06 15:40:37.429 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-06 15:40:37.442 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-06 15:40:37.459 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-06 15:40:37.461 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-06 15:40:37.462 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-06 15:40:37.468 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-06 15:40:37.471 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 15:40:37.473 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-06 15:40:37.475 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 15:40:37.479 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-06 15:40:37.480 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-06 15:40:37.481 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-06 15:40:37.482 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-06 15:40:37.633 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-06 15:40:37.633 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-06 15:40:37.634 +03:00 [INF] Hosting environment: Development
2024-05-06 15:40:37.634 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-06 15:40:37.634 +03:00 [DBG] Hosting started
2024-05-06 15:40:37.748 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-06 15:40:37.750 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-06 15:40:37.796 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-06 15:40:37.796 +03:00 [DBG] Request did not match any endpoints
2024-05-06 15:40:37.871 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 15:40:37.931 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-06 15:40:37.972 +03:00 [DBG] Connection ID "18302628930193981463" disconnecting.
2024-05-06 15:40:37.973 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 404 null null 230.197ms
2024-05-06 15:40:37.976 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 404
2024-05-06 15:40:40.501 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/ - null null
2024-05-06 15:40:40.501 +03:00 [DBG] No candidates found for the request path '/'
2024-05-06 15:40:40.501 +03:00 [DBG] Request did not match any endpoints
2024-05-06 15:40:40.503 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 15:40:40.509 +03:00 [DBG] Connection ID "18374686528526876707" disconnecting.
2024-05-06 15:40:40.509 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/ - 301 null null 8.6282ms
2024-05-06 15:40:40.514 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-06 15:40:40.515 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-06 15:40:40.515 +03:00 [DBG] Request did not match any endpoints
2024-05-06 15:40:40.517 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 15:40:40.605 +03:00 [DBG] Connection ID "18374686489872171099" disconnecting.
2024-05-06 15:40:40.605 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 91.6861ms
2024-05-06 15:40:40.753 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger-ui.css - null null
2024-05-06 15:40:40.753 +03:00 [DBG] No candidates found for the request path '/swagger-ui.css'
2024-05-06 15:40:40.753 +03:00 [DBG] Request did not match any endpoints
2024-05-06 15:40:40.753 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 15:40:40.756 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger-ui-bundle.js - null null
2024-05-06 15:40:40.756 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger-ui-standalone-preset.js - null null
2024-05-06 15:40:40.757 +03:00 [DBG] No candidates found for the request path '/swagger-ui-bundle.js'
2024-05-06 15:40:40.757 +03:00 [DBG] No candidates found for the request path '/swagger-ui-standalone-preset.js'
2024-05-06 15:40:40.757 +03:00 [DBG] Request did not match any endpoints
2024-05-06 15:40:40.757 +03:00 [DBG] Request did not match any endpoints
2024-05-06 15:40:40.757 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 15:40:40.757 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 15:40:40.770 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-05-06 15:40:40.771 +03:00 [DBG] Connection ID "18374686498462105702" disconnecting.
2024-05-06 15:40:40.773 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-05-06 15:40:40.774 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger-ui.css - 200 143943 text/css 21.1889ms
2024-05-06 15:40:40.779 +03:00 [DBG] Connection ID "18374686502757072957" disconnecting.
2024-05-06 15:40:40.780 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger-ui-standalone-preset.js - 200 339486 text/javascript 23.1479ms
2024-05-06 15:40:40.787 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-05-06 15:40:40.804 +03:00 [DBG] Connection ID "18374686489872171101" disconnecting.
2024-05-06 15:40:40.804 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger-ui-bundle.js - 200 1096145 text/javascript 47.7284ms
2024-05-06 15:40:41.027 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-06 15:40:41.028 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-06 15:40:41.028 +03:00 [DBG] Request did not match any endpoints
2024-05-06 15:40:41.028 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 15:40:41.068 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - Diary.Api.Controllers.AuthController.Register (Diary.Api). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-06 15:40:41.079 +03:00 [DBG] Connection ID "18374686515641974884" disconnecting.
2024-05-06 15:40:41.079 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 500 null text/plain; charset=utf-8 52.0104ms
2024-05-06 15:40:57.277 +03:00 [INF] Application is shutting down...
2024-05-06 15:40:57.278 +03:00 [DBG] Hosting stopping
2024-05-06 15:40:57.279 +03:00 [DBG] Hosting stopped
2024-05-06 16:09:59.759 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-06 16:09:59.847 +03:00 [DBG] Hosting starting
2024-05-06 16:09:59.858 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-06 16:09:59.877 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-06 16:09:59.885 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-06 16:09:59.885 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-06 16:09:59.889 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-06 16:09:59.891 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-06 16:09:59.891 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-06 16:09:59.898 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-06 16:09:59.902 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 16:09:59.904 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-06 16:09:59.905 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 16:09:59.909 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-06 16:09:59.910 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-06 16:09:59.911 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-06 16:09:59.912 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-06 16:09:59.940 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-06 16:09:59.940 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-06 16:09:59.940 +03:00 [INF] Hosting environment: Development
2024-05-06 16:09:59.940 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-06 16:09:59.940 +03:00 [DBG] Hosting started
2024-05-06 16:09:59.963 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-06 16:09:59.966 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-06 16:10:00.011 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-06 16:10:00.012 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:10:00.048 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:10:00.086 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-06 16:10:00.096 +03:00 [DBG] Connection ID "18374686524231909454" disconnecting.
2024-05-06 16:10:00.098 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 404 null null 140.6073ms
2024-05-06 16:10:00.101 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 404
2024-05-06 16:10:03.199 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/ - null null
2024-05-06 16:10:03.199 +03:00 [DBG] No candidates found for the request path '/'
2024-05-06 16:10:03.200 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:10:03.202 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:10:03.208 +03:00 [DBG] Connection ID "18374686528526876712" disconnecting.
2024-05-06 16:10:03.208 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/ - 301 null null 9.3591ms
2024-05-06 16:10:03.214 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-06 16:10:03.215 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-06 16:10:03.215 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:10:03.217 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:10:03.301 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 87.3907ms
2024-05-06 16:10:03.301 +03:00 [DBG] Connection ID "18302628900129210383" disconnecting.
2024-05-06 16:10:03.454 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger-ui-bundle.js - null null
2024-05-06 16:10:03.454 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger-ui.css - null null
2024-05-06 16:10:03.455 +03:00 [DBG] No candidates found for the request path '/swagger-ui-bundle.js'
2024-05-06 16:10:03.455 +03:00 [DBG] No candidates found for the request path '/swagger-ui.css'
2024-05-06 16:10:03.455 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:10:03.455 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:10:03.455 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:10:03.455 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:10:03.458 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger-ui-standalone-preset.js - null null
2024-05-06 16:10:03.458 +03:00 [DBG] No candidates found for the request path '/swagger-ui-standalone-preset.js'
2024-05-06 16:10:03.458 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:10:03.458 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:10:03.467 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-05-06 16:10:03.467 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-05-06 16:10:03.469 +03:00 [DBG] Connection ID "18374686524231909456" disconnecting.
2024-05-06 16:10:03.469 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-05-06 16:10:03.472 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger-ui.css - 200 143943 text/css 17.6031ms
2024-05-06 16:10:03.474 +03:00 [DBG] Connection ID "18302628930193981465" disconnecting.
2024-05-06 16:10:03.474 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger-ui-standalone-preset.js - 200 339486 text/javascript 16.3771ms
2024-05-06 16:10:03.491 +03:00 [DBG] Connection ID "18158513724938256429" disconnecting.
2024-05-06 16:10:03.492 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger-ui-bundle.js - 200 1096145 text/javascript 37.51ms
2024-05-06 16:10:03.711 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-06 16:10:03.711 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-06 16:10:03.711 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:10:03.712 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:10:03.761 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - Diary.Api.Controllers.AuthController.Register (Diary.Api). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-06 16:10:03.772 +03:00 [DBG] Connection ID "18374686515641974889" disconnecting.
2024-05-06 16:10:03.772 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 500 null text/plain; charset=utf-8 60.6461ms
2024-05-06 16:10:15.166 +03:00 [INF] Application is shutting down...
2024-05-06 16:10:15.167 +03:00 [DBG] Hosting stopping
2024-05-06 16:10:15.168 +03:00 [DBG] Hosting stopped
2024-05-06 16:11:00.932 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-06 16:11:01.046 +03:00 [DBG] Hosting starting
2024-05-06 16:11:01.088 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-06 16:11:01.118 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-06 16:11:01.123 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-06 16:11:01.123 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-06 16:11:01.127 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-06 16:11:01.131 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-06 16:11:01.131 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-06 16:11:01.137 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-06 16:11:01.139 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 16:11:01.142 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-06 16:11:01.143 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 16:11:01.146 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-06 16:11:01.148 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-06 16:11:01.149 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-06 16:11:01.149 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-06 16:11:01.230 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-06 16:11:01.230 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-06 16:11:01.230 +03:00 [INF] Hosting environment: Development
2024-05-06 16:11:01.230 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-06 16:11:01.234 +03:00 [DBG] Hosting started
2024-05-06 16:11:01.292 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-06 16:11:01.294 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-06 16:11:01.343 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-06 16:11:01.343 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:11:01.446 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:11:01.482 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-06 16:11:01.505 +03:00 [DBG] Connection ID "18302628921604046863" disconnecting.
2024-05-06 16:11:01.507 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 404 null null 220.4882ms
2024-05-06 16:11:01.511 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 404
2024-05-06 16:11:07.521 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-06 16:11:07.522 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-06 16:11:07.522 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:11:07.523 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:11:07.632 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 111.5312ms
2024-05-06 16:11:07.636 +03:00 [DBG] Connection ID "18374686502757072959" disconnecting.
2024-05-06 16:11:07.987 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-06 16:11:07.987 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-06 16:11:07.987 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:11:07.988 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:11:08.029 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - Diary.Api.Controllers.AuthController.Register (Diary.Api). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-06 16:11:08.051 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 500 null text/plain; charset=utf-8 64.2747ms
2024-05-06 16:11:08.055 +03:00 [DBG] Connection ID "18302628930193981467" disconnecting.
2024-05-06 16:12:02.744 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-06 16:12:11.161 +03:00 [DBG] Hosting starting
2024-05-06 16:12:11.202 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-06 16:12:11.231 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-06 16:12:11.235 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-06 16:12:11.236 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-06 16:12:11.239 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-06 16:12:11.242 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-06 16:12:11.242 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-06 16:12:11.248 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-06 16:12:11.251 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 16:12:11.253 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-06 16:12:11.254 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 16:12:11.258 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-06 16:12:11.259 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-06 16:12:11.260 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-06 16:12:11.261 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-06 16:12:11.332 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-06 16:12:11.333 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-06 16:12:11.333 +03:00 [INF] Hosting environment: Development
2024-05-06 16:12:11.333 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-06 16:12:11.333 +03:00 [DBG] Hosting started
2024-05-06 16:12:11.394 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-06 16:12:11.396 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-06 16:12:11.443 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-06 16:12:11.444 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:12:11.541 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:12:11.577 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-06 16:12:11.600 +03:00 [DBG] Connection ID "18302628917309079577" disconnecting.
2024-05-06 16:12:11.602 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 404 null null 213.4843ms
2024-05-06 16:12:11.606 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 404
2024-05-06 16:12:16.411 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-06 16:12:16.411 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-06 16:12:16.411 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:12:16.417 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:12:16.510 +03:00 [DBG] Connection ID "18158513724938256431" disconnecting.
2024-05-06 16:12:16.510 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 99.5339ms
2024-05-06 16:12:16.788 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-06 16:12:16.788 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-06 16:12:16.788 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:12:16.789 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:12:16.833 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - Diary.Api.Controllers.AuthController.Register (Diary.Api). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-06 16:12:16.853 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 500 null text/plain; charset=utf-8 65.5545ms
2024-05-06 16:12:16.857 +03:00 [DBG] Connection ID "18158513724938256433" disconnecting.
2024-05-06 16:14:26.593 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-06 16:14:26.680 +03:00 [DBG] Hosting starting
2024-05-06 16:14:26.691 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-06 16:14:26.712 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-06 16:14:26.716 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-06 16:14:26.716 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-06 16:14:26.721 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-06 16:14:26.724 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-06 16:14:26.724 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-06 16:14:26.732 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-06 16:14:26.734 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 16:14:26.737 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-06 16:14:26.738 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 16:14:26.742 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-06 16:14:26.743 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-06 16:14:26.744 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-06 16:14:26.745 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-06 16:14:26.772 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-06 16:14:26.773 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-06 16:14:26.773 +03:00 [INF] Hosting environment: Development
2024-05-06 16:14:26.773 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-06 16:14:26.773 +03:00 [DBG] Hosting started
2024-05-06 16:14:26.793 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-06 16:14:26.797 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-06 16:14:26.843 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-06 16:14:26.843 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:14:26.877 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:14:26.910 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-06 16:14:26.921 +03:00 [DBG] Connection ID "18302628930193981469" disconnecting.
2024-05-06 16:14:26.922 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 404 null null 136.9674ms
2024-05-06 16:14:26.925 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 404
2024-05-06 16:14:29.135 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-06 16:14:29.136 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-06 16:14:29.136 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:14:29.137 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:14:29.226 +03:00 [DBG] Connection ID "18302628930193981471" disconnecting.
2024-05-06 16:14:29.226 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 91.5546ms
2024-05-06 16:14:29.657 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-06 16:14:29.658 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-06 16:14:29.658 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:14:29.661 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:14:29.682 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/favicon-32x32.png - null null
2024-05-06 16:14:29.682 +03:00 [DBG] No candidates found for the request path '/favicon-32x32.png'
2024-05-06 16:14:29.682 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:14:29.682 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:14:29.689 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-05-06 16:14:29.690 +03:00 [DBG] Connection ID "18374686489872171107" disconnecting.
2024-05-06 16:14:29.690 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/favicon-32x32.png - 200 628 image/png 7.9398ms
2024-05-06 16:14:29.716 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - Diary.Api.Controllers.AuthController.Register (Diary.Api). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-06 16:14:29.729 +03:00 [DBG] Connection ID "18230571310386249741" disconnecting.
2024-05-06 16:14:29.729 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 500 null text/plain; charset=utf-8 71.3017ms
2024-05-06 16:14:31.931 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-06 16:14:31.931 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-06 16:14:31.932 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:14:31.932 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:14:31.933 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 1.6837ms
2024-05-06 16:14:31.933 +03:00 [DBG] Connection ID "18230571293206380576" disconnecting.
2024-05-06 16:14:32.096 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-06 16:14:32.096 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-06 16:14:32.096 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:14:32.096 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:14:32.097 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - Diary.Api.Controllers.AuthController.Register (Diary.Api). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-06 16:14:32.098 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 500 null text/plain; charset=utf-8 2.4402ms
2024-05-06 16:14:32.098 +03:00 [DBG] Connection ID "18374686494167138344" disconnecting.
2024-05-06 16:14:36.569 +03:00 [INF] Application is shutting down...
2024-05-06 16:14:36.570 +03:00 [DBG] Hosting stopping
2024-05-06 16:14:36.572 +03:00 [DBG] Hosting stopped
2024-05-06 16:14:46.666 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-06 16:14:46.784 +03:00 [DBG] Hosting starting
2024-05-06 16:14:46.837 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-06 16:14:46.849 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-06 16:14:46.855 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-06 16:14:46.857 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-06 16:14:46.862 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-06 16:14:46.867 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-06 16:14:46.868 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-06 16:14:46.876 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-06 16:14:46.880 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 16:14:46.885 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-06 16:14:46.887 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 16:14:46.894 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-06 16:14:46.897 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-06 16:14:46.900 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-06 16:14:46.902 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-06 16:14:47.095 +03:00 [INF] Now listening on: http://localhost:5268
2024-05-06 16:14:47.097 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-06 16:14:47.099 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-06 16:14:47.100 +03:00 [INF] Hosting environment: Development
2024-05-06 16:14:47.101 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-06 16:14:47.102 +03:00 [DBG] Hosting started
2024-05-06 16:14:47.463 +03:00 [DBG] Connection id "0HN3DPQ0FTAB8" received FIN.
2024-05-06 16:14:47.469 +03:00 [DBG] Connection id "0HN3DPQ0FTAB8" accepted.
2024-05-06 16:14:47.472 +03:00 [DBG] Connection id "0HN3DPQ0FTAB8" started.
2024-05-06 16:14:47.482 +03:00 [DBG] Connection id "0HN3DPQ0FTAB8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-06 16:14:47.486 +03:00 [DBG] Connection id "0HN3DPQ0FTAB8" disconnecting.
2024-05-06 16:14:47.490 +03:00 [DBG] Connection id "0HN3DPQ0FTAB8" stopped.
2024-05-06 16:14:47.677 +03:00 [DBG] Connection id "0HN3DPQ0FTAB9" accepted.
2024-05-06 16:14:47.678 +03:00 [DBG] Connection id "0HN3DPQ0FTAB9" started.
2024-05-06 16:14:47.713 +03:00 [DBG] Connection id "0HN3DPQ0FTABA" accepted.
2024-05-06 16:14:47.721 +03:00 [DBG] Connection id "0HN3DPQ0FTABA" started.
2024-05-06 16:14:47.756 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/swagger - null null
2024-05-06 16:14:47.761 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-06 16:14:47.811 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-06 16:14:47.813 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:14:47.921 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:14:47.959 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-06 16:14:47.961 +03:00 [WRN] Failed to determine the https port for redirect.
2024-05-06 16:14:47.973 +03:00 [DBG] Connection id "0HN3DPQ0FTAB9" completed keep alive response.
2024-05-06 16:14:47.976 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/swagger - 404 0 null 226.0684ms
2024-05-06 16:14:47.981 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5268/swagger, Response status code: 404
2024-05-06 16:14:51.331 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/ - null null
2024-05-06 16:14:51.334 +03:00 [DBG] No candidates found for the request path '/'
2024-05-06 16:14:51.335 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:14:51.337 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:14:51.340 +03:00 [DBG] Connection id "0HN3DPQ0FTAB9" completed keep alive response.
2024-05-06 16:14:51.342 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/ - 301 0 null 11.3538ms
2024-05-06 16:14:51.345 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/index.html - null null
2024-05-06 16:14:51.348 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-06 16:14:51.349 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:14:51.351 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:14:51.428 +03:00 [DBG] Connection id "0HN3DPQ0FTAB9" completed keep alive response.
2024-05-06 16:14:51.429 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/index.html - 200 null text/html;charset=utf-8 84.5512ms
2024-05-06 16:14:51.562 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/swagger-ui.css - null null
2024-05-06 16:14:51.563 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/swagger-ui-bundle.js - null null
2024-05-06 16:14:51.563 +03:00 [DBG] Connection id "0HN3DPQ0FTABB" accepted.
2024-05-06 16:14:51.570 +03:00 [DBG] No candidates found for the request path '/swagger-ui.css'
2024-05-06 16:14:51.572 +03:00 [DBG] No candidates found for the request path '/swagger-ui-bundle.js'
2024-05-06 16:14:51.573 +03:00 [DBG] Connection id "0HN3DPQ0FTABB" started.
2024-05-06 16:14:51.574 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:14:51.575 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:14:51.576 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/swagger-ui-standalone-preset.js - null null
2024-05-06 16:14:51.577 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:14:51.577 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:14:51.579 +03:00 [DBG] No candidates found for the request path '/swagger-ui-standalone-preset.js'
2024-05-06 16:14:51.582 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:14:51.583 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:14:51.621 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-05-06 16:14:51.621 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-05-06 16:14:51.624 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-05-06 16:14:51.630 +03:00 [DBG] Connection id "0HN3DPQ0FTAB9" completed keep alive response.
2024-05-06 16:14:51.630 +03:00 [DBG] Connection id "0HN3DPQ0FTABB" completed keep alive response.
2024-05-06 16:14:51.630 +03:00 [DBG] Connection id "0HN3DPQ0FTABA" completed keep alive response.
2024-05-06 16:14:51.631 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/swagger-ui.css - 200 143943 text/css 68.9027ms
2024-05-06 16:14:51.632 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/swagger-ui-standalone-preset.js - 200 339486 text/javascript 56.2838ms
2024-05-06 16:14:51.633 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/swagger-ui-bundle.js - 200 1096145 text/javascript 70.1295ms
2024-05-06 16:14:51.836 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/swagger/v1/swagger.json - null null
2024-05-06 16:14:51.838 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-06 16:14:51.839 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:14:51.840 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:14:51.862 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/favicon-32x32.png - null null
2024-05-06 16:14:51.865 +03:00 [DBG] No candidates found for the request path '/favicon-32x32.png'
2024-05-06 16:14:51.865 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:14:51.866 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:14:51.867 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-05-06 16:14:51.869 +03:00 [DBG] Connection id "0HN3DPQ0FTABB" completed keep alive response.
2024-05-06 16:14:51.870 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/favicon-32x32.png - 200 628 image/png 7.8997ms
2024-05-06 16:14:51.891 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - Diary.Api.Controllers.AuthController.Register (Diary.Api). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-06 16:14:51.914 +03:00 [DBG] Connection id "0HN3DPQ0FTABA" completed keep alive response.
2024-05-06 16:14:51.915 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/swagger/v1/swagger.json - 500 null text/plain; charset=utf-8 78.7132ms
2024-05-06 16:15:46.665 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-06 16:15:46.743 +03:00 [DBG] Hosting starting
2024-05-06 16:15:46.808 +03:00 [INF] Now listening on: http://localhost:5268
2024-05-06 16:15:46.809 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-06 16:15:46.810 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-06 16:15:46.811 +03:00 [INF] Hosting environment: Development
2024-05-06 16:15:46.812 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-06 16:15:46.812 +03:00 [DBG] Hosting started
2024-05-06 16:15:47.212 +03:00 [DBG] Connection id "0HN3DPQI9N6JM" received FIN.
2024-05-06 16:15:47.218 +03:00 [DBG] Connection id "0HN3DPQI9N6JM" accepted.
2024-05-06 16:15:47.219 +03:00 [DBG] Connection id "0HN3DPQI9N6JM" started.
2024-05-06 16:15:47.228 +03:00 [DBG] Connection id "0HN3DPQI9N6JM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-06 16:15:47.232 +03:00 [DBG] Connection id "0HN3DPQI9N6JM" disconnecting.
2024-05-06 16:15:47.237 +03:00 [DBG] Connection id "0HN3DPQI9N6JM" stopped.
2024-05-06 16:15:47.394 +03:00 [DBG] Connection id "0HN3DPQI9N6JN" accepted.
2024-05-06 16:15:47.399 +03:00 [DBG] Connection id "0HN3DPQI9N6JN" started.
2024-05-06 16:15:47.399 +03:00 [DBG] Connection id "0HN3DPQI9N6JO" accepted.
2024-05-06 16:15:47.402 +03:00 [DBG] Connection id "0HN3DPQI9N6JO" started.
2024-05-06 16:15:47.433 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/swagger - null null
2024-05-06 16:15:47.440 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-06 16:15:47.464 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The constraint reference 'apiVersion' could not be resolved to a type. Register the constraint type with 'Microsoft.AspNetCore.Routing.RouteOptions.ConstraintMap'.
   at Microsoft.AspNetCore.Routing.DefaultParameterPolicyFactory.Create(RoutePatternParameterPart parameter, String inlineText)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.CachingParameterPolicyFactory.Create(RoutePatternParameterPart parameter, String inlineText)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.CreateCandidate(Endpoint endpoint, Int32 score)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.CreateCandidates(IReadOnlyList`1 endpoints)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.Build()
   at Microsoft.AspNetCore.Routing.Matching.DataSourceDependentMatcher.CreateMatcher(IReadOnlyList`1 endpoints)
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.Initialize()
   at System.Threading.LazyInitializer.EnsureInitializedCore[T](T& target, Boolean& initialized, Object& syncLock, Func`1 valueFactory)
   at Microsoft.AspNetCore.Routing.Matching.DataSourceDependentMatcher..ctor(EndpointDataSource dataSource, Lifetime lifetime, Func`1 matcherBuilderFactory)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherFactory.CreateMatcher(EndpointDataSource dataSource)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.InitializeCoreAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.<Invoke>g__AwaitMatcher|10_0(EndpointRoutingMiddleware middleware, HttpContext httpContext, Task`1 matcherTask)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-06 16:15:47.498 +03:00 [DBG] Connection id "0HN3DPQI9N6JO" completed keep alive response.
2024-05-06 16:15:47.499 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/swagger - 500 null text/html; charset=utf-8 71.1255ms
2024-05-06 16:15:47.713 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/favicon.ico - null null
2024-05-06 16:15:47.718 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The constraint reference 'apiVersion' could not be resolved to a type. Register the constraint type with 'Microsoft.AspNetCore.Routing.RouteOptions.ConstraintMap'.
   at Microsoft.AspNetCore.Routing.DefaultParameterPolicyFactory.Create(RoutePatternParameterPart parameter, String inlineText)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.CachingParameterPolicyFactory.Create(RoutePatternParameterPart parameter, String inlineText)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.CreateCandidate(Endpoint endpoint, Int32 score)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.CreateCandidates(IReadOnlyList`1 endpoints)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.Build()
   at Microsoft.AspNetCore.Routing.Matching.DataSourceDependentMatcher.CreateMatcher(IReadOnlyList`1 endpoints)
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.Initialize()
   at System.Threading.LazyInitializer.EnsureInitializedCore[T](T& target, Boolean& initialized, Object& syncLock, Func`1 valueFactory)
   at Microsoft.AspNetCore.Routing.Matching.DataSourceDependentMatcher..ctor(EndpointDataSource dataSource, Lifetime lifetime, Func`1 matcherBuilderFactory)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherFactory.CreateMatcher(EndpointDataSource dataSource)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.InitializeCoreAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.<Invoke>g__AwaitMatcher|10_0(EndpointRoutingMiddleware middleware, HttpContext httpContext, Task`1 matcherTask)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-06 16:15:47.725 +03:00 [DBG] Connection id "0HN3DPQI9N6JO" completed keep alive response.
2024-05-06 16:15:47.727 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/favicon.ico - 500 null text/plain; charset=utf-8 13.7256ms
2024-05-06 16:15:54.424 +03:00 [INF] Application is shutting down...
2024-05-06 16:15:54.425 +03:00 [DBG] Hosting stopping
2024-05-06 16:15:54.433 +03:00 [DBG] Connection id "0HN3DPQI9N6JO" disconnecting.
2024-05-06 16:15:54.433 +03:00 [DBG] Connection id "0HN3DPQI9N6JN" disconnecting.
2024-05-06 16:15:54.435 +03:00 [DBG] Connection id "0HN3DPQI9N6JO" stopped.
2024-05-06 16:15:54.435 +03:00 [DBG] Connection id "0HN3DPQI9N6JN" stopped.
2024-05-06 16:15:54.436 +03:00 [DBG] Connection id "0HN3DPQI9N6JO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-06 16:15:54.437 +03:00 [DBG] Connection id "0HN3DPQI9N6JN" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-06 16:15:54.443 +03:00 [DBG] Hosting stopped
2024-05-06 16:16:13.675 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-06 16:16:13.745 +03:00 [DBG] Hosting starting
2024-05-06 16:16:13.807 +03:00 [INF] Now listening on: http://localhost:5268
2024-05-06 16:16:13.808 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-06 16:16:13.809 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-06 16:16:13.810 +03:00 [INF] Hosting environment: Development
2024-05-06 16:16:13.811 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-06 16:16:13.812 +03:00 [DBG] Hosting started
2024-05-06 16:16:13.872 +03:00 [DBG] Connection id "0HN3DPQQ7V6K1" received FIN.
2024-05-06 16:16:13.878 +03:00 [DBG] Connection id "0HN3DPQQ7V6K1" accepted.
2024-05-06 16:16:13.880 +03:00 [DBG] Connection id "0HN3DPQQ7V6K1" started.
2024-05-06 16:16:13.892 +03:00 [DBG] Connection id "0HN3DPQQ7V6K1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-06 16:16:13.895 +03:00 [DBG] Connection id "0HN3DPQQ7V6K1" disconnecting.
2024-05-06 16:16:13.899 +03:00 [DBG] Connection id "0HN3DPQQ7V6K1" stopped.
2024-05-06 16:16:14.045 +03:00 [DBG] Connection id "0HN3DPQQ7V6K2" accepted.
2024-05-06 16:16:14.049 +03:00 [DBG] Connection id "0HN3DPQQ7V6K3" accepted.
2024-05-06 16:16:14.050 +03:00 [DBG] Connection id "0HN3DPQQ7V6K2" started.
2024-05-06 16:16:14.052 +03:00 [DBG] Connection id "0HN3DPQQ7V6K3" started.
2024-05-06 16:16:14.086 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/swagger - null null
2024-05-06 16:16:14.098 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-06 16:16:14.120 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The constraint reference 'apiVersion' could not be resolved to a type. Register the constraint type with 'Microsoft.AspNetCore.Routing.RouteOptions.ConstraintMap'.
   at Microsoft.AspNetCore.Routing.DefaultParameterPolicyFactory.Create(RoutePatternParameterPart parameter, String inlineText)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.CachingParameterPolicyFactory.Create(RoutePatternParameterPart parameter, String inlineText)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.CreateCandidate(Endpoint endpoint, Int32 score)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.CreateCandidates(IReadOnlyList`1 endpoints)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.Build()
   at Microsoft.AspNetCore.Routing.Matching.DataSourceDependentMatcher.CreateMatcher(IReadOnlyList`1 endpoints)
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.Initialize()
   at System.Threading.LazyInitializer.EnsureInitializedCore[T](T& target, Boolean& initialized, Object& syncLock, Func`1 valueFactory)
   at Microsoft.AspNetCore.Routing.Matching.DataSourceDependentMatcher..ctor(EndpointDataSource dataSource, Lifetime lifetime, Func`1 matcherBuilderFactory)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherFactory.CreateMatcher(EndpointDataSource dataSource)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.InitializeCoreAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.<Invoke>g__AwaitMatcher|10_0(EndpointRoutingMiddleware middleware, HttpContext httpContext, Task`1 matcherTask)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-06 16:16:14.153 +03:00 [DBG] Connection id "0HN3DPQQ7V6K2" completed keep alive response.
2024-05-06 16:16:14.155 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/swagger - 500 null text/html; charset=utf-8 75.7373ms
2024-05-06 16:16:14.381 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/favicon.ico - null null
2024-05-06 16:16:14.385 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The constraint reference 'apiVersion' could not be resolved to a type. Register the constraint type with 'Microsoft.AspNetCore.Routing.RouteOptions.ConstraintMap'.
   at Microsoft.AspNetCore.Routing.DefaultParameterPolicyFactory.Create(RoutePatternParameterPart parameter, String inlineText)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.CachingParameterPolicyFactory.Create(RoutePatternParameterPart parameter, String inlineText)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.CreateCandidate(Endpoint endpoint, Int32 score)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.CreateCandidates(IReadOnlyList`1 endpoints)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.Build()
   at Microsoft.AspNetCore.Routing.Matching.DataSourceDependentMatcher.CreateMatcher(IReadOnlyList`1 endpoints)
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.Initialize()
   at System.Threading.LazyInitializer.EnsureInitializedCore[T](T& target, Boolean& initialized, Object& syncLock, Func`1 valueFactory)
   at Microsoft.AspNetCore.Routing.Matching.DataSourceDependentMatcher..ctor(EndpointDataSource dataSource, Lifetime lifetime, Func`1 matcherBuilderFactory)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherFactory.CreateMatcher(EndpointDataSource dataSource)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.InitializeCoreAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.<Invoke>g__AwaitMatcher|10_0(EndpointRoutingMiddleware middleware, HttpContext httpContext, Task`1 matcherTask)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-06 16:16:14.392 +03:00 [DBG] Connection id "0HN3DPQQ7V6K2" completed keep alive response.
2024-05-06 16:16:14.393 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/favicon.ico - 500 null text/plain; charset=utf-8 12.332ms
2024-05-06 16:16:22.824 +03:00 [INF] Application is shutting down...
2024-05-06 16:16:22.825 +03:00 [DBG] Hosting stopping
2024-05-06 16:16:22.833 +03:00 [DBG] Connection id "0HN3DPQQ7V6K3" disconnecting.
2024-05-06 16:16:22.833 +03:00 [DBG] Connection id "0HN3DPQQ7V6K2" disconnecting.
2024-05-06 16:16:22.837 +03:00 [DBG] Connection id "0HN3DPQQ7V6K2" stopped.
2024-05-06 16:16:22.837 +03:00 [DBG] Connection id "0HN3DPQQ7V6K3" stopped.
2024-05-06 16:16:22.838 +03:00 [DBG] Connection id "0HN3DPQQ7V6K2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-06 16:16:22.839 +03:00 [DBG] Connection id "0HN3DPQQ7V6K3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-06 16:16:22.845 +03:00 [DBG] Hosting stopped
2024-05-06 16:16:28.095 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-06 16:16:28.165 +03:00 [DBG] Hosting starting
2024-05-06 16:16:28.228 +03:00 [INF] Now listening on: http://localhost:5268
2024-05-06 16:16:28.229 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-06 16:16:28.230 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-06 16:16:28.231 +03:00 [INF] Hosting environment: Development
2024-05-06 16:16:28.232 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-06 16:16:28.233 +03:00 [DBG] Hosting started
2024-05-06 16:16:28.647 +03:00 [DBG] Connection id "0HN3DPQUKS090" received FIN.
2024-05-06 16:16:28.652 +03:00 [DBG] Connection id "0HN3DPQUKS090" accepted.
2024-05-06 16:16:28.654 +03:00 [DBG] Connection id "0HN3DPQUKS090" started.
2024-05-06 16:16:28.667 +03:00 [DBG] Connection id "0HN3DPQUKS090" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-06 16:16:28.671 +03:00 [DBG] Connection id "0HN3DPQUKS090" disconnecting.
2024-05-06 16:16:28.677 +03:00 [DBG] Connection id "0HN3DPQUKS090" stopped.
2024-05-06 16:16:28.817 +03:00 [DBG] Connection id "0HN3DPQUKS091" accepted.
2024-05-06 16:16:28.819 +03:00 [DBG] Connection id "0HN3DPQUKS092" accepted.
2024-05-06 16:16:28.819 +03:00 [DBG] Connection id "0HN3DPQUKS091" started.
2024-05-06 16:16:28.820 +03:00 [DBG] Connection id "0HN3DPQUKS092" started.
2024-05-06 16:16:28.855 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/swagger - null null
2024-05-06 16:16:28.862 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-06 16:16:28.882 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The constraint reference 'apiVersion' could not be resolved to a type. Register the constraint type with 'Microsoft.AspNetCore.Routing.RouteOptions.ConstraintMap'.
   at Microsoft.AspNetCore.Routing.DefaultParameterPolicyFactory.Create(RoutePatternParameterPart parameter, String inlineText)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.CachingParameterPolicyFactory.Create(RoutePatternParameterPart parameter, String inlineText)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.CreateCandidate(Endpoint endpoint, Int32 score)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.CreateCandidates(IReadOnlyList`1 endpoints)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.Build()
   at Microsoft.AspNetCore.Routing.Matching.DataSourceDependentMatcher.CreateMatcher(IReadOnlyList`1 endpoints)
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.Initialize()
   at System.Threading.LazyInitializer.EnsureInitializedCore[T](T& target, Boolean& initialized, Object& syncLock, Func`1 valueFactory)
   at Microsoft.AspNetCore.Routing.Matching.DataSourceDependentMatcher..ctor(EndpointDataSource dataSource, Lifetime lifetime, Func`1 matcherBuilderFactory)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherFactory.CreateMatcher(EndpointDataSource dataSource)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.InitializeCoreAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.<Invoke>g__AwaitMatcher|10_0(EndpointRoutingMiddleware middleware, HttpContext httpContext, Task`1 matcherTask)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-06 16:16:28.912 +03:00 [DBG] Connection id "0HN3DPQUKS091" completed keep alive response.
2024-05-06 16:16:28.913 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/swagger - 500 null text/html; charset=utf-8 66.5253ms
2024-05-06 16:16:29.129 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/favicon.ico - null null
2024-05-06 16:16:29.134 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The constraint reference 'apiVersion' could not be resolved to a type. Register the constraint type with 'Microsoft.AspNetCore.Routing.RouteOptions.ConstraintMap'.
   at Microsoft.AspNetCore.Routing.DefaultParameterPolicyFactory.Create(RoutePatternParameterPart parameter, String inlineText)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.CachingParameterPolicyFactory.Create(RoutePatternParameterPart parameter, String inlineText)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.CreateCandidate(Endpoint endpoint, Int32 score)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.CreateCandidates(IReadOnlyList`1 endpoints)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.Build()
   at Microsoft.AspNetCore.Routing.Matching.DataSourceDependentMatcher.CreateMatcher(IReadOnlyList`1 endpoints)
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.Initialize()
   at System.Threading.LazyInitializer.EnsureInitializedCore[T](T& target, Boolean& initialized, Object& syncLock, Func`1 valueFactory)
   at Microsoft.AspNetCore.Routing.Matching.DataSourceDependentMatcher..ctor(EndpointDataSource dataSource, Lifetime lifetime, Func`1 matcherBuilderFactory)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherFactory.CreateMatcher(EndpointDataSource dataSource)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.InitializeCoreAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.<Invoke>g__AwaitMatcher|10_0(EndpointRoutingMiddleware middleware, HttpContext httpContext, Task`1 matcherTask)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-06 16:16:29.140 +03:00 [DBG] Connection id "0HN3DPQUKS091" completed keep alive response.
2024-05-06 16:16:29.142 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/favicon.ico - 500 null text/plain; charset=utf-8 12.2736ms
2024-05-06 16:16:38.114 +03:00 [INF] Application is shutting down...
2024-05-06 16:16:38.116 +03:00 [DBG] Hosting stopping
2024-05-06 16:16:38.125 +03:00 [DBG] Connection id "0HN3DPQUKS092" disconnecting.
2024-05-06 16:16:38.125 +03:00 [DBG] Connection id "0HN3DPQUKS091" disconnecting.
2024-05-06 16:16:38.128 +03:00 [DBG] Connection id "0HN3DPQUKS092" stopped.
2024-05-06 16:16:38.128 +03:00 [DBG] Connection id "0HN3DPQUKS091" stopped.
2024-05-06 16:16:38.130 +03:00 [DBG] Connection id "0HN3DPQUKS092" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-06 16:16:38.130 +03:00 [DBG] Connection id "0HN3DPQUKS091" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-06 16:16:38.137 +03:00 [DBG] Hosting stopped
2024-05-06 16:16:43.228 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-06 16:16:43.305 +03:00 [DBG] Hosting starting
2024-05-06 16:16:43.366 +03:00 [INF] Now listening on: http://localhost:5268
2024-05-06 16:16:43.367 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-06 16:16:43.369 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-06 16:16:43.370 +03:00 [INF] Hosting environment: Development
2024-05-06 16:16:43.371 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-06 16:16:43.372 +03:00 [DBG] Hosting started
2024-05-06 16:16:43.782 +03:00 [DBG] Connection id "0HN3DPR356SI7" received FIN.
2024-05-06 16:16:43.787 +03:00 [DBG] Connection id "0HN3DPR356SI7" accepted.
2024-05-06 16:16:43.788 +03:00 [DBG] Connection id "0HN3DPR356SI7" started.
2024-05-06 16:16:43.797 +03:00 [DBG] Connection id "0HN3DPR356SI7" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-06 16:16:43.801 +03:00 [DBG] Connection id "0HN3DPR356SI7" disconnecting.
2024-05-06 16:16:43.805 +03:00 [DBG] Connection id "0HN3DPR356SI7" stopped.
2024-05-06 16:16:43.949 +03:00 [DBG] Connection id "0HN3DPR356SI8" accepted.
2024-05-06 16:16:43.951 +03:00 [DBG] Connection id "0HN3DPR356SI8" started.
2024-05-06 16:16:43.954 +03:00 [DBG] Connection id "0HN3DPR356SI9" accepted.
2024-05-06 16:16:43.960 +03:00 [DBG] Connection id "0HN3DPR356SI9" started.
2024-05-06 16:16:43.992 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/swagger - null null
2024-05-06 16:16:44.000 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-06 16:16:44.027 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-06 16:16:44.028 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:16:44.034 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Swashbuckle.AspNetCore.Swagger.ISwaggerProvider' while attempting to Invoke middleware 'Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware'.
   at lambda_method1(Closure, Object, HttpContext, IServiceProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-06 16:16:44.059 +03:00 [DBG] Connection id "0HN3DPR356SI8" completed keep alive response.
2024-05-06 16:16:44.062 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/swagger - 500 null text/html; charset=utf-8 78.1163ms
2024-05-06 16:16:44.275 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/favicon.ico - null null
2024-05-06 16:16:44.279 +03:00 [DBG] No candidates found for the request path '/favicon.ico'
2024-05-06 16:16:44.280 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:16:44.282 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Swashbuckle.AspNetCore.Swagger.ISwaggerProvider' while attempting to Invoke middleware 'Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware'.
   at lambda_method1(Closure, Object, HttpContext, IServiceProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-06 16:16:44.287 +03:00 [DBG] Connection id "0HN3DPR356SI8" completed keep alive response.
2024-05-06 16:16:44.288 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/favicon.ico - 500 null text/plain; charset=utf-8 13.3397ms
2024-05-06 16:16:51.508 +03:00 [INF] Application is shutting down...
2024-05-06 16:16:51.509 +03:00 [DBG] Hosting stopping
2024-05-06 16:16:51.518 +03:00 [DBG] Connection id "0HN3DPR356SI8" disconnecting.
2024-05-06 16:16:51.518 +03:00 [DBG] Connection id "0HN3DPR356SI9" disconnecting.
2024-05-06 16:16:51.520 +03:00 [DBG] Connection id "0HN3DPR356SI9" stopped.
2024-05-06 16:16:51.520 +03:00 [DBG] Connection id "0HN3DPR356SI8" stopped.
2024-05-06 16:16:51.521 +03:00 [DBG] Connection id "0HN3DPR356SI9" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-06 16:16:51.523 +03:00 [DBG] Connection id "0HN3DPR356SI8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-06 16:16:51.528 +03:00 [DBG] Hosting stopped
2024-05-06 16:17:19.755 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-06 16:17:19.843 +03:00 [DBG] Hosting starting
2024-05-06 16:17:19.904 +03:00 [INF] Now listening on: http://localhost:5268
2024-05-06 16:17:19.905 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-06 16:17:19.906 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-06 16:17:19.908 +03:00 [INF] Hosting environment: Development
2024-05-06 16:17:19.909 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-06 16:17:19.909 +03:00 [DBG] Hosting started
2024-05-06 16:17:20.285 +03:00 [DBG] Connection id "0HN3DPRE1ARRV" received FIN.
2024-05-06 16:17:20.291 +03:00 [DBG] Connection id "0HN3DPRE1ARRV" accepted.
2024-05-06 16:17:20.293 +03:00 [DBG] Connection id "0HN3DPRE1ARRV" started.
2024-05-06 16:17:20.302 +03:00 [DBG] Connection id "0HN3DPRE1ARRV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-06 16:17:20.306 +03:00 [DBG] Connection id "0HN3DPRE1ARRV" disconnecting.
2024-05-06 16:17:20.310 +03:00 [DBG] Connection id "0HN3DPRE1ARRV" stopped.
2024-05-06 16:17:20.474 +03:00 [DBG] Connection id "0HN3DPRE1ARS0" accepted.
2024-05-06 16:17:20.475 +03:00 [DBG] Connection id "0HN3DPRE1ARS0" started.
2024-05-06 16:17:20.476 +03:00 [DBG] Connection id "0HN3DPRE1ARS1" accepted.
2024-05-06 16:17:20.477 +03:00 [DBG] Connection id "0HN3DPRE1ARS1" started.
2024-05-06 16:17:20.521 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/swagger - null null
2024-05-06 16:17:20.529 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-06 16:17:20.581 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-06 16:17:20.582 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:17:20.622 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-06 16:17:20.624 +03:00 [WRN] Failed to determine the https port for redirect.
2024-05-06 16:17:20.627 +03:00 [DBG] Connection id "0HN3DPRE1ARS0" completed keep alive response.
2024-05-06 16:17:20.630 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/swagger - 404 0 null 115.6294ms
2024-05-06 16:17:20.635 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5268/swagger, Response status code: 404
2024-05-06 16:17:23.462 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/index.html - null null
2024-05-06 16:17:23.465 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-06 16:17:23.466 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:17:23.554 +03:00 [DBG] Connection id "0HN3DPRE1ARS0" completed keep alive response.
2024-05-06 16:17:23.555 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/index.html - 200 null text/html;charset=utf-8 93.9732ms
2024-05-06 16:17:23.898 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/swagger/v1/swagger.json - null null
2024-05-06 16:17:23.900 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-06 16:17:23.901 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:17:23.949 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - Diary.Api.Controllers.AuthController.Register (Diary.Api). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-06 16:17:23.961 +03:00 [DBG] Connection id "0HN3DPRE1ARS0" completed keep alive response.
2024-05-06 16:17:23.962 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/swagger/v1/swagger.json - 500 null text/plain; charset=utf-8 63.6694ms
2024-05-06 16:17:30.020 +03:00 [INF] Application is shutting down...
2024-05-06 16:17:30.021 +03:00 [DBG] Hosting stopping
2024-05-06 16:17:30.029 +03:00 [DBG] Connection id "0HN3DPRE1ARS1" disconnecting.
2024-05-06 16:17:30.029 +03:00 [DBG] Connection id "0HN3DPRE1ARS0" disconnecting.
2024-05-06 16:17:30.031 +03:00 [DBG] Connection id "0HN3DPRE1ARS0" stopped.
2024-05-06 16:17:30.031 +03:00 [DBG] Connection id "0HN3DPRE1ARS1" stopped.
2024-05-06 16:17:30.032 +03:00 [DBG] Connection id "0HN3DPRE1ARS0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-06 16:17:30.033 +03:00 [DBG] Connection id "0HN3DPRE1ARS1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-06 16:17:30.038 +03:00 [DBG] Hosting stopped
2024-05-06 16:17:51.719 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-06 16:17:51.840 +03:00 [DBG] Hosting starting
2024-05-06 16:17:51.895 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-06 16:17:51.908 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-06 16:17:51.914 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-06 16:17:51.915 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-06 16:17:51.920 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-06 16:17:51.924 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-06 16:17:51.925 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-06 16:17:51.932 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-06 16:17:51.936 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 16:17:51.939 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-06 16:17:51.941 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 16:17:51.945 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-06 16:17:51.947 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-06 16:17:51.949 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-06 16:17:51.950 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-06 16:17:52.082 +03:00 [INF] Now listening on: http://localhost:5268
2024-05-06 16:17:52.082 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-06 16:17:52.084 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-06 16:17:52.085 +03:00 [INF] Hosting environment: Development
2024-05-06 16:17:52.086 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-06 16:17:52.087 +03:00 [DBG] Hosting started
2024-05-06 16:17:52.478 +03:00 [DBG] Connection id "0HN3DPRNKB9SB" received FIN.
2024-05-06 16:17:52.485 +03:00 [DBG] Connection id "0HN3DPRNKB9SB" accepted.
2024-05-06 16:17:52.488 +03:00 [DBG] Connection id "0HN3DPRNKB9SB" started.
2024-05-06 16:17:52.496 +03:00 [DBG] Connection id "0HN3DPRNKB9SB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-06 16:17:52.500 +03:00 [DBG] Connection id "0HN3DPRNKB9SB" disconnecting.
2024-05-06 16:17:52.505 +03:00 [DBG] Connection id "0HN3DPRNKB9SB" stopped.
2024-05-06 16:17:52.652 +03:00 [DBG] Connection id "0HN3DPRNKB9SC" accepted.
2024-05-06 16:17:52.655 +03:00 [DBG] Connection id "0HN3DPRNKB9SC" started.
2024-05-06 16:17:52.656 +03:00 [DBG] Connection id "0HN3DPRNKB9SD" accepted.
2024-05-06 16:17:52.698 +03:00 [DBG] Connection id "0HN3DPRNKB9SD" started.
2024-05-06 16:17:52.728 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/swagger - null null
2024-05-06 16:17:52.732 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-06 16:17:52.776 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-06 16:17:52.778 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:17:52.883 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:17:52.937 +03:00 [DBG] Connection id "0HN3DPRNKB9SC" completed keep alive response.
2024-05-06 16:17:52.940 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/swagger - 301 0 null 217.1688ms
2024-05-06 16:17:52.946 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/swagger/index.html - null null
2024-05-06 16:17:52.948 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-06 16:17:52.949 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:17:52.951 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:17:53.026 +03:00 [DBG] Connection id "0HN3DPRNKB9SC" completed keep alive response.
2024-05-06 16:17:53.027 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/swagger/index.html - 200 null text/html;charset=utf-8 81.5126ms
2024-05-06 16:17:53.135 +03:00 [DBG] Connection id "0HN3DPRNKB9SE" accepted.
2024-05-06 16:17:53.135 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/swagger/swagger-ui.css - null null
2024-05-06 16:17:53.136 +03:00 [DBG] Connection id "0HN3DPRNKB9SE" started.
2024-05-06 16:17:53.136 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/swagger/swagger-ui-bundle.js - null null
2024-05-06 16:17:53.139 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-05-06 16:17:53.139 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/swagger/swagger-ui-standalone-preset.js - null null
2024-05-06 16:17:53.141 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2024-05-06 16:17:53.142 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:17:53.145 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2024-05-06 16:17:53.145 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:17:53.147 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:17:53.147 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:17:53.148 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:17:53.149 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:17:53.209 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-05-06 16:17:53.209 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-05-06 16:17:53.209 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-05-06 16:17:53.216 +03:00 [DBG] Connection id "0HN3DPRNKB9SE" completed keep alive response.
2024-05-06 16:17:53.216 +03:00 [DBG] Connection id "0HN3DPRNKB9SD" completed keep alive response.
2024-05-06 16:17:53.216 +03:00 [DBG] Connection id "0HN3DPRNKB9SC" completed keep alive response.
2024-05-06 16:17:53.217 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/swagger/swagger-ui-standalone-preset.js - 200 339486 text/javascript 77.8077ms
2024-05-06 16:17:53.218 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/swagger/swagger-ui-bundle.js - 200 1096145 text/javascript 82.6059ms
2024-05-06 16:17:53.219 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/swagger/swagger-ui.css - 200 143943 text/css 83.7526ms
2024-05-06 16:17:53.440 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/swagger/v1/swagger.json - null null
2024-05-06 16:17:53.442 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-06 16:17:53.443 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:17:53.444 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:17:53.467 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/swagger/favicon-32x32.png - null null
2024-05-06 16:17:53.470 +03:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2024-05-06 16:17:53.472 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:17:53.472 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:17:53.474 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-05-06 16:17:53.475 +03:00 [DBG] Connection id "0HN3DPRNKB9SE" completed keep alive response.
2024-05-06 16:17:53.476 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/swagger/favicon-32x32.png - 200 628 image/png 9.4354ms
2024-05-06 16:17:53.496 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - Diary.Api.Controllers.AuthController.Register (Diary.Api). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-06 16:17:53.518 +03:00 [DBG] Connection id "0HN3DPRNKB9SD" completed keep alive response.
2024-05-06 16:17:53.519 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/swagger/v1/swagger.json - 500 null text/plain; charset=utf-8 79.6263ms
2024-05-06 16:25:14.225 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-06 16:25:16.294 +03:00 [DBG] Hosting starting
2024-05-06 16:25:16.346 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-06 16:25:16.357 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-06 16:25:16.362 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-06 16:25:16.363 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-06 16:25:16.368 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-06 16:25:16.372 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-06 16:25:16.373 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-06 16:25:16.380 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-06 16:25:16.384 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 16:25:16.387 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-06 16:25:16.389 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 16:25:16.394 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-06 16:25:16.396 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-06 16:25:16.398 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-06 16:25:16.400 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-06 16:25:16.533 +03:00 [INF] Now listening on: http://localhost:5268
2024-05-06 16:25:16.534 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-06 16:25:16.535 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-06 16:25:16.536 +03:00 [INF] Hosting environment: Development
2024-05-06 16:25:16.536 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-06 16:25:16.538 +03:00 [DBG] Hosting started
2024-05-06 16:25:19.972 +03:00 [DBG] Connection id "0HN3DPVSVVKS1" accepted.
2024-05-06 16:25:20.012 +03:00 [DBG] Connection id "0HN3DPVSVVKS1" started.
2024-05-06 16:25:20.014 +03:00 [DBG] Connection id "0HN3DPVSVVKS2" accepted.
2024-05-06 16:25:20.016 +03:00 [DBG] Connection id "0HN3DPVSVVKS2" started.
2024-05-06 16:25:20.055 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/index.html - null null
2024-05-06 16:25:20.061 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-06 16:25:20.105 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-06 16:25:20.106 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:25:20.217 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:25:20.338 +03:00 [DBG] Connection id "0HN3DPVSVVKS1" completed keep alive response.
2024-05-06 16:25:20.341 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/index.html - 200 null text/html;charset=utf-8 291.3353ms
2024-05-06 16:25:20.574 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/swagger/v1/swagger.json - null null
2024-05-06 16:25:20.577 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-06 16:25:20.578 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:25:20.579 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:25:20.633 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - Diary.Api.Controllers.AuthController.Register (Diary.Api). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-06 16:25:20.654 +03:00 [DBG] Connection id "0HN3DPVSVVKS1" completed keep alive response.
2024-05-06 16:25:20.655 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/swagger/v1/swagger.json - 500 null text/plain; charset=utf-8 80.9414ms
2024-05-06 16:27:53.217 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-06 16:27:53.308 +03:00 [DBG] Hosting starting
2024-05-06 16:27:53.322 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-06 16:27:53.334 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-06 16:27:53.338 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-06 16:27:53.339 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-06 16:27:53.344 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-06 16:27:53.348 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-06 16:27:53.348 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-06 16:27:53.356 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-06 16:27:53.360 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 16:27:53.364 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-06 16:27:53.365 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 16:27:53.371 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-06 16:27:53.373 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-06 16:27:53.375 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-06 16:27:53.376 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-06 16:27:53.448 +03:00 [INF] Now listening on: http://localhost:5268
2024-05-06 16:27:53.449 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-06 16:27:53.450 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-06 16:27:53.451 +03:00 [INF] Hosting environment: Development
2024-05-06 16:27:53.452 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-06 16:27:53.453 +03:00 [DBG] Hosting started
2024-05-06 16:27:53.707 +03:00 [DBG] Connection id "0HN3DQ1AQ43PQ" received FIN.
2024-05-06 16:27:53.713 +03:00 [DBG] Connection id "0HN3DQ1AQ43PQ" accepted.
2024-05-06 16:27:53.714 +03:00 [DBG] Connection id "0HN3DQ1AQ43PQ" started.
2024-05-06 16:27:53.722 +03:00 [DBG] Connection id "0HN3DQ1AQ43PQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-06 16:27:53.727 +03:00 [DBG] Connection id "0HN3DQ1AQ43PQ" disconnecting.
2024-05-06 16:27:53.731 +03:00 [DBG] Connection id "0HN3DQ1AQ43PQ" stopped.
2024-05-06 16:27:53.920 +03:00 [DBG] Connection id "0HN3DQ1AQ43PR" accepted.
2024-05-06 16:27:53.922 +03:00 [DBG] Connection id "0HN3DQ1AQ43PR" started.
2024-05-06 16:27:53.923 +03:00 [DBG] Connection id "0HN3DQ1AQ43PS" accepted.
2024-05-06 16:27:53.927 +03:00 [DBG] Connection id "0HN3DQ1AQ43PS" started.
2024-05-06 16:27:53.958 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/swagger/index.html - null null
2024-05-06 16:27:53.962 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-06 16:27:54.010 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-06 16:27:54.012 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:27:54.050 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:27:54.086 +03:00 [DBG] The request path /swagger/index.html does not match an existing file
2024-05-06 16:27:54.087 +03:00 [WRN] Failed to determine the https port for redirect.
2024-05-06 16:27:54.090 +03:00 [DBG] Connection id "0HN3DQ1AQ43PR" completed keep alive response.
2024-05-06 16:27:54.092 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/swagger/index.html - 404 0 null 139.6503ms
2024-05-06 16:27:54.097 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5268/swagger/index.html, Response status code: 404
2024-05-06 16:27:56.317 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/index.html - null null
2024-05-06 16:27:56.322 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-06 16:27:56.324 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:27:56.327 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:27:56.413 +03:00 [DBG] Connection id "0HN3DQ1AQ43PR" completed keep alive response.
2024-05-06 16:27:56.414 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/index.html - 200 null text/html;charset=utf-8 97.0999ms
2024-05-06 16:27:56.762 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/swagger/v1/swagger.json - null null
2024-05-06 16:27:56.764 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-06 16:27:56.765 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:27:56.769 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:27:56.928 +03:00 [DBG] Connection id "0HN3DQ1AQ43PR" completed keep alive response.
2024-05-06 16:27:56.929 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 167.9741ms
2024-05-06 16:28:12.471 +03:00 [INF] Application is shutting down...
2024-05-06 16:28:12.472 +03:00 [DBG] Hosting stopping
2024-05-06 16:28:12.480 +03:00 [DBG] Connection id "0HN3DQ1AQ43PR" disconnecting.
2024-05-06 16:28:12.480 +03:00 [DBG] Connection id "0HN3DQ1AQ43PS" disconnecting.
2024-05-06 16:28:12.482 +03:00 [DBG] Connection id "0HN3DQ1AQ43PS" stopped.
2024-05-06 16:28:12.482 +03:00 [DBG] Connection id "0HN3DQ1AQ43PR" stopped.
2024-05-06 16:28:12.483 +03:00 [DBG] Connection id "0HN3DQ1AQ43PS" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-06 16:28:12.484 +03:00 [DBG] Connection id "0HN3DQ1AQ43PR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-06 16:28:12.490 +03:00 [DBG] Hosting stopped
2024-05-06 16:31:01.501 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-06 16:31:01.602 +03:00 [DBG] Hosting starting
2024-05-06 16:31:01.618 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-06 16:31:01.633 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-06 16:31:01.638 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-06 16:31:01.640 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-06 16:31:01.645 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-06 16:31:01.649 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-06 16:31:01.650 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-06 16:31:01.658 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-06 16:31:01.662 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 16:31:01.666 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-06 16:31:01.668 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 16:31:01.673 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-06 16:31:01.675 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-06 16:31:01.677 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-06 16:31:01.678 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-06 16:31:01.746 +03:00 [INF] Now listening on: http://localhost:5268
2024-05-06 16:31:01.747 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-06 16:31:01.748 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-06 16:31:01.749 +03:00 [INF] Hosting environment: Development
2024-05-06 16:31:01.749 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-06 16:31:01.750 +03:00 [DBG] Hosting started
2024-05-06 16:31:01.933 +03:00 [DBG] Connection id "0HN3DQ32T5U9H" received FIN.
2024-05-06 16:31:01.939 +03:00 [DBG] Connection id "0HN3DQ32T5U9H" accepted.
2024-05-06 16:31:01.940 +03:00 [DBG] Connection id "0HN3DQ32T5U9H" started.
2024-05-06 16:31:01.949 +03:00 [DBG] Connection id "0HN3DQ32T5U9H" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-06 16:31:01.953 +03:00 [DBG] Connection id "0HN3DQ32T5U9H" disconnecting.
2024-05-06 16:31:01.958 +03:00 [DBG] Connection id "0HN3DQ32T5U9H" stopped.
2024-05-06 16:31:02.147 +03:00 [DBG] Connection id "0HN3DQ32T5U9I" accepted.
2024-05-06 16:31:02.151 +03:00 [DBG] Connection id "0HN3DQ32T5U9I" started.
2024-05-06 16:31:02.151 +03:00 [DBG] Connection id "0HN3DQ32T5U9J" accepted.
2024-05-06 16:31:02.154 +03:00 [DBG] Connection id "0HN3DQ32T5U9J" started.
2024-05-06 16:31:02.199 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/swagger/index.html - null null
2024-05-06 16:31:02.203 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-06 16:31:02.264 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-06 16:31:02.268 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:31:02.305 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:31:02.337 +03:00 [DBG] The request path /swagger/index.html does not match an existing file
2024-05-06 16:31:02.339 +03:00 [WRN] Failed to determine the https port for redirect.
2024-05-06 16:31:02.342 +03:00 [DBG] Connection id "0HN3DQ32T5U9I" completed keep alive response.
2024-05-06 16:31:02.344 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/swagger/index.html - 404 0 null 152.0142ms
2024-05-06 16:31:02.349 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5268/swagger/index.html, Response status code: 404
2024-05-06 16:31:05.093 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/index.html - null null
2024-05-06 16:31:05.097 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-06 16:31:05.098 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:31:05.101 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:31:05.181 +03:00 [DBG] Connection id "0HN3DQ32T5U9I" completed keep alive response.
2024-05-06 16:31:05.183 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/index.html - 200 null text/html;charset=utf-8 90.4049ms
2024-05-06 16:31:05.491 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/swagger/v1/swagger.json - null null
2024-05-06 16:31:05.494 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-06 16:31:05.495 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:31:05.498 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:31:05.659 +03:00 [DBG] Connection id "0HN3DQ32T5U9I" completed keep alive response.
2024-05-06 16:31:05.660 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 168.9493ms
2024-05-06 16:32:33.355 +03:00 [DBG] Connection id "0HN3DQ32T5U9J" received FIN.
2024-05-06 16:32:33.357 +03:00 [DBG] Connection id "0HN3DQ32T5U9J" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-06 16:32:33.359 +03:00 [DBG] Connection id "0HN3DQ32T5U9J" disconnecting.
2024-05-06 16:32:33.361 +03:00 [DBG] Connection id "0HN3DQ32T5U9J" stopped.
2024-05-06 16:33:16.693 +03:00 [DBG] Connection id "0HN3DQ32T5U9I" disconnecting.
2024-05-06 16:33:16.694 +03:00 [DBG] Connection id "0HN3DQ32T5U9I" stopped.
2024-05-06 16:33:16.696 +03:00 [DBG] Connection id "0HN3DQ32T5U9I" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-06 16:35:15.903 +03:00 [DBG] Connection id "0HN3DQ32T5U9K" accepted.
2024-05-06 16:35:15.904 +03:00 [DBG] Connection id "0HN3DQ32T5U9K" started.
2024-05-06 16:35:15.906 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/reports/1?api-version=1 - null null
2024-05-06 16:35:15.926 +03:00 [DBG] 1 candidate(s) found for the request path '/reports/1'
2024-05-06 16:35:15.931 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api)' with route pattern 'reports/{userId:long}' is valid for the request path '/reports/1'
2024-05-06 16:35:15.937 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api)'
2024-05-06 16:35:15.939 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:35:15.940 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-06 16:35:15.942 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api)'
2024-05-06 16:35:15.977 +03:00 [INF] Route matched with {action = "GetReports", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.CollectionResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] GetReportsAsync(Int64) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-06 16:35:15.981 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-06 16:35:15.982 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-06 16:35:15.983 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-06 16:35:15.985 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-06 16:35:15.987 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-06 16:35:15.990 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-06 16:35:16.413 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-06 16:35:17.634 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-06 16:35:17.656 +03:00 [DBG] Creating DbConnection.
2024-05-06 16:35:17.734 +03:00 [DBG] Created DbConnection. (75ms).
2024-05-06 16:35:17.743 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:35:17.929 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:35:17.939 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:35:17.952 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (8ms).
2024-05-06 16:35:17.966 +03:00 [DBG] Creating DbConnection.
2024-05-06 16:35:17.967 +03:00 [DBG] Created DbConnection. (1ms).
2024-05-06 16:35:17.968 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 16:35:18.015 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 16:35:18.022 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 16:35:18.032 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2024-05-06 16:35:18.035 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (14ms).
2024-05-06 16:35:18.045 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "Diary" WITH (FORCE);
2024-05-06 16:35:18.269 +03:00 [INF] Executed DbCommand (224ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "Diary" WITH (FORCE);
2024-05-06 16:35:18.274 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 16:35:18.275 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5438' (1ms).
2024-05-06 16:35:18.278 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 16:35:18.280 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5438' (1ms).
2024-05-06 16:35:18.282 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:35:18.304 +03:00 [DBG] An error occurred using the connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:35:18.345 +03:00 [DBG] Creating DbConnection.
2024-05-06 16:35:18.346 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-06 16:35:18.347 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 16:35:18.357 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 16:35:18.358 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 16:35:18.358 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 16:35:18.359 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-05-06 16:35:18.360 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "Diary";
2024-05-06 16:35:18.845 +03:00 [INF] Executed DbCommand (485ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "Diary";
2024-05-06 16:35:18.847 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 16:35:18.848 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5438' (1ms).
2024-05-06 16:35:18.850 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 16:35:18.852 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5438' (1ms).
2024-05-06 16:35:18.853 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:35:18.870 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:35:18.871 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:35:18.873 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (1ms).
2024-05-06 16:35:19.048 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:35:19.075 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:35:19.079 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-06 16:35:19.085 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-06 16:35:19.088 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 16:35:19.088 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 16:35:19.090 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-05-06 16:35:19.091 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "User" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Login" character varying(100) NOT NULL,
    "Password" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_User" PRIMARY KEY ("Id")
);
2024-05-06 16:35:19.108 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "User" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Login" character varying(100) NOT NULL,
    "Password" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_User" PRIMARY KEY ("Id")
);
2024-05-06 16:35:19.110 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 16:35:19.111 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 16:35:19.112 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-05-06 16:35:19.114 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Report" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(100) NOT NULL,
    "Description" character varying(2000) NOT NULL,
    "UserId" bigint NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_Report" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Report_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-06 16:35:19.127 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Report" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(100) NOT NULL,
    "Description" character varying(2000) NOT NULL,
    "UserId" bigint NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_Report" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Report_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-06 16:35:19.129 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 16:35:19.130 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 16:35:19.131 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-05-06 16:35:19.132 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserToken" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "RefreshToken" text NOT NULL,
    "RefreshTokenExpiryTime" timestamp with time zone NOT NULL,
    "UserId" bigint NOT NULL,
    CONSTRAINT "PK_UserToken" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_UserToken_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-06 16:35:19.143 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserToken" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "RefreshToken" text NOT NULL,
    "RefreshTokenExpiryTime" timestamp with time zone NOT NULL,
    "UserId" bigint NOT NULL,
    CONSTRAINT "PK_UserToken" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_UserToken_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-06 16:35:19.146 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 16:35:19.146 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 16:35:19.147 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-05-06 16:35:19.149 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "User" ("Id", "CreatedAt", "CreatedBy", "Login", "Password", "UpdatedAt", "UpdatedBy")
VALUES (1, TIMESTAMPTZ '2024-05-06T13:35:18.317945Z', 0, 'svyatmtk', 'password', NULL, NULL);
2024-05-06 16:35:19.153 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "User" ("Id", "CreatedAt", "CreatedBy", "Login", "Password", "UpdatedAt", "UpdatedBy")
VALUES (1, TIMESTAMPTZ '2024-05-06T13:35:18.317945Z', 0, 'svyatmtk', 'password', NULL, NULL);
2024-05-06 16:35:19.155 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 16:35:19.156 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 16:35:19.157 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-05-06 16:35:19.158 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("Id", "CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (1, TIMESTAMPTZ '2024-05-06T13:35:18.317417Z', 0, 'First rep description', 'First repository', NULL, NULL, 1);
2024-05-06 16:35:19.162 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("Id", "CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (1, TIMESTAMPTZ '2024-05-06T13:35:18.317417Z', 0, 'First rep description', 'First repository', NULL, NULL, 1);
2024-05-06 16:35:19.164 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 16:35:19.165 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 16:35:19.166 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-05-06 16:35:19.167 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserToken" ("Id", "RefreshToken", "RefreshTokenExpiryTime", "UserId")
VALUES (1, 'kjfsdojk(*@#(23o', TIMESTAMPTZ '2024-05-13T13:35:18.318209Z', 1);
2024-05-06 16:35:19.170 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserToken" ("Id", "RefreshToken", "RefreshTokenExpiryTime", "UserId")
VALUES (1, 'kjfsdojk(*@#(23o', TIMESTAMPTZ '2024-05-13T13:35:18.318209Z', 1);
2024-05-06 16:35:19.172 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 16:35:19.173 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-05-06 16:35:19.174 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-05-06 16:35:19.175 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Report_UserId" ON "Report" ("UserId");
2024-05-06 16:35:19.182 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Report_UserId" ON "Report" ("UserId");
2024-05-06 16:35:19.184 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 16:35:19.185 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 16:35:19.186 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-05-06 16:35:19.187 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_UserToken_UserId" ON "UserToken" ("UserId");
2024-05-06 16:35:19.193 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_UserToken_UserId" ON "UserToken" ("UserId");
2024-05-06 16:35:19.194 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 16:35:19.195 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 16:35:19.196 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-05-06 16:35:19.197 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT setval(
    pg_get_serial_sequence('"User"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "User") + 1,
        nextval(pg_get_serial_sequence('"User"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"Report"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "Report") + 1,
        nextval(pg_get_serial_sequence('"Report"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"UserToken"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "UserToken") + 1,
        nextval(pg_get_serial_sequence('"UserToken"', 'Id'))),
    false);
2024-05-06 16:35:19.212 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT setval(
    pg_get_serial_sequence('"User"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "User") + 1,
        nextval(pg_get_serial_sequence('"User"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"Report"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "Report") + 1,
        nextval(pg_get_serial_sequence('"Report"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"UserToken"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "UserToken") + 1,
        nextval(pg_get_serial_sequence('"UserToken"', 'Id'))),
    false);
2024-05-06 16:35:19.216 +03:00 [DBG] Committing transaction.
2024-05-06 16:35:19.223 +03:00 [DBG] Committed transaction.
2024-05-06 16:35:19.226 +03:00 [DBG] Disposing transaction.
2024-05-06 16:35:19.227 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:35:19.231 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (4ms).
2024-05-06 16:35:19.371 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-06 16:35:19.377 +03:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int64' ...
2024-05-06 16:35:19.379 +03:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int64' using the name 'userId' in request data ...
2024-05-06 16:35:19.381 +03:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int64'.
2024-05-06 16:35:19.382 +03:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int64'.
2024-05-06 16:35:19.383 +03:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Int64' ...
2024-05-06 16:35:19.385 +03:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Int64'.
2024-05-06 16:35:19.393 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api) - Validation state: "Valid"
2024-05-06 16:35:19.496 +03:00 [DBG] Compiling query expression: 
'DbSet<Report>()
    .Where(x => x.UserId == __userId_0)
    .Select(x => new ReportDto(
        x.Id, 
        x.Name, 
        x.Description, 
        x.CreatedAt.ToLongDateString()
    ))'
2024-05-06 16:35:19.786 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ReportDto>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
        SELECT r.Id, r.Name, r.Description, r.CreatedAt
        FROM Report AS r
        WHERE r.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ReportDto>, 
    Diary.DAL.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-05-06 16:35:19.830 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:35:19.833 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:35:19.835 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-06 16:35:19.836 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-06 16:35:19.844 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-05-06 16:35:19.849 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name", r."Description", r."CreatedAt"
FROM "Report" AS r
WHERE r."UserId" = @__userId_0
2024-05-06 16:35:19.961 +03:00 [INF] Executed DbCommand (115ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name", r."Description", r."CreatedAt"
FROM "Report" AS r
WHERE r."UserId" = @__userId_0
2024-05-06 16:35:19.994 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:35:19.999 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 33ms reading results.
2024-05-06 16:35:20.004 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:35:20.006 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-06 16:35:20.017 +03:00 [INF] Executed action method Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 618.0942ms.
2024-05-06 16:35:20.025 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-06 16:35:20.031 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-06 16:35:20.033 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-06 16:35:20.035 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-06 16:35:20.036 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-06 16:35:20.037 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-06 16:35:20.038 +03:00 [INF] Executing OkObjectResult, writing value of type 'Diary.Domain.Result.CollectionResult`1[[Diary.Domain.Dto.ReportDto.ReportDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-06 16:35:20.067 +03:00 [INF] Executed action Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api) in 4074.6809ms
2024-05-06 16:35:20.069 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api)'
2024-05-06 16:35:20.074 +03:00 [DBG] Connection id "0HN3DQ32T5U9K" completed keep alive response.
2024-05-06 16:35:20.080 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-06 16:35:20.087 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:35:20.091 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (3ms).
2024-05-06 16:35:20.093 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/reports/1?api-version=1 - 200 null application/json; charset=utf-8 4186.8133ms
2024-05-06 16:35:43.377 +03:00 [INF] Application is shutting down...
2024-05-06 16:35:43.379 +03:00 [DBG] Hosting stopping
2024-05-06 16:35:43.385 +03:00 [DBG] Connection id "0HN3DQ32T5U9K" disconnecting.
2024-05-06 16:35:43.386 +03:00 [DBG] Connection id "0HN3DQ32T5U9K" stopped.
2024-05-06 16:35:43.387 +03:00 [DBG] Connection id "0HN3DQ32T5U9K" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-06 16:35:43.392 +03:00 [DBG] Hosting stopped
2024-05-06 16:38:42.578 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-06 16:38:42.671 +03:00 [DBG] Hosting starting
2024-05-06 16:38:42.686 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-06 16:38:42.698 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-06 16:38:42.703 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-06 16:38:42.705 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-06 16:38:42.709 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-06 16:38:42.713 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-06 16:38:42.714 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-06 16:38:42.723 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-06 16:38:42.727 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 16:38:42.731 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-06 16:38:42.733 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 16:38:42.738 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-06 16:38:42.740 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-06 16:38:42.743 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-06 16:38:42.744 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-06 16:38:42.813 +03:00 [INF] Now listening on: http://localhost:5268
2024-05-06 16:38:42.814 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-06 16:38:42.815 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-06 16:38:42.816 +03:00 [INF] Hosting environment: Development
2024-05-06 16:38:42.817 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-06 16:38:42.817 +03:00 [DBG] Hosting started
2024-05-06 16:38:42.927 +03:00 [DBG] Connection id "0HN3DQ7C9IAQ6" received FIN.
2024-05-06 16:38:42.934 +03:00 [DBG] Connection id "0HN3DQ7C9IAQ6" accepted.
2024-05-06 16:38:42.936 +03:00 [DBG] Connection id "0HN3DQ7C9IAQ6" started.
2024-05-06 16:38:42.944 +03:00 [DBG] Connection id "0HN3DQ7C9IAQ6" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-06 16:38:42.949 +03:00 [DBG] Connection id "0HN3DQ7C9IAQ6" disconnecting.
2024-05-06 16:38:42.953 +03:00 [DBG] Connection id "0HN3DQ7C9IAQ6" stopped.
2024-05-06 16:38:43.138 +03:00 [DBG] Connection id "0HN3DQ7C9IAQ7" accepted.
2024-05-06 16:38:43.140 +03:00 [DBG] Connection id "0HN3DQ7C9IAQ7" started.
2024-05-06 16:38:43.140 +03:00 [DBG] Connection id "0HN3DQ7C9IAQ8" accepted.
2024-05-06 16:38:43.144 +03:00 [DBG] Connection id "0HN3DQ7C9IAQ8" started.
2024-05-06 16:38:43.187 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/swagger/index.html - null null
2024-05-06 16:38:43.192 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-06 16:38:43.258 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-06 16:38:43.259 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:38:43.306 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:38:43.351 +03:00 [DBG] The request path /swagger/index.html does not match an existing file
2024-05-06 16:38:43.354 +03:00 [WRN] Failed to determine the https port for redirect.
2024-05-06 16:38:43.357 +03:00 [DBG] Connection id "0HN3DQ7C9IAQ7" completed keep alive response.
2024-05-06 16:38:43.361 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/swagger/index.html - 404 0 null 179.6161ms
2024-05-06 16:38:43.366 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5268/swagger/index.html, Response status code: 404
2024-05-06 16:38:47.739 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/index.html - null null
2024-05-06 16:38:47.742 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-06 16:38:47.743 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:38:47.744 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:38:47.850 +03:00 [DBG] Connection id "0HN3DQ7C9IAQ7" completed keep alive response.
2024-05-06 16:38:47.851 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/index.html - 200 null text/html;charset=utf-8 112.2202ms
2024-05-06 16:38:48.040 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/swagger/v1/swagger.json - null null
2024-05-06 16:38:48.042 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-06 16:38:48.043 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:38:48.047 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:38:48.209 +03:00 [DBG] Connection id "0HN3DQ7C9IAQ7" completed keep alive response.
2024-05-06 16:38:48.210 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 170.5225ms
2024-05-06 16:38:54.715 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/reports/1?api-version=1 - null null
2024-05-06 16:38:54.728 +03:00 [DBG] 1 candidate(s) found for the request path '/reports/1'
2024-05-06 16:38:54.733 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api)' with route pattern 'reports/{userId:long}' is valid for the request path '/reports/1'
2024-05-06 16:38:54.739 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api)'
2024-05-06 16:38:54.741 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:38:54.748 +03:00 [DBG] Policy authentication schemes  did not succeed
2024-05-06 16:38:54.752 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-05-06 16:38:54.757 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-05-06 16:38:54.759 +03:00 [DBG] Connection id "0HN3DQ7C9IAQ7" completed keep alive response.
2024-05-06 16:38:54.760 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/reports/1?api-version=1 - 401 0 null 44.9748ms
2024-05-06 16:39:52.531 +03:00 [DBG] Connection id "0HN3DQ7C9IAQ8" received FIN.
2024-05-06 16:39:52.533 +03:00 [DBG] Connection id "0HN3DQ7C9IAQ8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-06 16:39:52.534 +03:00 [DBG] Connection id "0HN3DQ7C9IAQ8" disconnecting.
2024-05-06 16:39:52.536 +03:00 [DBG] Connection id "0HN3DQ7C9IAQ8" stopped.
2024-05-06 16:40:38.087 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5268/register - application/json 51
2024-05-06 16:40:38.090 +03:00 [DBG] 1 candidate(s) found for the request path '/register'
2024-05-06 16:40:38.091 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)' with route pattern 'register' is valid for the request path '/register'
2024-05-06 16:40:38.092 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)'
2024-05-06 16:40:38.094 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:40:38.095 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-06 16:40:38.097 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)'
2024-05-06 16:40:38.120 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.TokenDto]]] Login(Diary.Domain.Dto.UserDto.LoginUserDto) on controller Diary.Api.Controllers.AuthController (Diary.Api).
2024-05-06 16:40:38.122 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-06 16:40:38.124 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-06 16:40:38.125 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-06 16:40:38.127 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-06 16:40:38.128 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-06 16:40:38.131 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-06 16:40:38.271 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-06 16:40:39.386 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-06 16:40:39.405 +03:00 [DBG] Creating DbConnection.
2024-05-06 16:40:39.448 +03:00 [DBG] Created DbConnection. (40ms).
2024-05-06 16:40:39.456 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:40:39.589 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:40:39.598 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:40:39.611 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (8ms).
2024-05-06 16:40:39.626 +03:00 [DBG] Creating DbConnection.
2024-05-06 16:40:39.627 +03:00 [DBG] Created DbConnection. (1ms).
2024-05-06 16:40:39.628 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 16:40:39.645 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 16:40:39.651 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 16:40:39.660 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2024-05-06 16:40:39.663 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (12ms).
2024-05-06 16:40:39.673 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "Diary" WITH (FORCE);
2024-05-06 16:40:39.856 +03:00 [INF] Executed DbCommand (184ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "Diary" WITH (FORCE);
2024-05-06 16:40:39.861 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 16:40:39.863 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5438' (1ms).
2024-05-06 16:40:39.866 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 16:40:39.868 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5438' (2ms).
2024-05-06 16:40:39.871 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:40:39.891 +03:00 [DBG] An error occurred using the connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:40:39.933 +03:00 [DBG] Creating DbConnection.
2024-05-06 16:40:39.933 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-06 16:40:39.934 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 16:40:39.943 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 16:40:39.944 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 16:40:39.945 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 16:40:39.946 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-05-06 16:40:39.947 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "Diary";
2024-05-06 16:40:40.048 +03:00 [INF] Executed DbCommand (100ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "Diary";
2024-05-06 16:40:40.049 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 16:40:40.050 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5438' (1ms).
2024-05-06 16:40:40.053 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 16:40:40.054 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5438' (1ms).
2024-05-06 16:40:40.055 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:40:40.067 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:40:40.068 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:40:40.070 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (1ms).
2024-05-06 16:40:40.242 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:40:40.270 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:40:40.274 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-06 16:40:40.281 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-06 16:40:40.284 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 16:40:40.284 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 16:40:40.286 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-05-06 16:40:40.287 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "User" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Login" character varying(100) NOT NULL,
    "Password" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_User" PRIMARY KEY ("Id")
);
2024-05-06 16:40:40.300 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "User" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Login" character varying(100) NOT NULL,
    "Password" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_User" PRIMARY KEY ("Id")
);
2024-05-06 16:40:40.302 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 16:40:40.303 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 16:40:40.304 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-05-06 16:40:40.306 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Report" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(100) NOT NULL,
    "Description" character varying(2000) NOT NULL,
    "UserId" bigint NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_Report" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Report_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-06 16:40:40.318 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Report" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(100) NOT NULL,
    "Description" character varying(2000) NOT NULL,
    "UserId" bigint NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_Report" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Report_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-06 16:40:40.320 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 16:40:40.321 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 16:40:40.322 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-05-06 16:40:40.324 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserToken" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "RefreshToken" text NOT NULL,
    "RefreshTokenExpiryTime" timestamp with time zone NOT NULL,
    "UserId" bigint NOT NULL,
    CONSTRAINT "PK_UserToken" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_UserToken_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-06 16:40:40.334 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserToken" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "RefreshToken" text NOT NULL,
    "RefreshTokenExpiryTime" timestamp with time zone NOT NULL,
    "UserId" bigint NOT NULL,
    CONSTRAINT "PK_UserToken" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_UserToken_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-06 16:40:40.336 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 16:40:40.337 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 16:40:40.337 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-05-06 16:40:40.338 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "User" ("Id", "CreatedAt", "CreatedBy", "Login", "Password", "UpdatedAt", "UpdatedBy")
VALUES (1, TIMESTAMPTZ '2024-05-06T13:40:39.905175Z', 0, 'svyatmtk', 'password', NULL, NULL);
2024-05-06 16:40:40.341 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "User" ("Id", "CreatedAt", "CreatedBy", "Login", "Password", "UpdatedAt", "UpdatedBy")
VALUES (1, TIMESTAMPTZ '2024-05-06T13:40:39.905175Z', 0, 'svyatmtk', 'password', NULL, NULL);
2024-05-06 16:40:40.343 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 16:40:40.344 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 16:40:40.345 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-05-06 16:40:40.345 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("Id", "CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (1, TIMESTAMPTZ '2024-05-06T13:40:39.904605Z', 0, 'First rep description', 'First repository', NULL, NULL, 1);
2024-05-06 16:40:40.349 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("Id", "CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (1, TIMESTAMPTZ '2024-05-06T13:40:39.904605Z', 0, 'First rep description', 'First repository', NULL, NULL, 1);
2024-05-06 16:40:40.350 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 16:40:40.351 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 16:40:40.352 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-05-06 16:40:40.352 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserToken" ("Id", "RefreshToken", "RefreshTokenExpiryTime", "UserId")
VALUES (1, 'kjfsdojk(*@#(23o', TIMESTAMPTZ '2024-05-13T13:40:39.905467Z', 1);
2024-05-06 16:40:40.356 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserToken" ("Id", "RefreshToken", "RefreshTokenExpiryTime", "UserId")
VALUES (1, 'kjfsdojk(*@#(23o', TIMESTAMPTZ '2024-05-13T13:40:39.905467Z', 1);
2024-05-06 16:40:40.357 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 16:40:40.358 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 16:40:40.359 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-05-06 16:40:40.360 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Report_UserId" ON "Report" ("UserId");
2024-05-06 16:40:40.366 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Report_UserId" ON "Report" ("UserId");
2024-05-06 16:40:40.368 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 16:40:40.368 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 16:40:40.369 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-05-06 16:40:40.370 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_UserToken_UserId" ON "UserToken" ("UserId");
2024-05-06 16:40:40.376 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_UserToken_UserId" ON "UserToken" ("UserId");
2024-05-06 16:40:40.379 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 16:40:40.379 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 16:40:40.380 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-05-06 16:40:40.382 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT setval(
    pg_get_serial_sequence('"User"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "User") + 1,
        nextval(pg_get_serial_sequence('"User"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"Report"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "Report") + 1,
        nextval(pg_get_serial_sequence('"Report"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"UserToken"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "UserToken") + 1,
        nextval(pg_get_serial_sequence('"UserToken"', 'Id'))),
    false);
2024-05-06 16:40:40.400 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT setval(
    pg_get_serial_sequence('"User"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "User") + 1,
        nextval(pg_get_serial_sequence('"User"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"Report"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "Report") + 1,
        nextval(pg_get_serial_sequence('"Report"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"UserToken"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "UserToken") + 1,
        nextval(pg_get_serial_sequence('"UserToken"', 'Id'))),
    false);
2024-05-06 16:40:40.404 +03:00 [DBG] Committing transaction.
2024-05-06 16:40:40.411 +03:00 [DBG] Committed transaction.
2024-05-06 16:40:40.414 +03:00 [DBG] Disposing transaction.
2024-05-06 16:40:40.415 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:40:40.418 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (3ms).
2024-05-06 16:40:40.554 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-06 16:40:40.558 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' ...
2024-05-06 16:40:40.562 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' using the name '' in request data ...
2024-05-06 16:40:40.564 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-06 16:40:40.575 +03:00 [DBG] Connection id "0HN3DQ7C9IAQ7", Request id "0HN3DQ7C9IAQ7:00000005": started reading request body.
2024-05-06 16:40:40.576 +03:00 [DBG] Connection id "0HN3DQ7C9IAQ7", Request id "0HN3DQ7C9IAQ7:00000005": done reading request body.
2024-05-06 16:40:40.584 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.UserDto.LoginUserDto'
2024-05-06 16:40:40.586 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 16:40:40.587 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 16:40:40.588 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' ...
2024-05-06 16:40:40.594 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 16:40:40.602 +03:00 [INF] Executing action method Diary.Api.Controllers.AuthController.Login (Diary.Api) - Validation state: "Valid"
2024-05-06 16:40:40.679 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(x => x.Login == __dto_Login_0)'
2024-05-06 16:40:40.913 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedAt (DateTime) Required, 1], [Property: User.CreatedBy (long) Required, 2], [Property: User.Login (string) Required MaxLength(100), 3], [Property: User.Password (string) Required, 4], [Property: User.UpdatedAt (DateTime?), 5], [Property: User.UpdatedBy (long?), 6] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.CreatedBy, u.Login, u.Password, u.UpdatedAt, u.UpdatedBy
            FROM User AS u
            WHERE u.Login == @__dto_Login_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-06 16:40:40.956 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:40:40.960 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:40:40.961 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-06 16:40:40.962 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-06 16:40:40.970 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-05-06 16:40:40.974 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Login" = @__dto_Login_0
LIMIT 1
2024-05-06 16:40:41.053 +03:00 [INF] Executed DbCommand (82ms) [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Login" = @__dto_Login_0
LIMIT 1
2024-05-06 16:40:41.102 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-06 16:40:41.143 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:40:41.147 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 90ms reading results.
2024-05-06 16:40:41.152 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:40:41.154 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (1ms).
2024-05-06 16:40:41.163 +03:00 [INF] Executed action method Diary.Api.Controllers.AuthController.Login (Diary.Api), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 556.5483ms.
2024-05-06 16:40:41.172 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-06 16:40:41.177 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-06 16:40:41.179 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-06 16:40:41.180 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-06 16:40:41.181 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-06 16:40:41.182 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-06 16:40:41.184 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.TokenDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-06 16:40:41.196 +03:00 [INF] Executed action Diary.Api.Controllers.AuthController.Login (Diary.Api) in 3062.4244ms
2024-05-06 16:40:41.199 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)'
2024-05-06 16:40:41.204 +03:00 [DBG] Connection id "0HN3DQ7C9IAQ7" completed keep alive response.
2024-05-06 16:40:41.210 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-06 16:40:41.216 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:40:41.219 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-06 16:40:41.221 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5268/register - 400 null application/json; charset=utf-8 3133.8627ms
2024-05-06 16:41:01.107 +03:00 [INF] Application is shutting down...
2024-05-06 16:41:01.109 +03:00 [DBG] Hosting stopping
2024-05-06 16:41:01.115 +03:00 [DBG] Connection id "0HN3DQ7C9IAQ7" disconnecting.
2024-05-06 16:41:01.117 +03:00 [DBG] Connection id "0HN3DQ7C9IAQ7" stopped.
2024-05-06 16:41:01.118 +03:00 [DBG] Connection id "0HN3DQ7C9IAQ7" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-06 16:41:01.124 +03:00 [DBG] Hosting stopped
2024-05-06 16:41:31.265 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-06 16:41:31.357 +03:00 [DBG] Hosting starting
2024-05-06 16:41:31.373 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-06 16:41:31.386 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-06 16:41:31.391 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-06 16:41:31.392 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-06 16:41:31.398 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-06 16:41:31.401 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-06 16:41:31.403 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-06 16:41:31.410 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-06 16:41:31.414 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 16:41:31.418 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-06 16:41:31.420 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 16:41:31.425 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-06 16:41:31.428 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-06 16:41:31.430 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-06 16:41:31.432 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-06 16:41:31.493 +03:00 [INF] Now listening on: http://localhost:5268
2024-05-06 16:41:31.494 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-06 16:41:31.495 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-06 16:41:31.495 +03:00 [INF] Hosting environment: Development
2024-05-06 16:41:31.496 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-06 16:41:31.497 +03:00 [DBG] Hosting started
2024-05-06 16:41:31.527 +03:00 [DBG] Connection id "0HN3DQ8UHEVE2" received FIN.
2024-05-06 16:41:31.533 +03:00 [DBG] Connection id "0HN3DQ8UHEVE2" accepted.
2024-05-06 16:41:31.535 +03:00 [DBG] Connection id "0HN3DQ8UHEVE2" started.
2024-05-06 16:41:31.542 +03:00 [DBG] Connection id "0HN3DQ8UHEVE2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-06 16:41:31.546 +03:00 [DBG] Connection id "0HN3DQ8UHEVE2" disconnecting.
2024-05-06 16:41:31.549 +03:00 [DBG] Connection id "0HN3DQ8UHEVE2" stopped.
2024-05-06 16:41:31.741 +03:00 [DBG] Connection id "0HN3DQ8UHEVE3" accepted.
2024-05-06 16:41:31.743 +03:00 [DBG] Connection id "0HN3DQ8UHEVE3" started.
2024-05-06 16:41:31.743 +03:00 [DBG] Connection id "0HN3DQ8UHEVE4" accepted.
2024-05-06 16:41:31.748 +03:00 [DBG] Connection id "0HN3DQ8UHEVE4" started.
2024-05-06 16:41:31.801 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/swagger/index.html - null null
2024-05-06 16:41:31.805 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-06 16:41:31.848 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-06 16:41:31.850 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:41:31.886 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:41:31.920 +03:00 [DBG] The request path /swagger/index.html does not match an existing file
2024-05-06 16:41:31.922 +03:00 [WRN] Failed to determine the https port for redirect.
2024-05-06 16:41:31.925 +03:00 [DBG] Connection id "0HN3DQ8UHEVE3" completed keep alive response.
2024-05-06 16:41:31.927 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/swagger/index.html - 404 0 null 131.0555ms
2024-05-06 16:41:31.932 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5268/swagger/index.html, Response status code: 404
2024-05-06 16:41:35.085 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/index.html - null null
2024-05-06 16:41:35.089 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-06 16:41:35.090 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:41:35.092 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:41:35.169 +03:00 [DBG] Connection id "0HN3DQ8UHEVE3" completed keep alive response.
2024-05-06 16:41:35.170 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/index.html - 200 null text/html;charset=utf-8 84.9999ms
2024-05-06 16:41:35.509 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/swagger/v1/swagger.json - null null
2024-05-06 16:41:35.511 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-06 16:41:35.512 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:41:35.515 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:41:35.673 +03:00 [DBG] Connection id "0HN3DQ8UHEVE3" completed keep alive response.
2024-05-06 16:41:35.674 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 165.1542ms
2024-05-06 16:41:55.181 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5268/register - application/json 85
2024-05-06 16:41:55.187 +03:00 [DBG] 1 candidate(s) found for the request path '/register'
2024-05-06 16:41:55.193 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.AuthController.Register (Diary.Api)' with route pattern 'register' is valid for the request path '/register'
2024-05-06 16:41:55.195 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.AuthController.Register (Diary.Api)'
2024-05-06 16:41:55.197 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:41:55.199 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-06 16:41:55.200 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.AuthController.Register (Diary.Api)'
2024-05-06 16:41:55.224 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult]] Register(Diary.Domain.Dto.UserDto.RegisterUserDto) on controller Diary.Api.Controllers.AuthController (Diary.Api).
2024-05-06 16:41:55.227 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-06 16:41:55.228 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-06 16:41:55.229 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-06 16:41:55.231 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-06 16:41:55.232 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-06 16:41:55.235 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-06 16:41:55.356 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-06 16:41:56.436 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-06 16:41:56.453 +03:00 [DBG] Creating DbConnection.
2024-05-06 16:41:56.496 +03:00 [DBG] Created DbConnection. (40ms).
2024-05-06 16:41:56.505 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:41:56.627 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:41:56.635 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:41:56.648 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (7ms).
2024-05-06 16:41:56.661 +03:00 [DBG] Creating DbConnection.
2024-05-06 16:41:56.663 +03:00 [DBG] Created DbConnection. (1ms).
2024-05-06 16:41:56.664 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 16:41:56.682 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 16:41:56.690 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 16:41:56.699 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (6ms).
2024-05-06 16:41:56.702 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (13ms).
2024-05-06 16:41:56.711 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "Diary" WITH (FORCE);
2024-05-06 16:41:56.783 +03:00 [INF] Executed DbCommand (73ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "Diary" WITH (FORCE);
2024-05-06 16:41:56.787 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 16:41:56.788 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5438' (1ms).
2024-05-06 16:41:56.792 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 16:41:56.794 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5438' (2ms).
2024-05-06 16:41:56.796 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:41:56.817 +03:00 [DBG] An error occurred using the connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:41:56.861 +03:00 [DBG] Creating DbConnection.
2024-05-06 16:41:56.862 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-06 16:41:56.863 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 16:41:56.872 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 16:41:56.874 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 16:41:56.874 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 16:41:56.875 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-05-06 16:41:56.876 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "Diary";
2024-05-06 16:41:56.947 +03:00 [INF] Executed DbCommand (71ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "Diary";
2024-05-06 16:41:56.948 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 16:41:56.949 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5438' (0ms).
2024-05-06 16:41:56.952 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 16:41:56.953 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5438' (1ms).
2024-05-06 16:41:56.954 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:41:56.967 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:41:56.968 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:41:56.969 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (1ms).
2024-05-06 16:41:57.144 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:41:57.169 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:41:57.172 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-06 16:41:57.179 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-06 16:41:57.182 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 16:41:57.183 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-05-06 16:41:57.184 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-05-06 16:41:57.185 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "User" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Login" character varying(100) NOT NULL,
    "Password" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_User" PRIMARY KEY ("Id")
);
2024-05-06 16:41:57.197 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "User" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Login" character varying(100) NOT NULL,
    "Password" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_User" PRIMARY KEY ("Id")
);
2024-05-06 16:41:57.200 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 16:41:57.201 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-05-06 16:41:57.202 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-05-06 16:41:57.203 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Report" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(100) NOT NULL,
    "Description" character varying(2000) NOT NULL,
    "UserId" bigint NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_Report" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Report_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-06 16:41:57.233 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Report" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(100) NOT NULL,
    "Description" character varying(2000) NOT NULL,
    "UserId" bigint NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_Report" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Report_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-06 16:41:57.235 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 16:41:57.236 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-05-06 16:41:57.238 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-05-06 16:41:57.239 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserToken" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "RefreshToken" text NOT NULL,
    "RefreshTokenExpiryTime" timestamp with time zone NOT NULL,
    "UserId" bigint NOT NULL,
    CONSTRAINT "PK_UserToken" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_UserToken_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-06 16:41:57.249 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserToken" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "RefreshToken" text NOT NULL,
    "RefreshTokenExpiryTime" timestamp with time zone NOT NULL,
    "UserId" bigint NOT NULL,
    CONSTRAINT "PK_UserToken" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_UserToken_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-06 16:41:57.251 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 16:41:57.252 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 16:41:57.253 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-05-06 16:41:57.254 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "User" ("Id", "CreatedAt", "CreatedBy", "Login", "Password", "UpdatedAt", "UpdatedBy")
VALUES (1, TIMESTAMPTZ '2024-05-06T13:41:56.832393Z', 0, 'svyatmtk', 'password', NULL, NULL);
2024-05-06 16:41:57.257 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "User" ("Id", "CreatedAt", "CreatedBy", "Login", "Password", "UpdatedAt", "UpdatedBy")
VALUES (1, TIMESTAMPTZ '2024-05-06T13:41:56.832393Z', 0, 'svyatmtk', 'password', NULL, NULL);
2024-05-06 16:41:57.259 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 16:41:57.260 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 16:41:57.261 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-05-06 16:41:57.262 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("Id", "CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (1, TIMESTAMPTZ '2024-05-06T13:41:56.831863Z', 0, 'First rep description', 'First repository', NULL, NULL, 1);
2024-05-06 16:41:57.266 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("Id", "CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (1, TIMESTAMPTZ '2024-05-06T13:41:56.831863Z', 0, 'First rep description', 'First repository', NULL, NULL, 1);
2024-05-06 16:41:57.268 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 16:41:57.269 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 16:41:57.270 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-05-06 16:41:57.271 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserToken" ("Id", "RefreshToken", "RefreshTokenExpiryTime", "UserId")
VALUES (1, 'kjfsdojk(*@#(23o', TIMESTAMPTZ '2024-05-13T13:41:56.832654Z', 1);
2024-05-06 16:41:57.275 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserToken" ("Id", "RefreshToken", "RefreshTokenExpiryTime", "UserId")
VALUES (1, 'kjfsdojk(*@#(23o', TIMESTAMPTZ '2024-05-13T13:41:56.832654Z', 1);
2024-05-06 16:41:57.277 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 16:41:57.278 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-05-06 16:41:57.279 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-05-06 16:41:57.280 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Report_UserId" ON "Report" ("UserId");
2024-05-06 16:41:57.287 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Report_UserId" ON "Report" ("UserId");
2024-05-06 16:41:57.289 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 16:41:57.290 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-05-06 16:41:57.291 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-05-06 16:41:57.292 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_UserToken_UserId" ON "UserToken" ("UserId");
2024-05-06 16:41:57.299 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_UserToken_UserId" ON "UserToken" ("UserId");
2024-05-06 16:41:57.301 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 16:41:57.302 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-05-06 16:41:57.303 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-05-06 16:41:57.305 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT setval(
    pg_get_serial_sequence('"User"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "User") + 1,
        nextval(pg_get_serial_sequence('"User"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"Report"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "Report") + 1,
        nextval(pg_get_serial_sequence('"Report"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"UserToken"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "UserToken") + 1,
        nextval(pg_get_serial_sequence('"UserToken"', 'Id'))),
    false);
2024-05-06 16:41:57.319 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT setval(
    pg_get_serial_sequence('"User"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "User") + 1,
        nextval(pg_get_serial_sequence('"User"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"Report"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "Report") + 1,
        nextval(pg_get_serial_sequence('"Report"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"UserToken"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "UserToken") + 1,
        nextval(pg_get_serial_sequence('"UserToken"', 'Id'))),
    false);
2024-05-06 16:41:57.323 +03:00 [DBG] Committing transaction.
2024-05-06 16:41:57.331 +03:00 [DBG] Committed transaction.
2024-05-06 16:41:57.335 +03:00 [DBG] Disposing transaction.
2024-05-06 16:41:57.336 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:41:57.339 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (3ms).
2024-05-06 16:41:57.470 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-06 16:41:57.475 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.RegisterUserDto' ...
2024-05-06 16:41:57.478 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.RegisterUserDto' using the name '' in request data ...
2024-05-06 16:41:57.480 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-06 16:41:57.489 +03:00 [DBG] Connection id "0HN3DQ8UHEVE3", Request id "0HN3DQ8UHEVE3:00000004": started reading request body.
2024-05-06 16:41:57.490 +03:00 [DBG] Connection id "0HN3DQ8UHEVE3", Request id "0HN3DQ8UHEVE3:00000004": done reading request body.
2024-05-06 16:41:57.497 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.UserDto.RegisterUserDto'
2024-05-06 16:41:57.499 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.RegisterUserDto'.
2024-05-06 16:41:57.499 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.RegisterUserDto'.
2024-05-06 16:41:57.501 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.RegisterUserDto' ...
2024-05-06 16:41:57.505 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.RegisterUserDto'.
2024-05-06 16:41:57.513 +03:00 [INF] Executing action method Diary.Api.Controllers.AuthController.Register (Diary.Api) - Validation state: "Valid"
2024-05-06 16:41:57.593 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(x => x.Login == __dto_Login_0)'
2024-05-06 16:41:57.819 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedAt (DateTime) Required, 1], [Property: User.CreatedBy (long) Required, 2], [Property: User.Login (string) Required MaxLength(100), 3], [Property: User.Password (string) Required, 4], [Property: User.UpdatedAt (DateTime?), 5], [Property: User.UpdatedBy (long?), 6] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.CreatedBy, u.Login, u.Password, u.UpdatedAt, u.UpdatedBy
            FROM User AS u
            WHERE u.Login == @__dto_Login_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-06 16:41:57.864 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:41:57.867 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:41:57.869 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-06 16:41:57.869 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-06 16:41:57.878 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-05-06 16:41:57.882 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Login" = @__dto_Login_0
LIMIT 1
2024-05-06 16:41:57.960 +03:00 [INF] Executed DbCommand (81ms) [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Login" = @__dto_Login_0
LIMIT 1
2024-05-06 16:41:57.971 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:41:57.976 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 11ms reading results.
2024-05-06 16:41:57.983 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:41:57.985 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (1ms).
2024-05-06 16:41:58.030 +03:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'User.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-06 16:41:58.095 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-06 16:41:58.101 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-05-06 16:41:58.107 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-06 16:41:58.128 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-06 16:41:58.140 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-06 16:41:58.141 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-06 16:41:58.179 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:41:58.181 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:41:58.184 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-06 16:41:58.185 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-06 16:41:58.186 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-06 16:41:58.188 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "User" ("CreatedAt", "CreatedBy", "Login", "Password", "UpdatedAt", "UpdatedBy")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2024-05-06 16:41:58.208 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "User" ("CreatedAt", "CreatedBy", "Login", "Password", "UpdatedAt", "UpdatedBy")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2024-05-06 16:41:58.227 +03:00 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-06 16:41:58.233 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:41:58.234 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 24ms reading results.
2024-05-06 16:41:58.237 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:41:58.238 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (1ms).
2024-05-06 16:41:58.252 +03:00 [DBG] An entity of type 'User' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-06 16:41:58.257 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-05-06 16:41:58.275 +03:00 [INF] Executed action method Diary.Api.Controllers.AuthController.Register (Diary.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 755.3356ms.
2024-05-06 16:41:58.284 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-06 16:41:58.293 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-06 16:41:58.299 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-06 16:41:58.301 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-06 16:41:58.302 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-06 16:41:58.304 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-06 16:41:58.305 +03:00 [INF] Executing OkObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.UserDto.UserDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-06 16:41:58.318 +03:00 [INF] Executed action Diary.Api.Controllers.AuthController.Register (Diary.Api) in 3079.2995ms
2024-05-06 16:41:58.320 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.AuthController.Register (Diary.Api)'
2024-05-06 16:41:58.325 +03:00 [DBG] Connection id "0HN3DQ8UHEVE3" completed keep alive response.
2024-05-06 16:41:58.330 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-06 16:41:58.336 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:41:58.339 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-06 16:41:58.341 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5268/register - 200 null application/json; charset=utf-8 3160.3424ms
2024-05-06 16:42:32.058 +03:00 [DBG] Connection id "0HN3DQ8UHEVE4" received FIN.
2024-05-06 16:42:32.059 +03:00 [DBG] Connection id "0HN3DQ8UHEVE4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-06 16:42:32.060 +03:00 [DBG] Connection id "0HN3DQ8UHEVE4" disconnecting.
2024-05-06 16:42:32.062 +03:00 [DBG] Connection id "0HN3DQ8UHEVE4" stopped.
2024-05-06 16:43:08.223 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5268/login - application/json 52
2024-05-06 16:43:08.225 +03:00 [DBG] 1 candidate(s) found for the request path '/login'
2024-05-06 16:43:08.226 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)' with route pattern 'login' is valid for the request path '/login'
2024-05-06 16:43:08.228 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)'
2024-05-06 16:43:08.229 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:43:08.230 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-06 16:43:08.231 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)'
2024-05-06 16:43:08.237 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.TokenDto]]] Login(Diary.Domain.Dto.UserDto.LoginUserDto) on controller Diary.Api.Controllers.AuthController (Diary.Api).
2024-05-06 16:43:08.238 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-06 16:43:08.240 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-06 16:43:08.241 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-06 16:43:08.243 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-06 16:43:08.245 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-06 16:43:08.246 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-06 16:43:08.272 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-06 16:43:08.277 +03:00 [DBG] Creating DbConnection.
2024-05-06 16:43:08.278 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-06 16:43:08.279 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:43:08.291 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:43:08.292 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:43:08.293 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (1ms).
2024-05-06 16:43:08.296 +03:00 [DBG] Creating DbConnection.
2024-05-06 16:43:08.297 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-06 16:43:08.298 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 16:43:08.307 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 16:43:08.308 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 16:43:08.309 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 16:43:08.310 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-05-06 16:43:08.312 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "Diary" WITH (FORCE);
2024-05-06 16:43:08.444 +03:00 [INF] Executed DbCommand (132ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "Diary" WITH (FORCE);
2024-05-06 16:43:08.446 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 16:43:08.447 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5438' (1ms).
2024-05-06 16:43:08.449 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 16:43:08.450 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5438' (1ms).
2024-05-06 16:43:08.452 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:43:08.462 +03:00 [DBG] An error occurred using the connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:43:08.464 +03:00 [DBG] Creating DbConnection.
2024-05-06 16:43:08.465 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-06 16:43:08.466 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 16:43:08.475 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 16:43:08.476 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 16:43:08.477 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 16:43:08.478 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-05-06 16:43:08.480 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "Diary";
2024-05-06 16:43:08.549 +03:00 [INF] Executed DbCommand (69ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "Diary";
2024-05-06 16:43:08.551 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 16:43:08.552 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5438' (1ms).
2024-05-06 16:43:08.554 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 16:43:08.556 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5438' (1ms).
2024-05-06 16:43:08.557 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:43:08.570 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:43:08.572 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:43:08.574 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (1ms).
2024-05-06 16:43:08.585 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:43:08.594 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:43:08.596 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-06 16:43:08.597 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-06 16:43:08.599 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 16:43:08.600 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 16:43:08.601 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-05-06 16:43:08.602 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "User" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Login" character varying(100) NOT NULL,
    "Password" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_User" PRIMARY KEY ("Id")
);
2024-05-06 16:43:08.615 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "User" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Login" character varying(100) NOT NULL,
    "Password" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_User" PRIMARY KEY ("Id")
);
2024-05-06 16:43:08.617 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 16:43:08.618 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 16:43:08.620 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-05-06 16:43:08.621 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Report" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(100) NOT NULL,
    "Description" character varying(2000) NOT NULL,
    "UserId" bigint NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_Report" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Report_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-06 16:43:08.633 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Report" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(100) NOT NULL,
    "Description" character varying(2000) NOT NULL,
    "UserId" bigint NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_Report" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Report_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-06 16:43:08.636 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 16:43:08.637 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 16:43:08.638 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-05-06 16:43:08.640 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserToken" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "RefreshToken" text NOT NULL,
    "RefreshTokenExpiryTime" timestamp with time zone NOT NULL,
    "UserId" bigint NOT NULL,
    CONSTRAINT "PK_UserToken" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_UserToken_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-06 16:43:08.652 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserToken" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "RefreshToken" text NOT NULL,
    "RefreshTokenExpiryTime" timestamp with time zone NOT NULL,
    "UserId" bigint NOT NULL,
    CONSTRAINT "PK_UserToken" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_UserToken_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-06 16:43:08.654 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 16:43:08.655 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 16:43:08.657 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-05-06 16:43:08.658 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "User" ("Id", "CreatedAt", "CreatedBy", "Login", "Password", "UpdatedAt", "UpdatedBy")
VALUES (1, TIMESTAMPTZ '2024-05-06T13:41:56.832393Z', 0, 'svyatmtk', 'password', NULL, NULL);
2024-05-06 16:43:08.662 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "User" ("Id", "CreatedAt", "CreatedBy", "Login", "Password", "UpdatedAt", "UpdatedBy")
VALUES (1, TIMESTAMPTZ '2024-05-06T13:41:56.832393Z', 0, 'svyatmtk', 'password', NULL, NULL);
2024-05-06 16:43:08.664 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 16:43:08.665 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-05-06 16:43:08.666 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-05-06 16:43:08.667 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("Id", "CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (1, TIMESTAMPTZ '2024-05-06T13:41:56.831863Z', 0, 'First rep description', 'First repository', NULL, NULL, 1);
2024-05-06 16:43:08.671 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("Id", "CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (1, TIMESTAMPTZ '2024-05-06T13:41:56.831863Z', 0, 'First rep description', 'First repository', NULL, NULL, 1);
2024-05-06 16:43:08.673 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 16:43:08.674 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-05-06 16:43:08.676 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-05-06 16:43:08.677 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserToken" ("Id", "RefreshToken", "RefreshTokenExpiryTime", "UserId")
VALUES (1, 'kjfsdojk(*@#(23o', TIMESTAMPTZ '2024-05-13T13:41:56.832654Z', 1);
2024-05-06 16:43:08.681 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserToken" ("Id", "RefreshToken", "RefreshTokenExpiryTime", "UserId")
VALUES (1, 'kjfsdojk(*@#(23o', TIMESTAMPTZ '2024-05-13T13:41:56.832654Z', 1);
2024-05-06 16:43:08.683 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 16:43:08.684 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 16:43:08.685 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-05-06 16:43:08.686 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Report_UserId" ON "Report" ("UserId");
2024-05-06 16:43:08.694 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Report_UserId" ON "Report" ("UserId");
2024-05-06 16:43:08.696 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 16:43:08.697 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-05-06 16:43:08.698 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-05-06 16:43:08.700 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_UserToken_UserId" ON "UserToken" ("UserId");
2024-05-06 16:43:08.707 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_UserToken_UserId" ON "UserToken" ("UserId");
2024-05-06 16:43:08.708 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 16:43:08.709 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 16:43:08.710 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-05-06 16:43:08.711 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT setval(
    pg_get_serial_sequence('"User"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "User") + 1,
        nextval(pg_get_serial_sequence('"User"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"Report"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "Report") + 1,
        nextval(pg_get_serial_sequence('"Report"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"UserToken"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "UserToken") + 1,
        nextval(pg_get_serial_sequence('"UserToken"', 'Id'))),
    false);
2024-05-06 16:43:08.716 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT setval(
    pg_get_serial_sequence('"User"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "User") + 1,
        nextval(pg_get_serial_sequence('"User"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"Report"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "Report") + 1,
        nextval(pg_get_serial_sequence('"Report"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"UserToken"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "UserToken") + 1,
        nextval(pg_get_serial_sequence('"UserToken"', 'Id'))),
    false);
2024-05-06 16:43:08.718 +03:00 [DBG] Committing transaction.
2024-05-06 16:43:08.722 +03:00 [DBG] Committed transaction.
2024-05-06 16:43:08.722 +03:00 [DBG] Disposing transaction.
2024-05-06 16:43:08.723 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:43:08.724 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (1ms).
2024-05-06 16:43:08.727 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-06 16:43:08.728 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' ...
2024-05-06 16:43:08.730 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' using the name '' in request data ...
2024-05-06 16:43:08.731 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-06 16:43:08.733 +03:00 [DBG] Connection id "0HN3DQ8UHEVE3", Request id "0HN3DQ8UHEVE3:00000005": started reading request body.
2024-05-06 16:43:08.734 +03:00 [DBG] Connection id "0HN3DQ8UHEVE3", Request id "0HN3DQ8UHEVE3:00000005": done reading request body.
2024-05-06 16:43:08.736 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.UserDto.LoginUserDto'
2024-05-06 16:43:08.737 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 16:43:08.738 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 16:43:08.739 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' ...
2024-05-06 16:43:08.741 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 16:43:08.742 +03:00 [INF] Executing action method Diary.Api.Controllers.AuthController.Login (Diary.Api) - Validation state: "Valid"
2024-05-06 16:43:08.750 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:43:08.751 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:43:08.752 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-06 16:43:08.753 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-06 16:43:08.754 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-06 16:43:08.755 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Login" = @__dto_Login_0
LIMIT 1
2024-05-06 16:43:08.759 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Login" = @__dto_Login_0
LIMIT 1
2024-05-06 16:43:08.761 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:43:08.762 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 1ms reading results.
2024-05-06 16:43:08.763 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:43:08.764 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 16:43:08.767 +03:00 [INF] Executed action method Diary.Api.Controllers.AuthController.Login (Diary.Api), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 23.4426ms.
2024-05-06 16:43:08.768 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-06 16:43:08.770 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-06 16:43:08.772 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-06 16:43:08.773 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-06 16:43:08.774 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-06 16:43:08.774 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-06 16:43:08.775 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.TokenDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-06 16:43:08.779 +03:00 [INF] Executed action Diary.Api.Controllers.AuthController.Login (Diary.Api) in 533.2473ms
2024-05-06 16:43:08.781 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)'
2024-05-06 16:43:08.781 +03:00 [DBG] Connection id "0HN3DQ8UHEVE3" completed keep alive response.
2024-05-06 16:43:08.782 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-06 16:43:08.783 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:43:08.784 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (1ms).
2024-05-06 16:43:08.786 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5268/login - 400 null application/json; charset=utf-8 563.0038ms
2024-05-06 16:43:23.300 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5268/login - application/json 52
2024-05-06 16:43:23.302 +03:00 [DBG] 1 candidate(s) found for the request path '/login'
2024-05-06 16:43:23.304 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)' with route pattern 'login' is valid for the request path '/login'
2024-05-06 16:43:23.305 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)'
2024-05-06 16:43:23.306 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:43:23.307 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-06 16:43:23.308 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)'
2024-05-06 16:43:23.309 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.TokenDto]]] Login(Diary.Domain.Dto.UserDto.LoginUserDto) on controller Diary.Api.Controllers.AuthController (Diary.Api).
2024-05-06 16:43:23.312 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-06 16:43:23.313 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-06 16:43:23.315 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-06 16:43:23.318 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-06 16:43:23.319 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-06 16:43:23.321 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-06 16:43:23.373 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-06 16:43:23.382 +03:00 [DBG] Creating DbConnection.
2024-05-06 16:43:23.384 +03:00 [DBG] Created DbConnection. (1ms).
2024-05-06 16:43:23.385 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:43:23.394 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:43:23.396 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:43:23.397 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (1ms).
2024-05-06 16:43:23.399 +03:00 [DBG] Creating DbConnection.
2024-05-06 16:43:23.400 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-06 16:43:23.401 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 16:43:23.410 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 16:43:23.411 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 16:43:23.412 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 16:43:23.413 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-05-06 16:43:23.415 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "Diary" WITH (FORCE);
2024-05-06 16:43:23.443 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "Diary" WITH (FORCE);
2024-05-06 16:43:23.446 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 16:43:23.447 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5438' (1ms).
2024-05-06 16:43:23.448 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 16:43:23.450 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5438' (1ms).
2024-05-06 16:43:23.451 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:43:23.460 +03:00 [DBG] An error occurred using the connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:43:23.461 +03:00 [DBG] Creating DbConnection.
2024-05-06 16:43:23.462 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-06 16:43:23.463 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 16:43:23.472 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 16:43:23.473 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 16:43:23.474 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 16:43:23.475 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-05-06 16:43:23.476 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "Diary";
2024-05-06 16:43:23.530 +03:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "Diary";
2024-05-06 16:43:23.532 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 16:43:23.534 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5438' (1ms).
2024-05-06 16:43:23.536 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 16:43:23.537 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5438' (0ms).
2024-05-06 16:43:23.539 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:43:23.551 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:43:23.553 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:43:23.555 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (1ms).
2024-05-06 16:43:23.565 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:43:23.577 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:43:23.578 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-06 16:43:23.580 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-06 16:43:23.580 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 16:43:23.581 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 16:43:23.583 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-05-06 16:43:23.584 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "User" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Login" character varying(100) NOT NULL,
    "Password" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_User" PRIMARY KEY ("Id")
);
2024-05-06 16:43:23.598 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "User" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Login" character varying(100) NOT NULL,
    "Password" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_User" PRIMARY KEY ("Id")
);
2024-05-06 16:43:23.600 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 16:43:23.601 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 16:43:23.602 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-05-06 16:43:23.602 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Report" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(100) NOT NULL,
    "Description" character varying(2000) NOT NULL,
    "UserId" bigint NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_Report" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Report_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-06 16:43:23.613 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Report" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(100) NOT NULL,
    "Description" character varying(2000) NOT NULL,
    "UserId" bigint NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_Report" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Report_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-06 16:43:23.616 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 16:43:23.617 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 16:43:23.618 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-05-06 16:43:23.619 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserToken" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "RefreshToken" text NOT NULL,
    "RefreshTokenExpiryTime" timestamp with time zone NOT NULL,
    "UserId" bigint NOT NULL,
    CONSTRAINT "PK_UserToken" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_UserToken_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-06 16:43:23.631 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserToken" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "RefreshToken" text NOT NULL,
    "RefreshTokenExpiryTime" timestamp with time zone NOT NULL,
    "UserId" bigint NOT NULL,
    CONSTRAINT "PK_UserToken" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_UserToken_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-06 16:43:23.633 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 16:43:23.634 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-05-06 16:43:23.636 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-05-06 16:43:23.637 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "User" ("Id", "CreatedAt", "CreatedBy", "Login", "Password", "UpdatedAt", "UpdatedBy")
VALUES (1, TIMESTAMPTZ '2024-05-06T13:41:56.832393Z', 0, 'svyatmtk', 'password', NULL, NULL);
2024-05-06 16:43:23.640 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "User" ("Id", "CreatedAt", "CreatedBy", "Login", "Password", "UpdatedAt", "UpdatedBy")
VALUES (1, TIMESTAMPTZ '2024-05-06T13:41:56.832393Z', 0, 'svyatmtk', 'password', NULL, NULL);
2024-05-06 16:43:23.642 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 16:43:23.643 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 16:43:23.644 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-05-06 16:43:23.645 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("Id", "CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (1, TIMESTAMPTZ '2024-05-06T13:41:56.831863Z', 0, 'First rep description', 'First repository', NULL, NULL, 1);
2024-05-06 16:43:23.648 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("Id", "CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (1, TIMESTAMPTZ '2024-05-06T13:41:56.831863Z', 0, 'First rep description', 'First repository', NULL, NULL, 1);
2024-05-06 16:43:23.650 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 16:43:23.651 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-05-06 16:43:23.653 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-05-06 16:43:23.654 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserToken" ("Id", "RefreshToken", "RefreshTokenExpiryTime", "UserId")
VALUES (1, 'kjfsdojk(*@#(23o', TIMESTAMPTZ '2024-05-13T13:41:56.832654Z', 1);
2024-05-06 16:43:23.657 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserToken" ("Id", "RefreshToken", "RefreshTokenExpiryTime", "UserId")
VALUES (1, 'kjfsdojk(*@#(23o', TIMESTAMPTZ '2024-05-13T13:41:56.832654Z', 1);
2024-05-06 16:43:23.659 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 16:43:23.660 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 16:43:23.661 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-05-06 16:43:23.663 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Report_UserId" ON "Report" ("UserId");
2024-05-06 16:43:23.669 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Report_UserId" ON "Report" ("UserId");
2024-05-06 16:43:23.671 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 16:43:23.672 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 16:43:23.673 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-05-06 16:43:23.674 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_UserToken_UserId" ON "UserToken" ("UserId");
2024-05-06 16:43:23.680 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_UserToken_UserId" ON "UserToken" ("UserId");
2024-05-06 16:43:23.682 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 16:43:23.682 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 16:43:23.683 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-05-06 16:43:23.684 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT setval(
    pg_get_serial_sequence('"User"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "User") + 1,
        nextval(pg_get_serial_sequence('"User"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"Report"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "Report") + 1,
        nextval(pg_get_serial_sequence('"Report"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"UserToken"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "UserToken") + 1,
        nextval(pg_get_serial_sequence('"UserToken"', 'Id'))),
    false);
2024-05-06 16:43:23.688 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT setval(
    pg_get_serial_sequence('"User"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "User") + 1,
        nextval(pg_get_serial_sequence('"User"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"Report"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "Report") + 1,
        nextval(pg_get_serial_sequence('"Report"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"UserToken"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "UserToken") + 1,
        nextval(pg_get_serial_sequence('"UserToken"', 'Id'))),
    false);
2024-05-06 16:43:23.690 +03:00 [DBG] Committing transaction.
2024-05-06 16:43:23.693 +03:00 [DBG] Committed transaction.
2024-05-06 16:43:23.694 +03:00 [DBG] Disposing transaction.
2024-05-06 16:43:23.695 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:43:23.696 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (1ms).
2024-05-06 16:43:23.699 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-06 16:43:23.700 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' ...
2024-05-06 16:43:23.702 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' using the name '' in request data ...
2024-05-06 16:43:23.703 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-06 16:43:23.705 +03:00 [DBG] Connection id "0HN3DQ8UHEVE3", Request id "0HN3DQ8UHEVE3:00000006": started reading request body.
2024-05-06 16:43:23.706 +03:00 [DBG] Connection id "0HN3DQ8UHEVE3", Request id "0HN3DQ8UHEVE3:00000006": done reading request body.
2024-05-06 16:43:23.707 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.UserDto.LoginUserDto'
2024-05-06 16:43:23.708 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 16:43:23.709 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 16:43:23.711 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' ...
2024-05-06 16:43:23.712 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 16:43:23.713 +03:00 [INF] Executing action method Diary.Api.Controllers.AuthController.Login (Diary.Api) - Validation state: "Valid"
2024-05-06 16:43:23.716 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:43:23.717 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:43:23.719 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-06 16:43:23.720 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-06 16:43:23.721 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-06 16:43:23.722 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Login" = @__dto_Login_0
LIMIT 1
2024-05-06 16:43:23.726 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Login" = @__dto_Login_0
LIMIT 1
2024-05-06 16:43:23.728 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:43:23.729 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 1ms reading results.
2024-05-06 16:43:23.730 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:43:23.732 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (1ms).
2024-05-06 16:43:23.733 +03:00 [INF] Executed action method Diary.Api.Controllers.AuthController.Login (Diary.Api), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 18.8901ms.
2024-05-06 16:43:23.735 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-06 16:43:23.737 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-06 16:43:23.738 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-06 16:43:23.739 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-06 16:43:23.740 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-06 16:43:23.741 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-06 16:43:23.742 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.TokenDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-06 16:43:23.744 +03:00 [INF] Executed action Diary.Api.Controllers.AuthController.Login (Diary.Api) in 423.4443ms
2024-05-06 16:43:23.745 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)'
2024-05-06 16:43:23.746 +03:00 [DBG] Connection id "0HN3DQ8UHEVE3" completed keep alive response.
2024-05-06 16:43:23.748 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-06 16:43:23.749 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:43:23.751 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (1ms).
2024-05-06 16:43:23.752 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5268/login - 400 null application/json; charset=utf-8 452.2987ms
2024-05-06 16:43:47.414 +03:00 [INF] Application is shutting down...
2024-05-06 16:43:47.415 +03:00 [DBG] Hosting stopping
2024-05-06 16:43:47.421 +03:00 [DBG] Connection id "0HN3DQ8UHEVE3" disconnecting.
2024-05-06 16:43:47.422 +03:00 [DBG] Connection id "0HN3DQ8UHEVE3" stopped.
2024-05-06 16:43:47.423 +03:00 [DBG] Connection id "0HN3DQ8UHEVE3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-06 16:43:47.429 +03:00 [DBG] Hosting stopped
2024-05-06 16:44:10.649 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-06 16:44:10.768 +03:00 [DBG] Hosting starting
2024-05-06 16:44:10.825 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-06 16:44:10.838 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-06 16:44:10.845 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-06 16:44:10.846 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-06 16:44:10.852 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-06 16:44:10.856 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-06 16:44:10.858 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-06 16:44:10.866 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-06 16:44:10.871 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 16:44:10.875 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-06 16:44:10.878 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 16:44:10.884 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-06 16:44:10.886 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-06 16:44:10.889 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-06 16:44:10.891 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-06 16:44:11.029 +03:00 [INF] Now listening on: http://localhost:5268
2024-05-06 16:44:11.030 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-06 16:44:11.031 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-06 16:44:11.032 +03:00 [INF] Hosting environment: Development
2024-05-06 16:44:11.033 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-06 16:44:11.033 +03:00 [DBG] Hosting started
2024-05-06 16:44:11.046 +03:00 [DBG] Connection id "0HN3DQAE2O77T" accepted.
2024-05-06 16:44:11.051 +03:00 [DBG] Connection id "0HN3DQAE2O77T" started.
2024-05-06 16:44:11.054 +03:00 [DBG] Connection id "0HN3DQAE2O77U" accepted.
2024-05-06 16:44:11.055 +03:00 [DBG] Connection id "0HN3DQAE2O77U" started.
2024-05-06 16:44:11.100 +03:00 [DBG] Connection id "0HN3DQAE2O77V" accepted.
2024-05-06 16:44:11.102 +03:00 [DBG] Connection id "0HN3DQAE2O77V" started.
2024-05-06 16:44:11.099 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/index.html - null null
2024-05-06 16:44:11.106 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-06 16:44:11.151 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-06 16:44:11.153 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:44:11.251 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:44:11.377 +03:00 [DBG] Connection id "0HN3DQAE2O77T" completed keep alive response.
2024-05-06 16:44:11.380 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/index.html - 200 null text/html;charset=utf-8 286.7331ms
2024-05-06 16:44:11.623 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/swagger/v1/swagger.json - null null
2024-05-06 16:44:11.626 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-06 16:44:11.627 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:44:11.629 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:44:11.789 +03:00 [DBG] Connection id "0HN3DQAE2O77T" completed keep alive response.
2024-05-06 16:44:11.791 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 168.076ms
2024-05-06 16:46:21.028 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-06 16:46:21.150 +03:00 [DBG] Hosting starting
2024-05-06 16:46:21.200 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-06 16:46:21.233 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-06 16:46:21.238 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-06 16:46:21.239 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-06 16:46:21.243 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-06 16:46:21.246 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-06 16:46:21.246 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-06 16:46:21.253 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-06 16:46:21.256 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 16:46:21.259 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-06 16:46:21.260 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 16:46:21.264 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-06 16:46:21.265 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-06 16:46:21.267 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-06 16:46:21.267 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-06 16:46:21.347 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-06 16:46:21.347 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-06 16:46:21.348 +03:00 [INF] Hosting environment: Development
2024-05-06 16:46:21.348 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-06 16:46:21.348 +03:00 [DBG] Hosting started
2024-05-06 16:46:21.394 +03:00 [DBG] Connection ID "18374686489872171109" disconnecting.
2024-05-06 16:46:21.415 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-06 16:46:21.418 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-06 16:46:21.461 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-06 16:46:21.462 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:46:21.565 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:46:21.602 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-06 16:46:21.605 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 499 null null 197.0421ms
2024-05-06 16:46:21.608 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 499
2024-05-06 16:46:46.240 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-06 16:46:46.241 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-06 16:46:46.241 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:46:46.246 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:46:46.256 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-06 16:46:46.292 +03:00 [DBG] Connection ID "18302628921604046865" disconnecting.
2024-05-06 16:46:46.292 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 404 null null 51.7683ms
2024-05-06 16:46:46.292 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 404
2024-05-06 16:46:49.381 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-06 16:46:49.381 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-06 16:46:49.381 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:46:49.383 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:46:49.470 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 89.0395ms
2024-05-06 16:46:49.470 +03:00 [DBG] Connection ID "18302628891539275814" disconnecting.
2024-05-06 16:46:49.803 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-06 16:46:49.804 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-06 16:46:49.804 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:46:49.805 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:46:49.951 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 147.9255ms
2024-05-06 16:46:49.951 +03:00 [DBG] Connection ID "18302628921604046867" disconnecting.
2024-05-06 16:47:03.677 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/register - application/json 75
2024-05-06 16:47:03.680 +03:00 [DBG] 1 candidate(s) found for the request path '/register'
2024-05-06 16:47:03.684 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.AuthController.Register (Diary.Api)' with route pattern 'register' is valid for the request path '/register'
2024-05-06 16:47:03.685 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.AuthController.Register (Diary.Api)'
2024-05-06 16:47:03.687 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:47:03.687 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-06 16:47:03.688 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.AuthController.Register (Diary.Api)'
2024-05-06 16:47:03.714 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult]] Register(Diary.Domain.Dto.UserDto.RegisterUserDto) on controller Diary.Api.Controllers.AuthController (Diary.Api).
2024-05-06 16:47:03.715 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-06 16:47:03.716 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-06 16:47:03.716 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-06 16:47:03.717 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-06 16:47:03.717 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-06 16:47:03.718 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-06 16:47:03.898 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-06 16:47:04.816 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-06 16:47:04.832 +03:00 [DBG] Creating DbConnection.
2024-05-06 16:47:04.886 +03:00 [DBG] Created DbConnection. (51ms).
2024-05-06 16:47:04.892 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:47:05.014 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:47:05.022 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:47:05.033 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (7ms).
2024-05-06 16:47:05.042 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-06 16:47:05.049 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2024-05-06 16:47:05.051 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (9ms).
2024-05-06 16:47:05.051 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:47:05.073 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:47:05.083 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-06 16:47:05.181 +03:00 [INF] Executed DbCommand (99ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-06 16:47:05.183 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:47:05.186 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-06 16:47:05.308 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-06 16:47:05.312 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.RegisterUserDto' ...
2024-05-06 16:47:05.316 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.RegisterUserDto' using the name '' in request data ...
2024-05-06 16:47:05.318 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-06 16:47:05.331 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.UserDto.RegisterUserDto'
2024-05-06 16:47:05.331 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.RegisterUserDto'.
2024-05-06 16:47:05.332 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.RegisterUserDto'.
2024-05-06 16:47:05.332 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.RegisterUserDto' ...
2024-05-06 16:47:05.336 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.RegisterUserDto'.
2024-05-06 16:47:05.342 +03:00 [INF] Executing action method Diary.Api.Controllers.AuthController.Register (Diary.Api) - Validation state: "Valid"
2024-05-06 16:47:05.437 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(x => x.Login == __dto_Login_0)'
2024-05-06 16:47:05.691 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedAt (DateTime) Required, 1], [Property: User.CreatedBy (long) Required, 2], [Property: User.Login (string) Required MaxLength(100), 3], [Property: User.Password (string) Required, 4], [Property: User.UpdatedAt (DateTime?), 5], [Property: User.UpdatedBy (long?), 6] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.CreatedBy, u.Login, u.Password, u.UpdatedAt, u.UpdatedBy
            FROM User AS u
            WHERE u.Login == @__dto_Login_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-06 16:47:05.732 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:47:05.734 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:47:05.734 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-06 16:47:05.734 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-06 16:47:05.740 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-05-06 16:47:05.743 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Login" = @__dto_Login_0
LIMIT 1
2024-05-06 16:47:05.773 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Login" = @__dto_Login_0
LIMIT 1
2024-05-06 16:47:05.785 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:47:05.787 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 11ms reading results.
2024-05-06 16:47:05.791 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:47:05.792 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 16:47:05.830 +03:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'User.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-06 16:47:05.876 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-06 16:47:05.880 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-05-06 16:47:05.883 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-06 16:47:05.898 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-06 16:47:05.907 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-06 16:47:05.907 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-06 16:47:05.967 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:47:05.968 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:47:05.969 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-06 16:47:05.969 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-06 16:47:05.970 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-06 16:47:05.970 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "User" ("CreatedAt", "CreatedBy", "Login", "Password", "UpdatedAt", "UpdatedBy")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2024-05-06 16:47:05.990 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "User" ("CreatedAt", "CreatedBy", "Login", "Password", "UpdatedAt", "UpdatedBy")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2024-05-06 16:47:06.002 +03:00 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-06 16:47:06.006 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:47:06.006 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 15ms reading results.
2024-05-06 16:47:06.007 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:47:06.007 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 16:47:06.018 +03:00 [DBG] An entity of type 'User' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-06 16:47:06.020 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-05-06 16:47:06.034 +03:00 [INF] Executed action method Diary.Api.Controllers.AuthController.Register (Diary.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 688.8087ms.
2024-05-06 16:47:06.041 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-06 16:47:06.043 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-06 16:47:06.044 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-06 16:47:06.044 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-06 16:47:06.044 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-06 16:47:06.045 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-06 16:47:06.045 +03:00 [INF] Executing OkObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.UserDto.UserDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-06 16:47:06.054 +03:00 [INF] Executed action Diary.Api.Controllers.AuthController.Register (Diary.Api) in 2334.1977ms
2024-05-06 16:47:06.055 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.AuthController.Register (Diary.Api)'
2024-05-06 16:47:06.061 +03:00 [DBG] Connection ID "18302628930193981473" disconnecting.
2024-05-06 16:47:06.063 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-06 16:47:06.067 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:47:06.068 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (1ms).
2024-05-06 16:47:06.069 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44308/register - 200 null application/json; charset=utf-8 2392.0725ms
2024-05-06 16:47:23.662 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/login - application/json 45
2024-05-06 16:47:23.663 +03:00 [DBG] 1 candidate(s) found for the request path '/login'
2024-05-06 16:47:23.663 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)' with route pattern 'login' is valid for the request path '/login'
2024-05-06 16:47:23.663 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)'
2024-05-06 16:47:23.663 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:47:23.664 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-06 16:47:23.664 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)'
2024-05-06 16:47:23.666 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.TokenDto]]] Login(Diary.Domain.Dto.UserDto.LoginUserDto) on controller Diary.Api.Controllers.AuthController (Diary.Api).
2024-05-06 16:47:23.667 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-06 16:47:23.667 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-06 16:47:23.667 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-06 16:47:23.667 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-06 16:47:23.667 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-06 16:47:23.667 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-06 16:47:23.680 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-06 16:47:23.682 +03:00 [DBG] Creating DbConnection.
2024-05-06 16:47:23.682 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-06 16:47:23.682 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:47:23.690 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:47:23.691 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:47:23.691 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 16:47:23.691 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-06 16:47:23.691 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-05-06 16:47:23.691 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-05-06 16:47:23.691 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:47:23.691 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:47:23.691 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-06 16:47:23.694 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-06 16:47:23.695 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:47:23.695 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 16:47:23.695 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-06 16:47:23.696 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' ...
2024-05-06 16:47:23.696 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' using the name '' in request data ...
2024-05-06 16:47:23.696 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-06 16:47:23.697 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.UserDto.LoginUserDto'
2024-05-06 16:47:23.697 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 16:47:23.697 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 16:47:23.697 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' ...
2024-05-06 16:47:23.699 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 16:47:23.699 +03:00 [INF] Executing action method Diary.Api.Controllers.AuthController.Login (Diary.Api) - Validation state: "Valid"
2024-05-06 16:47:29.967 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:47:29.967 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:47:29.967 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-06 16:47:29.968 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-06 16:47:29.968 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-06 16:47:29.968 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Login" = @__dto_Login_0
LIMIT 1
2024-05-06 16:47:29.970 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Login" = @__dto_Login_0
LIMIT 1
2024-05-06 16:47:30.031 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-06 16:47:30.032 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:47:30.032 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 61ms reading results.
2024-05-06 16:47:30.032 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:47:30.032 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 16:48:08.926 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-06 16:48:09.048 +03:00 [DBG] Hosting starting
2024-05-06 16:48:09.099 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-06 16:48:09.111 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-06 16:48:09.117 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-06 16:48:09.118 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-06 16:48:09.123 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-06 16:48:09.128 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-06 16:48:09.130 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-06 16:48:09.139 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-06 16:48:09.145 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 16:48:09.149 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-06 16:48:09.152 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 16:48:09.157 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-06 16:48:09.159 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-06 16:48:09.161 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-06 16:48:09.163 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-06 16:48:09.376 +03:00 [INF] Now listening on: https://localhost:7021
2024-05-06 16:48:09.377 +03:00 [INF] Now listening on: http://localhost:5268
2024-05-06 16:48:09.378 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-06 16:48:09.379 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-06 16:48:09.380 +03:00 [INF] Hosting environment: Development
2024-05-06 16:48:09.381 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-06 16:48:09.382 +03:00 [DBG] Hosting started
2024-05-06 16:48:09.475 +03:00 [DBG] Connection id "0HN3DQCL4IOME" accepted.
2024-05-06 16:48:09.477 +03:00 [DBG] Connection id "0HN3DQCL4IOME" started.
2024-05-06 16:48:09.548 +03:00 [DBG] Connection 0HN3DQCL4IOME established using the following protocol: "Tls12"
2024-05-06 16:48:18.425 +03:00 [DBG] Connection id "0HN3DQCL4IOMF" accepted.
2024-05-06 16:48:18.427 +03:00 [DBG] Connection id "0HN3DQCL4IOMF" started.
2024-05-06 16:48:35.223 +03:00 [DBG] Connection id "0HN3DQCL4IOMG" accepted.
2024-05-06 16:48:35.224 +03:00 [DBG] Connection id "0HN3DQCL4IOMG" started.
2024-05-06 16:48:35.237 +03:00 [DBG] Connection 0HN3DQCL4IOMG established using the following protocol: "Tls12"
2024-05-06 16:48:35.282 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/ - null null
2024-05-06 16:48:35.285 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-06 16:48:35.333 +03:00 [DBG] No candidates found for the request path '/'
2024-05-06 16:48:35.334 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:48:35.446 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:48:35.491 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/ - 301 0 null 213.861ms
2024-05-06 16:48:35.498 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/index.html - null null
2024-05-06 16:48:35.504 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-06 16:48:35.505 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:48:35.508 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:48:35.614 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/index.html - 200 null text/html;charset=utf-8 115.7493ms
2024-05-06 16:48:35.744 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger-ui.css - null null
2024-05-06 16:48:35.745 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger-ui-bundle.js - null null
2024-05-06 16:48:35.745 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger-ui-standalone-preset.js - null null
2024-05-06 16:48:35.748 +03:00 [DBG] No candidates found for the request path '/swagger-ui.css'
2024-05-06 16:48:35.749 +03:00 [DBG] No candidates found for the request path '/swagger-ui-bundle.js'
2024-05-06 16:48:35.751 +03:00 [DBG] No candidates found for the request path '/swagger-ui-standalone-preset.js'
2024-05-06 16:48:35.751 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:48:35.752 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:48:35.753 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:48:35.755 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:48:35.755 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:48:35.755 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:48:35.799 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-05-06 16:48:35.801 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-05-06 16:48:35.802 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger-ui.css - 200 143943 text/css 58.3566ms
2024-05-06 16:48:35.805 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger-ui-standalone-preset.js - 200 339486 text/javascript 59.712ms
2024-05-06 16:48:35.814 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-05-06 16:48:35.819 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger-ui-bundle.js - 200 1096145 text/javascript 73.5086ms
2024-05-06 16:48:36.046 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger/v1/swagger.json - null null
2024-05-06 16:48:36.048 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-06 16:48:36.049 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:48:36.050 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:48:36.082 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/favicon-32x32.png - null null
2024-05-06 16:48:36.084 +03:00 [DBG] No candidates found for the request path '/favicon-32x32.png'
2024-05-06 16:48:36.086 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:48:36.087 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:48:36.088 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-05-06 16:48:36.089 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/favicon-32x32.png - 200 628 image/png 7.7164ms
2024-05-06 16:48:36.213 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 167.982ms
2024-05-06 16:49:18.516 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7021/login - application/json 45
2024-05-06 16:49:18.527 +03:00 [DBG] 1 candidate(s) found for the request path '/login'
2024-05-06 16:49:18.533 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)' with route pattern 'login' is valid for the request path '/login'
2024-05-06 16:49:18.535 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)'
2024-05-06 16:49:18.536 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:49:18.538 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-06 16:49:18.539 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)'
2024-05-06 16:49:18.562 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.TokenDto]]] Login(Diary.Domain.Dto.UserDto.LoginUserDto) on controller Diary.Api.Controllers.AuthController (Diary.Api).
2024-05-06 16:49:18.565 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-06 16:49:18.566 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-06 16:49:18.569 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-06 16:49:18.570 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-06 16:49:18.572 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-06 16:49:18.574 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-06 16:49:18.743 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-06 16:49:19.587 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-06 16:49:19.603 +03:00 [DBG] Creating DbConnection.
2024-05-06 16:49:19.636 +03:00 [DBG] Created DbConnection. (31ms).
2024-05-06 16:49:19.644 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:49:19.758 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:49:19.766 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:49:19.777 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (7ms).
2024-05-06 16:49:19.787 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-06 16:49:19.795 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (5ms).
2024-05-06 16:49:19.798 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (11ms).
2024-05-06 16:49:19.799 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:49:19.823 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:49:19.831 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-06 16:49:19.928 +03:00 [INF] Executed DbCommand (97ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-06 16:49:19.933 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:49:19.936 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (3ms).
2024-05-06 16:49:20.052 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-06 16:49:20.068 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' ...
2024-05-06 16:49:20.072 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' using the name '' in request data ...
2024-05-06 16:49:20.074 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-06 16:49:20.083 +03:00 [DBG] Connection id "0HN3DQCL4IOME", Request id "0HN3DQCL4IOME:0000000F": started reading request body.
2024-05-06 16:49:20.085 +03:00 [DBG] Connection id "0HN3DQCL4IOME", Request id "0HN3DQCL4IOME:0000000F": done reading request body.
2024-05-06 16:49:20.091 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.UserDto.LoginUserDto'
2024-05-06 16:49:20.092 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 16:49:20.093 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 16:49:20.094 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' ...
2024-05-06 16:49:20.100 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 16:49:20.107 +03:00 [INF] Executing action method Diary.Api.Controllers.AuthController.Login (Diary.Api) - Validation state: "Valid"
2024-05-06 16:49:39.124 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(x => x.Login == __dto_Login_0)'
2024-05-06 16:49:39.341 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedAt (DateTime) Required, 1], [Property: User.CreatedBy (long) Required, 2], [Property: User.Login (string) Required MaxLength(100), 3], [Property: User.Password (string) Required, 4], [Property: User.UpdatedAt (DateTime?), 5], [Property: User.UpdatedBy (long?), 6] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.CreatedBy, u.Login, u.Password, u.UpdatedAt, u.UpdatedBy
            FROM User AS u
            WHERE u.Login == @__dto_Login_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-06 16:49:39.382 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:49:39.386 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:49:39.387 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-06 16:49:39.388 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-06 16:49:39.394 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-05-06 16:49:39.399 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Login" = @__dto_Login_0
LIMIT 1
2024-05-06 16:49:39.426 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Login" = @__dto_Login_0
LIMIT 1
2024-05-06 16:49:39.502 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-06 16:49:39.532 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:49:39.534 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 104ms reading results.
2024-05-06 16:49:39.539 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:49:39.540 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (1ms).
2024-05-06 16:49:58.666 +03:00 [DBG] Connection id "0HN3DQCL4IOMF" received FIN.
2024-05-06 16:50:04.257 +03:00 [DBG] Connection id "0HN3DQCL4IOMG" received FIN.
2024-05-06 16:50:04.295 +03:00 [DBG] Connection id "0HN3DQCL4IOMF" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-06 16:50:26.254 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-06 16:50:26.362 +03:00 [DBG] Hosting starting
2024-05-06 16:50:26.407 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-06 16:50:26.437 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-06 16:50:26.441 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-06 16:50:26.442 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-06 16:50:26.445 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-06 16:50:26.448 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-06 16:50:26.449 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-06 16:50:26.455 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-06 16:50:26.457 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 16:50:26.460 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-06 16:50:26.461 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 16:50:26.465 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-06 16:50:26.466 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-06 16:50:26.467 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-06 16:50:26.468 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-06 16:50:26.556 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-06 16:50:26.557 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-06 16:50:26.557 +03:00 [INF] Hosting environment: Development
2024-05-06 16:50:26.557 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-06 16:50:26.558 +03:00 [DBG] Hosting started
2024-05-06 16:50:26.637 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-06 16:50:26.640 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-06 16:50:26.691 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-06 16:50:26.692 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:50:26.812 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:50:26.855 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-06 16:50:26.882 +03:00 [DBG] Connection ID "18302628930193981475" disconnecting.
2024-05-06 16:50:26.884 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 404 null null 254.7316ms
2024-05-06 16:50:26.888 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 404
2024-05-06 16:50:28.293 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-06 16:50:28.294 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-06 16:50:28.294 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:50:28.296 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:50:28.401 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 108.1254ms
2024-05-06 16:50:28.405 +03:00 [DBG] Connection ID "18302628917309079581" disconnecting.
2024-05-06 16:50:28.754 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-06 16:50:28.754 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-06 16:50:28.754 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:50:28.755 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:50:28.915 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 161.5628ms
2024-05-06 16:50:28.915 +03:00 [DBG] Connection ID "18302628930193981477" disconnecting.
2024-05-06 16:50:33.453 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/login - application/json 45
2024-05-06 16:50:33.457 +03:00 [DBG] 1 candidate(s) found for the request path '/login'
2024-05-06 16:50:33.461 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)' with route pattern 'login' is valid for the request path '/login'
2024-05-06 16:50:33.462 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)'
2024-05-06 16:50:33.463 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:50:33.464 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-06 16:50:33.465 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)'
2024-05-06 16:50:33.490 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.TokenDto]]] Login(Diary.Domain.Dto.UserDto.LoginUserDto) on controller Diary.Api.Controllers.AuthController (Diary.Api).
2024-05-06 16:50:33.492 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-06 16:50:33.493 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-06 16:50:33.493 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-06 16:50:33.493 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-06 16:50:33.494 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-06 16:50:33.495 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-06 16:50:33.662 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-06 16:50:34.515 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-06 16:50:34.530 +03:00 [DBG] Creating DbConnection.
2024-05-06 16:50:34.584 +03:00 [DBG] Created DbConnection. (52ms).
2024-05-06 16:50:34.591 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:50:34.709 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:50:34.716 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:50:34.727 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (7ms).
2024-05-06 16:50:34.736 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-06 16:50:34.743 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2024-05-06 16:50:34.745 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (9ms).
2024-05-06 16:50:34.745 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:50:34.774 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:50:34.785 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-06 16:50:34.877 +03:00 [INF] Executed DbCommand (96ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-06 16:50:34.880 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:50:34.883 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-06 16:50:34.997 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-06 16:50:35.001 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' ...
2024-05-06 16:50:35.004 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' using the name '' in request data ...
2024-05-06 16:50:35.005 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-06 16:50:35.019 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.UserDto.LoginUserDto'
2024-05-06 16:50:35.019 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 16:50:35.020 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 16:50:35.020 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' ...
2024-05-06 16:50:35.024 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 16:50:35.030 +03:00 [INF] Executing action method Diary.Api.Controllers.AuthController.Login (Diary.Api) - Validation state: "Valid"
2024-05-06 16:50:42.446 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(x => x.Login == __dto_Login_0)'
2024-05-06 16:50:42.680 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedAt (DateTime) Required, 1], [Property: User.CreatedBy (long) Required, 2], [Property: User.Login (string) Required MaxLength(100), 3], [Property: User.Password (string) Required, 4], [Property: User.UpdatedAt (DateTime?), 5], [Property: User.UpdatedBy (long?), 6] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.CreatedBy, u.Login, u.Password, u.UpdatedAt, u.UpdatedBy
            FROM User AS u
            WHERE u.Login == @__dto_Login_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-06 16:50:42.719 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:50:42.722 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:50:42.722 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-06 16:50:42.722 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-06 16:50:42.727 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-05-06 16:50:42.731 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Login" = @__dto_Login_0
LIMIT 1
2024-05-06 16:50:42.760 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Login" = @__dto_Login_0
LIMIT 1
2024-05-06 16:50:42.840 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-06 16:50:42.869 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:50:42.870 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 108ms reading results.
2024-05-06 16:50:42.873 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:50:42.874 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 16:51:26.459 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-06 16:51:26.587 +03:00 [DBG] Hosting starting
2024-05-06 16:51:26.636 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-06 16:51:26.669 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-06 16:51:26.674 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-06 16:51:26.674 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-06 16:51:26.678 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-06 16:51:26.681 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-06 16:51:26.681 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-06 16:51:26.687 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-06 16:51:26.690 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 16:51:26.693 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-06 16:51:26.694 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 16:51:26.698 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-06 16:51:26.699 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-06 16:51:26.700 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-06 16:51:26.701 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-06 16:51:26.791 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-06 16:51:26.797 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-06 16:51:26.797 +03:00 [INF] Hosting environment: Development
2024-05-06 16:51:26.797 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-06 16:51:26.800 +03:00 [DBG] Hosting started
2024-05-06 16:51:26.845 +03:00 [DBG] Connection ID "18374686494167138348" disconnecting.
2024-05-06 16:51:26.863 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-06 16:51:26.863 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-06 16:51:26.866 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-06 16:51:26.866 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-06 16:51:26.918 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-06 16:51:26.918 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-06 16:51:26.918 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:51:26.918 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:51:27.047 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:51:27.047 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:51:27.087 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-06 16:51:27.091 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 499 null null 234.3664ms
2024-05-06 16:51:27.094 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 499
2024-05-06 16:51:27.206 +03:00 [DBG] Connection ID "18374686528526876717" disconnecting.
2024-05-06 16:51:27.206 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 347.7145ms
2024-05-06 16:51:27.374 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-06 16:51:27.375 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-06 16:51:27.375 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:51:27.376 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:51:27.534 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 159.8502ms
2024-05-06 16:51:27.537 +03:00 [DBG] Connection ID "18374686489872171111" disconnecting.
2024-05-06 16:51:37.745 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/login - application/json 45
2024-05-06 16:51:37.749 +03:00 [DBG] 1 candidate(s) found for the request path '/login'
2024-05-06 16:51:37.754 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)' with route pattern 'login' is valid for the request path '/login'
2024-05-06 16:51:37.755 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)'
2024-05-06 16:51:37.756 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:51:37.757 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-06 16:51:37.758 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)'
2024-05-06 16:51:37.787 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.TokenDto]]] Login(Diary.Domain.Dto.UserDto.LoginUserDto) on controller Diary.Api.Controllers.AuthController (Diary.Api).
2024-05-06 16:51:37.788 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-06 16:51:37.788 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-06 16:51:37.789 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-06 16:51:37.789 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-06 16:51:37.789 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-06 16:51:37.791 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-06 16:51:37.973 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-06 16:51:38.815 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-06 16:51:38.830 +03:00 [DBG] Creating DbConnection.
2024-05-06 16:51:38.885 +03:00 [DBG] Created DbConnection. (52ms).
2024-05-06 16:51:38.892 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:51:39.008 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:51:39.014 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:51:39.025 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (6ms).
2024-05-06 16:51:39.033 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-06 16:51:39.042 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (5ms).
2024-05-06 16:51:39.043 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (10ms).
2024-05-06 16:51:39.043 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:51:39.069 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:51:39.087 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-06 16:51:39.175 +03:00 [INF] Executed DbCommand (96ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-06 16:51:39.178 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:51:39.180 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-06 16:51:39.303 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-06 16:51:39.307 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' ...
2024-05-06 16:51:39.310 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' using the name '' in request data ...
2024-05-06 16:51:39.311 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-06 16:51:39.323 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.UserDto.LoginUserDto'
2024-05-06 16:51:39.324 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 16:51:39.324 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 16:51:39.324 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' ...
2024-05-06 16:51:39.329 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 16:51:39.335 +03:00 [INF] Executing action method Diary.Api.Controllers.AuthController.Login (Diary.Api) - Validation state: "Valid"
2024-05-06 16:51:44.054 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(x => x.Login == __dto_Login_0)'
2024-05-06 16:51:44.280 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedAt (DateTime) Required, 1], [Property: User.CreatedBy (long) Required, 2], [Property: User.Login (string) Required MaxLength(100), 3], [Property: User.Password (string) Required, 4], [Property: User.UpdatedAt (DateTime?), 5], [Property: User.UpdatedBy (long?), 6] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.CreatedBy, u.Login, u.Password, u.UpdatedAt, u.UpdatedBy
            FROM User AS u
            WHERE u.Login == @__dto_Login_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-06 16:51:44.317 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:51:44.319 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:51:44.319 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-06 16:51:44.319 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-06 16:51:44.324 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-05-06 16:51:44.327 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Login" = @__dto_Login_0
LIMIT 1
2024-05-06 16:51:44.354 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Login" = @__dto_Login_0
LIMIT 1
2024-05-06 16:51:44.440 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-06 16:51:44.472 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:51:44.473 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 117ms reading results.
2024-05-06 16:51:44.478 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:51:44.479 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (1ms).
2024-05-06 16:52:09.800 +03:00 [DBG] Compiling query expression: 
'DbSet<UserToken>()
    .FirstOrDefault(x => x.UserId == __user_Id_0)'
2024-05-06 16:52:09.805 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserToken>(
    asyncEnumerable: new SingleQueryingEnumerable<UserToken>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserToken.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserToken.RefreshToken (string) Required, 1], [Property: UserToken.RefreshTokenExpiryTime (DateTime) Required, 2], [Property: UserToken.UserId (long) Required FK Index, 3] }
            SELECT TOP(1) u.Id, u.RefreshToken, u.RefreshTokenExpiryTime, u.UserId
            FROM UserToken AS u
            WHERE u.UserId == @__user_Id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserToken>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-06 16:52:09.807 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:52:09.807 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:52:09.807 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-06 16:52:09.807 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-06 16:52:09.807 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-06 16:52:09.807 +03:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."RefreshToken", u."RefreshTokenExpiryTime", u."UserId"
FROM "UserToken" AS u
WHERE u."UserId" = @__user_Id_0
LIMIT 1
2024-05-06 16:52:09.825 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__user_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."RefreshToken", u."RefreshTokenExpiryTime", u."UserId"
FROM "UserToken" AS u
WHERE u."UserId" = @__user_Id_0
LIMIT 1
2024-05-06 16:52:09.845 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:52:09.846 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 13ms reading results.
2024-05-06 16:52:09.847 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:52:09.855 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (7ms).
2024-05-06 16:52:17.265 +03:00 [ERR] Value cannot be null. (Parameter 's')
System.ArgumentNullException: Value cannot be null. (Parameter 's')
   at System.ArgumentNullException.Throw(String paramName)
   at System.Text.Encoding.GetBytes(String s)
   at Diary.Application.Services.TokenService.GenerateAccessToken(IEnumerable`1 claims) in C:\Users\Eugeny\Desktop\Diary\Core\Diary.Application\Services\TokenService.cs:line 36
   at Diary.Application.Services.AuthService.Login(LoginUserDto dto) in C:\Users\Eugeny\Desktop\Diary\Core\Diary.Application\Services\AuthService.cs:line 114
2024-05-06 16:52:18.631 +03:00 [INF] Executed action method Diary.Api.Controllers.AuthController.Login (Diary.Api), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 39291.903ms.
2024-05-06 16:52:18.637 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-06 16:52:18.640 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-06 16:52:18.641 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-06 16:52:18.641 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-06 16:52:18.641 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-06 16:52:18.642 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-06 16:52:18.642 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.TokenDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-06 16:52:18.652 +03:00 [INF] Executed action Diary.Api.Controllers.AuthController.Login (Diary.Api) in 40859.826ms
2024-05-06 16:52:18.653 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)'
2024-05-06 16:52:18.659 +03:00 [DBG] Connection ID "18374686481282236530" disconnecting.
2024-05-06 16:52:18.661 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-06 16:52:18.665 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:52:18.666 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (1ms).
2024-05-06 16:52:18.667 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44308/login - 400 null application/json; charset=utf-8 40921.7789ms
2024-05-06 16:52:42.582 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-06 16:52:42.704 +03:00 [DBG] Hosting starting
2024-05-06 16:52:42.753 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-06 16:52:42.767 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-06 16:52:42.780 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-06 16:52:42.780 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-06 16:52:42.784 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-06 16:52:42.787 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-06 16:52:42.787 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-06 16:52:42.793 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-06 16:52:42.796 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 16:52:42.798 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-06 16:52:42.799 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 16:52:42.803 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-06 16:52:42.804 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-06 16:52:42.805 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-06 16:52:42.806 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-06 16:52:42.888 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-06 16:52:42.888 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-06 16:52:42.888 +03:00 [INF] Hosting environment: Development
2024-05-06 16:52:42.889 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-06 16:52:42.889 +03:00 [DBG] Hosting started
2024-05-06 16:52:42.936 +03:00 [DBG] Connection ID "18374686515641974896" disconnecting.
2024-05-06 16:52:42.955 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-06 16:52:42.957 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-06 16:52:43.000 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-06 16:52:43.000 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:52:43.107 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:52:43.147 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-06 16:52:43.149 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 499 null null 195.4641ms
2024-05-06 16:52:43.152 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 499
2024-05-06 16:53:04.641 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-06 16:53:04.756 +03:00 [DBG] Hosting starting
2024-05-06 16:53:04.806 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-06 16:53:04.840 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-06 16:53:04.844 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-06 16:53:04.844 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-06 16:53:04.848 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-06 16:53:04.851 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-06 16:53:04.851 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-06 16:53:04.858 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-06 16:53:04.861 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 16:53:04.863 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-06 16:53:04.865 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 16:53:04.869 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-06 16:53:04.870 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-06 16:53:04.871 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-06 16:53:04.871 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-06 16:53:04.954 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-06 16:53:04.954 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-06 16:53:04.954 +03:00 [INF] Hosting environment: Development
2024-05-06 16:53:04.954 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-06 16:53:04.955 +03:00 [DBG] Hosting started
2024-05-06 16:53:05.022 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-06 16:53:05.025 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-06 16:53:05.071 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-06 16:53:05.071 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:53:05.178 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:53:05.216 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-06 16:53:05.242 +03:00 [DBG] Connection ID "18374686515641974898" disconnecting.
2024-05-06 16:53:05.244 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 404 null null 227.4375ms
2024-05-06 16:53:05.247 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 404
2024-05-06 16:53:07.774 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-06 16:53:07.775 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-06 16:53:07.775 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:53:07.776 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:53:07.886 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 110.9201ms
2024-05-06 16:53:07.890 +03:00 [DBG] Connection ID "18374686528526876719" disconnecting.
2024-05-06 16:53:08.099 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-06 16:53:08.099 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-06 16:53:08.099 +03:00 [DBG] Request did not match any endpoints
2024-05-06 16:53:08.100 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:53:08.260 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 161.61ms
2024-05-06 16:53:08.264 +03:00 [DBG] Connection ID "18158513724938256435" disconnecting.
2024-05-06 16:53:26.688 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/login - application/json 45
2024-05-06 16:53:26.692 +03:00 [DBG] 1 candidate(s) found for the request path '/login'
2024-05-06 16:53:26.697 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)' with route pattern 'login' is valid for the request path '/login'
2024-05-06 16:53:26.697 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)'
2024-05-06 16:53:26.698 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 16:53:26.699 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-06 16:53:26.700 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)'
2024-05-06 16:53:26.723 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.TokenDto]]] Login(Diary.Domain.Dto.UserDto.LoginUserDto) on controller Diary.Api.Controllers.AuthController (Diary.Api).
2024-05-06 16:53:26.724 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-06 16:53:26.724 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-06 16:53:26.725 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-06 16:53:26.725 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-06 16:53:26.726 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-06 16:53:26.727 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-06 16:53:26.915 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-06 16:53:27.773 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-06 16:53:27.786 +03:00 [DBG] Creating DbConnection.
2024-05-06 16:53:27.846 +03:00 [DBG] Created DbConnection. (57ms).
2024-05-06 16:53:27.853 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:53:27.970 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:53:27.976 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:53:27.987 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (6ms).
2024-05-06 16:53:27.995 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-06 16:53:28.003 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2024-05-06 16:53:28.004 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (10ms).
2024-05-06 16:53:28.005 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:53:28.030 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:53:28.041 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-06 16:53:28.133 +03:00 [INF] Executed DbCommand (95ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-06 16:53:28.136 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:53:28.138 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-06 16:53:28.253 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-06 16:53:28.257 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' ...
2024-05-06 16:53:28.259 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' using the name '' in request data ...
2024-05-06 16:53:28.260 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-06 16:53:28.273 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.UserDto.LoginUserDto'
2024-05-06 16:53:28.274 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 16:53:28.274 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 16:53:28.274 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' ...
2024-05-06 16:53:28.278 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 16:53:28.285 +03:00 [INF] Executing action method Diary.Api.Controllers.AuthController.Login (Diary.Api) - Validation state: "Valid"
2024-05-06 16:53:35.160 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(x => x.Login == __dto_Login_0)'
2024-05-06 16:53:35.390 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedAt (DateTime) Required, 1], [Property: User.CreatedBy (long) Required, 2], [Property: User.Login (string) Required MaxLength(100), 3], [Property: User.Password (string) Required, 4], [Property: User.UpdatedAt (DateTime?), 5], [Property: User.UpdatedBy (long?), 6] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.CreatedBy, u.Login, u.Password, u.UpdatedAt, u.UpdatedBy
            FROM User AS u
            WHERE u.Login == @__dto_Login_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-06 16:53:35.428 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:53:35.430 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:53:35.431 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-06 16:53:35.431 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-06 16:53:35.436 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-05-06 16:53:35.439 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Login" = @__dto_Login_0
LIMIT 1
2024-05-06 16:53:35.469 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Login" = @__dto_Login_0
LIMIT 1
2024-05-06 16:53:35.553 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-06 16:53:35.583 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:53:35.584 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 113ms reading results.
2024-05-06 16:53:35.588 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:53:35.589 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 16:53:39.212 +03:00 [DBG] Compiling query expression: 
'DbSet<UserToken>()
    .FirstOrDefault(x => x.UserId == __user_Id_0)'
2024-05-06 16:53:39.215 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserToken>(
    asyncEnumerable: new SingleQueryingEnumerable<UserToken>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserToken.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserToken.RefreshToken (string) Required, 1], [Property: UserToken.RefreshTokenExpiryTime (DateTime) Required, 2], [Property: UserToken.UserId (long) Required FK Index, 3] }
            SELECT TOP(1) u.Id, u.RefreshToken, u.RefreshTokenExpiryTime, u.UserId
            FROM UserToken AS u
            WHERE u.UserId == @__user_Id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserToken>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-06 16:53:39.217 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:53:39.217 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:53:39.217 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-06 16:53:39.217 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-06 16:53:39.217 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-06 16:53:39.217 +03:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."RefreshToken", u."RefreshTokenExpiryTime", u."UserId"
FROM "UserToken" AS u
WHERE u."UserId" = @__user_Id_0
LIMIT 1
2024-05-06 16:53:39.242 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__user_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."RefreshToken", u."RefreshTokenExpiryTime", u."UserId"
FROM "UserToken" AS u
WHERE u."UserId" = @__user_Id_0
LIMIT 1
2024-05-06 16:53:39.255 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:53:39.262 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 2ms reading results.
2024-05-06 16:53:39.262 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 16:53:39.262 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 17:22:23.007 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-06 17:22:23.116 +03:00 [DBG] Hosting starting
2024-05-06 17:22:23.163 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-06 17:22:23.194 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-06 17:22:23.198 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-06 17:22:23.199 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-06 17:22:23.202 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-06 17:22:23.205 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-06 17:22:23.206 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-06 17:22:23.213 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-06 17:22:23.216 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 17:22:23.218 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-06 17:22:23.219 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 17:22:23.224 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-06 17:22:23.225 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-06 17:22:23.226 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-06 17:22:23.227 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-06 17:22:23.310 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-06 17:22:23.311 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-06 17:22:23.311 +03:00 [INF] Hosting environment: Development
2024-05-06 17:22:23.311 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-06 17:22:23.311 +03:00 [DBG] Hosting started
2024-05-06 17:22:23.374 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-06 17:22:23.376 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-06 17:22:23.418 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-06 17:22:23.418 +03:00 [DBG] Request did not match any endpoints
2024-05-06 17:22:23.526 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 17:22:23.561 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-06 17:22:23.587 +03:00 [DBG] Connection ID "18374686481282236532" disconnecting.
2024-05-06 17:22:23.590 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 404 null null 221.2901ms
2024-05-06 17:22:23.594 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 404
2024-05-06 17:22:25.320 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-06 17:22:25.321 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-06 17:22:25.321 +03:00 [DBG] Request did not match any endpoints
2024-05-06 17:22:25.323 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 17:22:25.418 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 97.6564ms
2024-05-06 17:22:25.422 +03:00 [DBG] Connection ID "18374686515641974900" disconnecting.
2024-05-06 17:22:25.629 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-06 17:22:25.629 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-06 17:22:25.630 +03:00 [DBG] Request did not match any endpoints
2024-05-06 17:22:25.631 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 17:22:25.779 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 149.8193ms
2024-05-06 17:22:25.782 +03:00 [DBG] Connection ID "18374686498462105714" disconnecting.
2024-05-06 17:22:40.220 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/login - application/json 45
2024-05-06 17:22:40.223 +03:00 [DBG] 1 candidate(s) found for the request path '/login'
2024-05-06 17:22:40.230 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)' with route pattern 'login' is valid for the request path '/login'
2024-05-06 17:22:40.231 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)'
2024-05-06 17:22:40.232 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 17:22:40.232 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-06 17:22:40.232 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)'
2024-05-06 17:22:40.255 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.TokenDto]]] Login(Diary.Domain.Dto.UserDto.LoginUserDto) on controller Diary.Api.Controllers.AuthController (Diary.Api).
2024-05-06 17:22:40.257 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-06 17:22:40.257 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-06 17:22:40.257 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-06 17:22:40.258 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-06 17:22:40.258 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-06 17:22:40.259 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-06 17:22:40.428 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-06 17:22:41.278 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-06 17:22:41.294 +03:00 [DBG] Creating DbConnection.
2024-05-06 17:22:41.353 +03:00 [DBG] Created DbConnection. (57ms).
2024-05-06 17:22:41.359 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:22:41.481 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:22:41.488 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:22:41.498 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (7ms).
2024-05-06 17:22:41.507 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-06 17:22:41.514 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2024-05-06 17:22:41.516 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (9ms).
2024-05-06 17:22:41.516 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:22:41.541 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:22:41.551 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-06 17:22:41.642 +03:00 [INF] Executed DbCommand (91ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-06 17:22:41.645 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:22:41.648 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-06 17:22:41.768 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-06 17:22:41.773 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' ...
2024-05-06 17:22:41.775 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' using the name '' in request data ...
2024-05-06 17:22:41.776 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-06 17:22:41.789 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.UserDto.LoginUserDto'
2024-05-06 17:22:41.790 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 17:22:41.790 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 17:22:41.790 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' ...
2024-05-06 17:22:41.794 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 17:22:41.801 +03:00 [INF] Executing action method Diary.Api.Controllers.AuthController.Login (Diary.Api) - Validation state: "Valid"
2024-05-06 17:22:48.976 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(x => x.Login == __dto_Login_0)'
2024-05-06 17:22:49.211 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedAt (DateTime) Required, 1], [Property: User.CreatedBy (long) Required, 2], [Property: User.Login (string) Required MaxLength(100), 3], [Property: User.Password (string) Required, 4], [Property: User.UpdatedAt (DateTime?), 5], [Property: User.UpdatedBy (long?), 6] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.CreatedBy, u.Login, u.Password, u.UpdatedAt, u.UpdatedBy
            FROM User AS u
            WHERE u.Login == @__dto_Login_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-06 17:22:49.249 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:22:49.251 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:22:49.251 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-06 17:22:49.251 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-06 17:22:49.257 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-05-06 17:22:49.260 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Login" = @__dto_Login_0
LIMIT 1
2024-05-06 17:22:49.294 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Login" = @__dto_Login_0
LIMIT 1
2024-05-06 17:22:49.376 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-06 17:22:49.404 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:22:49.405 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 109ms reading results.
2024-05-06 17:22:49.409 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:22:49.409 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 17:22:53.337 +03:00 [DBG] Compiling query expression: 
'DbSet<UserToken>()
    .FirstOrDefault(x => x.UserId == __user_Id_0)'
2024-05-06 17:22:53.340 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserToken>(
    asyncEnumerable: new SingleQueryingEnumerable<UserToken>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserToken.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserToken.RefreshToken (string) Required, 1], [Property: UserToken.RefreshTokenExpiryTime (DateTime) Required, 2], [Property: UserToken.UserId (long) Required FK Index, 3] }
            SELECT TOP(1) u.Id, u.RefreshToken, u.RefreshTokenExpiryTime, u.UserId
            FROM UserToken AS u
            WHERE u.UserId == @__user_Id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserToken>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-06 17:22:53.341 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:22:53.341 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:22:53.341 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-06 17:22:53.342 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-06 17:22:53.342 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-06 17:22:53.342 +03:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."RefreshToken", u."RefreshTokenExpiryTime", u."UserId"
FROM "UserToken" AS u
WHERE u."UserId" = @__user_Id_0
LIMIT 1
2024-05-06 17:22:53.356 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__user_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."RefreshToken", u."RefreshTokenExpiryTime", u."UserId"
FROM "UserToken" AS u
WHERE u."UserId" = @__user_Id_0
LIMIT 1
2024-05-06 17:22:53.372 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:22:53.373 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 8ms reading results.
2024-05-06 17:22:53.374 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:22:53.382 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (8ms).
2024-05-06 17:24:07.935 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-06 17:24:08.051 +03:00 [DBG] Hosting starting
2024-05-06 17:24:08.099 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-06 17:24:08.133 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-06 17:24:08.138 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-06 17:24:08.138 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-06 17:24:08.142 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-06 17:24:08.145 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-06 17:24:08.145 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-06 17:24:08.151 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-06 17:24:08.154 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 17:24:08.156 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-06 17:24:08.157 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 17:24:08.161 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-06 17:24:08.162 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-06 17:24:08.163 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-06 17:24:08.164 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-06 17:24:08.241 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-06 17:24:08.241 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-06 17:24:08.241 +03:00 [INF] Hosting environment: Development
2024-05-06 17:24:08.241 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-06 17:24:08.242 +03:00 [DBG] Hosting started
2024-05-06 17:24:08.285 +03:00 [DBG] Connection ID "18302628930193981479" disconnecting.
2024-05-06 17:24:08.301 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-06 17:24:08.304 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-06 17:24:08.347 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-06 17:24:08.348 +03:00 [DBG] Request did not match any endpoints
2024-05-06 17:24:08.467 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 17:24:08.508 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-06 17:24:08.511 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 499 null null 214.9302ms
2024-05-06 17:24:08.514 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 499
2024-05-06 17:24:11.182 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/login - application/json 45
2024-05-06 17:24:11.188 +03:00 [DBG] 1 candidate(s) found for the request path '/login'
2024-05-06 17:24:11.192 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)' with route pattern 'login' is valid for the request path '/login'
2024-05-06 17:24:11.193 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)'
2024-05-06 17:24:11.195 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 17:24:11.204 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-06 17:24:11.211 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)'
2024-05-06 17:24:11.233 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.TokenDto]]] Login(Diary.Domain.Dto.UserDto.LoginUserDto) on controller Diary.Api.Controllers.AuthController (Diary.Api).
2024-05-06 17:24:11.234 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-06 17:24:11.234 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-06 17:24:11.235 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-06 17:24:11.235 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-06 17:24:11.235 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-06 17:24:11.236 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-06 17:24:11.405 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-06 17:24:12.236 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-06 17:24:12.249 +03:00 [DBG] Creating DbConnection.
2024-05-06 17:24:12.298 +03:00 [DBG] Created DbConnection. (47ms).
2024-05-06 17:24:12.305 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:24:12.415 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:24:12.421 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:24:12.432 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (6ms).
2024-05-06 17:24:12.439 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-06 17:24:12.446 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2024-05-06 17:24:12.447 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (9ms).
2024-05-06 17:24:12.448 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:24:12.471 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:24:12.481 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-06 17:24:12.569 +03:00 [INF] Executed DbCommand (88ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-06 17:24:12.572 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:24:12.574 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-06 17:24:12.687 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-06 17:24:12.700 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' ...
2024-05-06 17:24:12.702 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' using the name '' in request data ...
2024-05-06 17:24:12.703 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-06 17:24:12.728 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.UserDto.LoginUserDto'
2024-05-06 17:24:12.728 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 17:24:12.728 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 17:24:12.729 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' ...
2024-05-06 17:24:12.733 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 17:24:12.740 +03:00 [INF] Executing action method Diary.Api.Controllers.AuthController.Login (Diary.Api) - Validation state: "Valid"
2024-05-06 17:24:17.039 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(x => x.Login == __dto_Login_0)'
2024-05-06 17:24:17.265 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedAt (DateTime) Required, 1], [Property: User.CreatedBy (long) Required, 2], [Property: User.Login (string) Required MaxLength(100), 3], [Property: User.Password (string) Required, 4], [Property: User.UpdatedAt (DateTime?), 5], [Property: User.UpdatedBy (long?), 6] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.CreatedBy, u.Login, u.Password, u.UpdatedAt, u.UpdatedBy
            FROM User AS u
            WHERE u.Login == @__dto_Login_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-06 17:24:17.305 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:24:17.307 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:24:17.307 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-06 17:24:17.307 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-06 17:24:17.313 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-05-06 17:24:17.317 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Login" = @__dto_Login_0
LIMIT 1
2024-05-06 17:24:17.352 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Login" = @__dto_Login_0
LIMIT 1
2024-05-06 17:24:17.432 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-06 17:24:17.461 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:24:17.463 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 108ms reading results.
2024-05-06 17:24:17.466 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:24:17.467 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 17:24:46.210 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-06 17:24:46.331 +03:00 [DBG] Hosting starting
2024-05-06 17:24:46.382 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-06 17:24:46.415 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-06 17:24:46.419 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-06 17:24:46.420 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-06 17:24:46.423 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-06 17:24:46.426 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-06 17:24:46.427 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-06 17:24:46.433 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-06 17:24:46.435 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 17:24:46.438 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-06 17:24:46.439 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 17:24:46.443 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-06 17:24:46.444 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-06 17:24:46.445 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-06 17:24:46.445 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-06 17:24:46.521 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-06 17:24:46.522 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-06 17:24:46.522 +03:00 [INF] Hosting environment: Development
2024-05-06 17:24:46.522 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-06 17:24:46.522 +03:00 [DBG] Hosting started
2024-05-06 17:24:46.585 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-06 17:24:46.588 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-06 17:24:46.631 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-06 17:24:46.631 +03:00 [DBG] Request did not match any endpoints
2024-05-06 17:24:46.734 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 17:24:46.770 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-06 17:24:46.792 +03:00 [DBG] Connection ID "18302628917309079585" disconnecting.
2024-05-06 17:24:46.793 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 404 null null 213.8658ms
2024-05-06 17:24:46.797 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 404
2024-05-06 17:24:51.424 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-06 17:24:51.424 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-06 17:24:51.424 +03:00 [DBG] Request did not match any endpoints
2024-05-06 17:24:51.427 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 17:24:51.533 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 105.7509ms
2024-05-06 17:24:51.534 +03:00 [DBG] Connection ID "18374686498462105716" disconnecting.
2024-05-06 17:24:51.736 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-06 17:24:51.737 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-06 17:24:51.737 +03:00 [DBG] Request did not match any endpoints
2024-05-06 17:24:51.738 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 17:24:51.892 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 155.9668ms
2024-05-06 17:24:51.895 +03:00 [DBG] Connection ID "18374686507052040248" disconnecting.
2024-05-06 17:24:56.926 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/login - application/json 45
2024-05-06 17:24:56.930 +03:00 [DBG] 1 candidate(s) found for the request path '/login'
2024-05-06 17:24:56.934 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)' with route pattern 'login' is valid for the request path '/login'
2024-05-06 17:24:56.935 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)'
2024-05-06 17:24:56.936 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 17:24:56.936 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-06 17:24:56.937 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)'
2024-05-06 17:24:56.962 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.TokenDto]]] Login(Diary.Domain.Dto.UserDto.LoginUserDto) on controller Diary.Api.Controllers.AuthController (Diary.Api).
2024-05-06 17:24:56.964 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-06 17:24:56.964 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-06 17:24:56.965 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-06 17:24:56.965 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-06 17:24:56.966 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-06 17:24:56.967 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-06 17:24:57.145 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-06 17:24:58.033 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-06 17:24:58.048 +03:00 [DBG] Creating DbConnection.
2024-05-06 17:24:58.101 +03:00 [DBG] Created DbConnection. (51ms).
2024-05-06 17:24:58.107 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:24:58.219 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:24:58.226 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:24:58.237 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (7ms).
2024-05-06 17:24:58.245 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-06 17:24:58.252 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2024-05-06 17:24:58.254 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (9ms).
2024-05-06 17:24:58.254 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:24:58.276 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:24:58.288 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-06 17:24:58.373 +03:00 [INF] Executed DbCommand (89ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-06 17:24:58.376 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:24:58.378 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-06 17:24:58.489 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-06 17:24:58.494 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' ...
2024-05-06 17:24:58.497 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' using the name '' in request data ...
2024-05-06 17:24:58.499 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-06 17:24:58.511 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.UserDto.LoginUserDto'
2024-05-06 17:24:58.511 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 17:24:58.511 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 17:24:58.511 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' ...
2024-05-06 17:24:58.515 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 17:24:58.520 +03:00 [INF] Executing action method Diary.Api.Controllers.AuthController.Login (Diary.Api) - Validation state: "Valid"
2024-05-06 17:26:03.152 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-06 17:26:03.274 +03:00 [DBG] Hosting starting
2024-05-06 17:26:03.320 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-06 17:26:03.354 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-06 17:26:03.360 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-06 17:26:03.360 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-06 17:26:03.364 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-06 17:26:03.368 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-06 17:26:03.368 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-06 17:26:03.374 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-06 17:26:03.376 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 17:26:03.378 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-06 17:26:03.380 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 17:26:03.384 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-06 17:26:03.385 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-06 17:26:03.386 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-06 17:26:03.387 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-06 17:26:03.471 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-06 17:26:03.472 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-06 17:26:03.472 +03:00 [INF] Hosting environment: Development
2024-05-06 17:26:03.472 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-06 17:26:03.472 +03:00 [DBG] Hosting started
2024-05-06 17:26:03.538 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-06 17:26:03.540 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-06 17:26:03.583 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-06 17:26:03.583 +03:00 [DBG] Request did not match any endpoints
2024-05-06 17:26:03.693 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 17:26:03.730 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-06 17:26:03.753 +03:00 [DBG] Connection ID "18374686528526876721" disconnecting.
2024-05-06 17:26:03.755 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 404 null null 222.2661ms
2024-05-06 17:26:03.759 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 404
2024-05-06 17:26:06.155 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-06 17:26:06.156 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-06 17:26:06.156 +03:00 [DBG] Request did not match any endpoints
2024-05-06 17:26:06.157 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 17:26:06.258 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 101.7107ms
2024-05-06 17:26:06.261 +03:00 [DBG] Connection ID "18158513724938256438" disconnecting.
2024-05-06 17:26:06.375 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-06 17:26:06.375 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-06 17:26:06.375 +03:00 [DBG] Request did not match any endpoints
2024-05-06 17:26:06.376 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 17:26:06.527 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 152.1129ms
2024-05-06 17:26:06.527 +03:00 [DBG] Connection ID "18374686519936942142" disconnecting.
2024-05-06 17:26:11.967 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/reports/1?api-version=1 - null null
2024-05-06 17:26:11.977 +03:00 [DBG] 1 candidate(s) found for the request path '/reports/1'
2024-05-06 17:26:11.982 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api)' with route pattern 'reports/{userId:long}' is valid for the request path '/reports/1'
2024-05-06 17:26:11.985 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api)'
2024-05-06 17:26:11.986 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 17:26:11.988 +03:00 [DBG] Policy authentication schemes  did not succeed
2024-05-06 17:26:11.991 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-05-06 17:26:11.995 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-05-06 17:26:11.996 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/reports/1?api-version=1 - 401 null null 29.4104ms
2024-05-06 17:26:12.000 +03:00 [DBG] Connection ID "18374686528526876723" disconnecting.
2024-05-06 17:26:34.751 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/register - application/json 66
2024-05-06 17:26:34.752 +03:00 [DBG] 1 candidate(s) found for the request path '/register'
2024-05-06 17:26:34.752 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.AuthController.Register (Diary.Api)' with route pattern 'register' is valid for the request path '/register'
2024-05-06 17:26:34.752 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.AuthController.Register (Diary.Api)'
2024-05-06 17:26:34.752 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 17:26:34.753 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-06 17:26:34.753 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.AuthController.Register (Diary.Api)'
2024-05-06 17:26:34.776 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult]] Register(Diary.Domain.Dto.UserDto.RegisterUserDto) on controller Diary.Api.Controllers.AuthController (Diary.Api).
2024-05-06 17:26:34.778 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-06 17:26:34.778 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-06 17:26:34.779 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-06 17:26:34.779 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-06 17:26:34.779 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-06 17:26:34.781 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-06 17:26:34.945 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-06 17:26:35.776 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-06 17:26:35.789 +03:00 [DBG] Creating DbConnection.
2024-05-06 17:26:35.845 +03:00 [DBG] Created DbConnection. (54ms).
2024-05-06 17:26:35.851 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:26:35.963 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:26:35.969 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:26:35.979 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (6ms).
2024-05-06 17:26:35.989 +03:00 [DBG] Creating DbConnection.
2024-05-06 17:26:35.990 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-06 17:26:35.990 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 17:26:36.022 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 17:26:36.026 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 17:26:36.033 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (4ms).
2024-05-06 17:26:36.035 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (9ms).
2024-05-06 17:26:36.041 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "Diary" WITH (FORCE);
2024-05-06 17:26:36.251 +03:00 [INF] Executed DbCommand (209ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "Diary" WITH (FORCE);
2024-05-06 17:26:36.254 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 17:26:36.254 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5438' (0ms).
2024-05-06 17:26:36.257 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 17:26:36.257 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5438' (1ms).
2024-05-06 17:26:36.258 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:26:36.280 +03:00 [DBG] An error occurred using the connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:26:36.316 +03:00 [DBG] Creating DbConnection.
2024-05-06 17:26:36.316 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-06 17:26:36.316 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 17:26:36.325 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 17:26:36.325 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 17:26:36.326 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:26:36.326 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:26:36.326 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "Diary";
2024-05-06 17:26:36.573 +03:00 [INF] Executed DbCommand (247ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "Diary";
2024-05-06 17:26:36.573 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 17:26:36.574 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5438' (0ms).
2024-05-06 17:26:36.574 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 17:26:36.574 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5438' (0ms).
2024-05-06 17:26:36.575 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:26:36.588 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:26:36.588 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:26:36.588 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 17:26:36.725 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:26:36.751 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:26:36.757 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-06 17:26:36.762 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-06 17:26:36.763 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 17:26:36.763 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:26:36.764 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:26:36.764 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "User" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Login" character varying(100) NOT NULL,
    "Password" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_User" PRIMARY KEY ("Id")
);
2024-05-06 17:26:36.779 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "User" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Login" character varying(100) NOT NULL,
    "Password" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_User" PRIMARY KEY ("Id")
);
2024-05-06 17:26:36.779 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 17:26:36.779 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:26:36.779 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:26:36.780 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Report" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(100) NOT NULL,
    "Description" character varying(2000) NOT NULL,
    "UserId" bigint NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_Report" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Report_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-06 17:26:36.792 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Report" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(100) NOT NULL,
    "Description" character varying(2000) NOT NULL,
    "UserId" bigint NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_Report" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Report_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-06 17:26:36.792 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 17:26:36.792 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:26:36.792 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:26:36.793 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserToken" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "RefreshToken" text NOT NULL,
    "RefreshTokenExpiryTime" timestamp with time zone NOT NULL,
    "UserId" bigint NOT NULL,
    CONSTRAINT "PK_UserToken" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_UserToken_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-06 17:26:36.801 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserToken" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "RefreshToken" text NOT NULL,
    "RefreshTokenExpiryTime" timestamp with time zone NOT NULL,
    "UserId" bigint NOT NULL,
    CONSTRAINT "PK_UserToken" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_UserToken_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-06 17:26:36.801 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 17:26:36.802 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:26:36.802 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:26:36.802 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "User" ("Id", "CreatedAt", "CreatedBy", "Login", "Password", "UpdatedAt", "UpdatedBy")
VALUES (1, TIMESTAMPTZ '2024-05-06T14:26:36.293657Z', 0, 'svyatmtk', 'password', NULL, NULL);
2024-05-06 17:26:36.804 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "User" ("Id", "CreatedAt", "CreatedBy", "Login", "Password", "UpdatedAt", "UpdatedBy")
VALUES (1, TIMESTAMPTZ '2024-05-06T14:26:36.293657Z', 0, 'svyatmtk', 'password', NULL, NULL);
2024-05-06 17:26:36.805 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 17:26:36.805 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:26:36.805 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:26:36.805 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("Id", "CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (1, TIMESTAMPTZ '2024-05-06T14:26:36.293212Z', 0, 'First rep description', 'First repository', NULL, NULL, 1);
2024-05-06 17:26:36.807 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("Id", "CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (1, TIMESTAMPTZ '2024-05-06T14:26:36.293212Z', 0, 'First rep description', 'First repository', NULL, NULL, 1);
2024-05-06 17:26:36.807 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 17:26:36.807 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:26:36.807 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:26:36.807 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserToken" ("Id", "RefreshToken", "RefreshTokenExpiryTime", "UserId")
VALUES (1, 'kjfsdojk(*@#(23o', TIMESTAMPTZ '2024-05-13T14:26:36.293843Z', 1);
2024-05-06 17:26:36.809 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserToken" ("Id", "RefreshToken", "RefreshTokenExpiryTime", "UserId")
VALUES (1, 'kjfsdojk(*@#(23o', TIMESTAMPTZ '2024-05-13T14:26:36.293843Z', 1);
2024-05-06 17:26:36.809 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 17:26:36.809 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:26:36.810 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:26:36.810 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Report_UserId" ON "Report" ("UserId");
2024-05-06 17:26:36.815 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Report_UserId" ON "Report" ("UserId");
2024-05-06 17:26:36.815 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 17:26:36.815 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:26:36.815 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:26:36.815 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_UserToken_UserId" ON "UserToken" ("UserId");
2024-05-06 17:26:36.820 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_UserToken_UserId" ON "UserToken" ("UserId");
2024-05-06 17:26:36.820 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 17:26:36.820 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:26:36.820 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:26:36.821 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT setval(
    pg_get_serial_sequence('"User"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "User") + 1,
        nextval(pg_get_serial_sequence('"User"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"Report"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "Report") + 1,
        nextval(pg_get_serial_sequence('"Report"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"UserToken"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "UserToken") + 1,
        nextval(pg_get_serial_sequence('"UserToken"', 'Id'))),
    false);
2024-05-06 17:26:36.833 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT setval(
    pg_get_serial_sequence('"User"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "User") + 1,
        nextval(pg_get_serial_sequence('"User"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"Report"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "Report") + 1,
        nextval(pg_get_serial_sequence('"Report"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"UserToken"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "UserToken") + 1,
        nextval(pg_get_serial_sequence('"UserToken"', 'Id'))),
    false);
2024-05-06 17:26:36.835 +03:00 [DBG] Committing transaction.
2024-05-06 17:26:36.840 +03:00 [DBG] Committed transaction.
2024-05-06 17:26:36.842 +03:00 [DBG] Disposing transaction.
2024-05-06 17:26:36.842 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:26:36.844 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (1ms).
2024-05-06 17:26:36.956 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-06 17:26:36.961 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.RegisterUserDto' ...
2024-05-06 17:26:36.963 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.RegisterUserDto' using the name '' in request data ...
2024-05-06 17:26:36.964 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-06 17:26:36.976 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.UserDto.RegisterUserDto'
2024-05-06 17:26:36.976 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.RegisterUserDto'.
2024-05-06 17:26:36.976 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.RegisterUserDto'.
2024-05-06 17:26:36.977 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.RegisterUserDto' ...
2024-05-06 17:26:36.981 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.RegisterUserDto'.
2024-05-06 17:26:36.987 +03:00 [INF] Executing action method Diary.Api.Controllers.AuthController.Register (Diary.Api) - Validation state: "Valid"
2024-05-06 17:26:37.077 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(x => x.Login == __dto_Login_0)'
2024-05-06 17:26:37.297 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedAt (DateTime) Required, 1], [Property: User.CreatedBy (long) Required, 2], [Property: User.Login (string) Required MaxLength(100), 3], [Property: User.Password (string) Required, 4], [Property: User.UpdatedAt (DateTime?), 5], [Property: User.UpdatedBy (long?), 6] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.CreatedBy, u.Login, u.Password, u.UpdatedAt, u.UpdatedBy
            FROM User AS u
            WHERE u.Login == @__dto_Login_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-06 17:26:37.337 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:26:37.339 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:26:37.340 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-06 17:26:37.340 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-06 17:26:37.345 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-05-06 17:26:37.348 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Login" = @__dto_Login_0
LIMIT 1
2024-05-06 17:26:37.424 +03:00 [INF] Executed DbCommand (78ms) [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Login" = @__dto_Login_0
LIMIT 1
2024-05-06 17:26:37.436 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:26:37.439 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 13ms reading results.
2024-05-06 17:26:37.444 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:26:37.445 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (1ms).
2024-05-06 17:26:37.482 +03:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'User.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-06 17:26:37.529 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-06 17:26:37.533 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-05-06 17:26:37.536 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-06 17:26:37.552 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-06 17:26:37.562 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-06 17:26:37.562 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-06 17:26:37.593 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:26:37.593 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:26:37.595 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-06 17:26:37.595 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-06 17:26:37.595 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-06 17:26:37.595 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "User" ("CreatedAt", "CreatedBy", "Login", "Password", "UpdatedAt", "UpdatedBy")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2024-05-06 17:26:37.613 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "User" ("CreatedAt", "CreatedBy", "Login", "Password", "UpdatedAt", "UpdatedBy")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2024-05-06 17:26:37.629 +03:00 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-06 17:26:37.634 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:26:37.634 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 20ms reading results.
2024-05-06 17:26:37.635 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:26:37.635 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 17:26:37.645 +03:00 [DBG] An entity of type 'User' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-06 17:26:37.648 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-05-06 17:26:37.660 +03:00 [INF] Executed action method Diary.Api.Controllers.AuthController.Register (Diary.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 670.1201ms.
2024-05-06 17:26:37.667 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-06 17:26:37.669 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-06 17:26:37.670 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-06 17:26:37.671 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-06 17:26:37.671 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-06 17:26:37.671 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-06 17:26:37.672 +03:00 [INF] Executing OkObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.UserDto.UserDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-06 17:26:37.681 +03:00 [INF] Executed action Diary.Api.Controllers.AuthController.Register (Diary.Api) in 2898.0516ms
2024-05-06 17:26:37.681 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.AuthController.Register (Diary.Api)'
2024-05-06 17:26:37.684 +03:00 [DBG] Connection ID "18374686498462105718" disconnecting.
2024-05-06 17:26:37.687 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-06 17:26:37.690 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:26:37.691 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (1ms).
2024-05-06 17:26:37.692 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44308/register - 200 null application/json; charset=utf-8 2940.819ms
2024-05-06 17:26:54.133 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/login - application/json 39
2024-05-06 17:26:54.133 +03:00 [DBG] 1 candidate(s) found for the request path '/login'
2024-05-06 17:26:54.133 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)' with route pattern 'login' is valid for the request path '/login'
2024-05-06 17:26:54.133 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)'
2024-05-06 17:26:54.133 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 17:26:54.133 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-06 17:26:54.133 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)'
2024-05-06 17:26:54.137 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.TokenDto]]] Login(Diary.Domain.Dto.UserDto.LoginUserDto) on controller Diary.Api.Controllers.AuthController (Diary.Api).
2024-05-06 17:26:54.137 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-06 17:26:54.137 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-06 17:26:54.137 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-06 17:26:54.137 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-06 17:26:54.137 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-06 17:26:54.137 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-06 17:26:54.151 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-06 17:26:54.153 +03:00 [DBG] Creating DbConnection.
2024-05-06 17:26:54.153 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-06 17:26:54.154 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:26:54.168 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:26:54.168 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:26:54.168 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 17:26:54.170 +03:00 [DBG] Creating DbConnection.
2024-05-06 17:26:54.170 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-06 17:26:54.170 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 17:26:54.180 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 17:26:54.180 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 17:26:54.180 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:26:54.180 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:26:54.180 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "Diary" WITH (FORCE);
2024-05-06 17:26:54.314 +03:00 [INF] Executed DbCommand (133ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "Diary" WITH (FORCE);
2024-05-06 17:26:54.314 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 17:26:54.314 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5438' (0ms).
2024-05-06 17:26:54.314 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 17:26:54.315 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5438' (0ms).
2024-05-06 17:26:54.315 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:26:54.328 +03:00 [DBG] An error occurred using the connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:26:54.329 +03:00 [DBG] Creating DbConnection.
2024-05-06 17:26:54.330 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-06 17:26:54.330 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 17:26:54.338 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 17:26:54.338 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 17:26:54.338 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:26:54.339 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:26:54.339 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "Diary";
2024-05-06 17:26:54.423 +03:00 [INF] Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "Diary";
2024-05-06 17:26:54.423 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 17:26:54.423 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5438' (0ms).
2024-05-06 17:26:54.423 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 17:26:54.423 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5438' (0ms).
2024-05-06 17:26:54.424 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:26:54.437 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:26:54.438 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:26:54.438 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 17:26:54.447 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:26:54.458 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:26:54.458 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-06 17:26:54.458 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-06 17:26:54.458 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 17:26:54.458 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:26:54.459 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:26:54.459 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "User" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Login" character varying(100) NOT NULL,
    "Password" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_User" PRIMARY KEY ("Id")
);
2024-05-06 17:26:54.470 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "User" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Login" character varying(100) NOT NULL,
    "Password" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_User" PRIMARY KEY ("Id")
);
2024-05-06 17:26:54.470 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 17:26:54.470 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:26:54.470 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:26:54.470 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Report" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(100) NOT NULL,
    "Description" character varying(2000) NOT NULL,
    "UserId" bigint NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_Report" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Report_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-06 17:26:54.480 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Report" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(100) NOT NULL,
    "Description" character varying(2000) NOT NULL,
    "UserId" bigint NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_Report" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Report_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-06 17:26:54.481 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 17:26:54.481 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:26:54.481 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:26:54.481 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserToken" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "RefreshToken" text NOT NULL,
    "RefreshTokenExpiryTime" timestamp with time zone NOT NULL,
    "UserId" bigint NOT NULL,
    CONSTRAINT "PK_UserToken" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_UserToken_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-06 17:26:54.489 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserToken" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "RefreshToken" text NOT NULL,
    "RefreshTokenExpiryTime" timestamp with time zone NOT NULL,
    "UserId" bigint NOT NULL,
    CONSTRAINT "PK_UserToken" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_UserToken_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-06 17:26:54.489 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 17:26:54.490 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:26:54.490 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:26:54.490 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "User" ("Id", "CreatedAt", "CreatedBy", "Login", "Password", "UpdatedAt", "UpdatedBy")
VALUES (1, TIMESTAMPTZ '2024-05-06T14:26:36.293657Z', 0, 'svyatmtk', 'password', NULL, NULL);
2024-05-06 17:26:54.491 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "User" ("Id", "CreatedAt", "CreatedBy", "Login", "Password", "UpdatedAt", "UpdatedBy")
VALUES (1, TIMESTAMPTZ '2024-05-06T14:26:36.293657Z', 0, 'svyatmtk', 'password', NULL, NULL);
2024-05-06 17:26:54.492 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 17:26:54.492 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:26:54.492 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:26:54.492 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("Id", "CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (1, TIMESTAMPTZ '2024-05-06T14:26:36.293212Z', 0, 'First rep description', 'First repository', NULL, NULL, 1);
2024-05-06 17:26:54.495 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("Id", "CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (1, TIMESTAMPTZ '2024-05-06T14:26:36.293212Z', 0, 'First rep description', 'First repository', NULL, NULL, 1);
2024-05-06 17:26:54.495 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 17:26:54.496 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:26:54.496 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:26:54.496 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserToken" ("Id", "RefreshToken", "RefreshTokenExpiryTime", "UserId")
VALUES (1, 'kjfsdojk(*@#(23o', TIMESTAMPTZ '2024-05-13T14:26:36.293843Z', 1);
2024-05-06 17:26:54.498 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserToken" ("Id", "RefreshToken", "RefreshTokenExpiryTime", "UserId")
VALUES (1, 'kjfsdojk(*@#(23o', TIMESTAMPTZ '2024-05-13T14:26:36.293843Z', 1);
2024-05-06 17:26:54.499 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 17:26:54.499 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:26:54.499 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:26:54.499 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Report_UserId" ON "Report" ("UserId");
2024-05-06 17:26:54.505 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Report_UserId" ON "Report" ("UserId");
2024-05-06 17:26:54.506 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 17:26:54.506 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:26:54.506 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:26:54.506 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_UserToken_UserId" ON "UserToken" ("UserId");
2024-05-06 17:26:54.511 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_UserToken_UserId" ON "UserToken" ("UserId");
2024-05-06 17:26:54.512 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 17:26:54.512 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:26:54.512 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:26:54.512 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT setval(
    pg_get_serial_sequence('"User"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "User") + 1,
        nextval(pg_get_serial_sequence('"User"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"Report"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "Report") + 1,
        nextval(pg_get_serial_sequence('"Report"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"UserToken"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "UserToken") + 1,
        nextval(pg_get_serial_sequence('"UserToken"', 'Id'))),
    false);
2024-05-06 17:26:54.515 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT setval(
    pg_get_serial_sequence('"User"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "User") + 1,
        nextval(pg_get_serial_sequence('"User"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"Report"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "Report") + 1,
        nextval(pg_get_serial_sequence('"Report"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"UserToken"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "UserToken") + 1,
        nextval(pg_get_serial_sequence('"UserToken"', 'Id'))),
    false);
2024-05-06 17:26:54.516 +03:00 [DBG] Committing transaction.
2024-05-06 17:26:54.518 +03:00 [DBG] Committed transaction.
2024-05-06 17:26:54.519 +03:00 [DBG] Disposing transaction.
2024-05-06 17:26:54.519 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:26:54.519 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 17:26:54.520 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-06 17:26:54.520 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' ...
2024-05-06 17:26:54.520 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' using the name '' in request data ...
2024-05-06 17:26:54.520 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-06 17:26:54.521 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.UserDto.LoginUserDto'
2024-05-06 17:26:54.521 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 17:26:54.521 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 17:26:54.521 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' ...
2024-05-06 17:26:54.522 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 17:26:54.523 +03:00 [INF] Executing action method Diary.Api.Controllers.AuthController.Login (Diary.Api) - Validation state: "Valid"
2024-05-06 17:26:58.892 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:26:58.892 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:26:58.892 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-06 17:26:58.892 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-06 17:26:58.892 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-06 17:26:58.893 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Login" = @__dto_Login_0
LIMIT 1
2024-05-06 17:26:58.896 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Login" = @__dto_Login_0
LIMIT 1
2024-05-06 17:26:58.906 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:26:58.907 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 1ms reading results.
2024-05-06 17:26:58.907 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:26:58.918 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (10ms).
2024-05-06 17:27:10.815 +03:00 [INF] Executed action method Diary.Api.Controllers.AuthController.Login (Diary.Api), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 16291.5986ms.
2024-05-06 17:27:10.817 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-06 17:27:10.818 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-06 17:27:10.818 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-06 17:27:10.818 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-06 17:27:10.818 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-06 17:27:10.818 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-06 17:27:10.818 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.TokenDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-06 17:27:10.821 +03:00 [INF] Executed action Diary.Api.Controllers.AuthController.Login (Diary.Api) in 16683.9031ms
2024-05-06 17:27:10.821 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)'
2024-05-06 17:27:10.821 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-06 17:27:10.822 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:27:10.822 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 17:27:10.823 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44308/login - 400 null application/json; charset=utf-8 16690.1881ms
2024-05-06 17:27:10.826 +03:00 [DBG] Connection ID "18374686524231909458" disconnecting.
2024-05-06 17:27:16.151 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/login - application/json 39
2024-05-06 17:27:16.151 +03:00 [DBG] 1 candidate(s) found for the request path '/login'
2024-05-06 17:27:16.151 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)' with route pattern 'login' is valid for the request path '/login'
2024-05-06 17:27:16.151 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)'
2024-05-06 17:27:16.151 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 17:27:16.151 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-06 17:27:16.151 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)'
2024-05-06 17:27:16.152 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.TokenDto]]] Login(Diary.Domain.Dto.UserDto.LoginUserDto) on controller Diary.Api.Controllers.AuthController (Diary.Api).
2024-05-06 17:27:16.152 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-06 17:27:16.152 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-06 17:27:16.152 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-06 17:27:16.152 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-06 17:27:16.152 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-06 17:27:16.152 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-06 17:27:16.175 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-06 17:27:16.178 +03:00 [DBG] Creating DbConnection.
2024-05-06 17:27:16.178 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-06 17:27:16.179 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:27:16.189 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:27:16.190 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:27:16.190 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 17:27:16.191 +03:00 [DBG] Creating DbConnection.
2024-05-06 17:27:16.191 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-06 17:27:16.191 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 17:27:16.200 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 17:27:16.200 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 17:27:16.200 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:27:16.201 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:27:16.201 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "Diary" WITH (FORCE);
2024-05-06 17:27:16.231 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "Diary" WITH (FORCE);
2024-05-06 17:27:16.232 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 17:27:16.232 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5438' (0ms).
2024-05-06 17:27:16.232 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 17:27:16.232 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5438' (0ms).
2024-05-06 17:27:16.232 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:27:16.242 +03:00 [DBG] An error occurred using the connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:27:16.243 +03:00 [DBG] Creating DbConnection.
2024-05-06 17:27:16.243 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-06 17:27:16.243 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 17:27:16.252 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 17:27:16.252 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 17:27:16.252 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:27:16.252 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:27:16.252 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "Diary";
2024-05-06 17:27:16.321 +03:00 [INF] Executed DbCommand (69ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "Diary";
2024-05-06 17:27:16.322 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 17:27:16.322 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5438' (0ms).
2024-05-06 17:27:16.322 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 17:27:16.322 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5438' (0ms).
2024-05-06 17:27:16.323 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:27:16.335 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:27:16.335 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:27:16.335 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 17:27:16.344 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:27:16.352 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:27:16.352 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-06 17:27:16.352 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-06 17:27:16.352 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 17:27:16.352 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:27:16.352 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:27:16.352 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "User" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Login" character varying(100) NOT NULL,
    "Password" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_User" PRIMARY KEY ("Id")
);
2024-05-06 17:27:16.363 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "User" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Login" character varying(100) NOT NULL,
    "Password" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_User" PRIMARY KEY ("Id")
);
2024-05-06 17:27:16.363 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 17:27:16.363 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:27:16.363 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:27:16.363 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Report" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(100) NOT NULL,
    "Description" character varying(2000) NOT NULL,
    "UserId" bigint NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_Report" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Report_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-06 17:27:16.372 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Report" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(100) NOT NULL,
    "Description" character varying(2000) NOT NULL,
    "UserId" bigint NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_Report" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Report_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-06 17:27:16.372 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 17:27:16.372 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:27:16.372 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:27:16.372 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserToken" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "RefreshToken" text NOT NULL,
    "RefreshTokenExpiryTime" timestamp with time zone NOT NULL,
    "UserId" bigint NOT NULL,
    CONSTRAINT "PK_UserToken" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_UserToken_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-06 17:27:16.381 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserToken" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "RefreshToken" text NOT NULL,
    "RefreshTokenExpiryTime" timestamp with time zone NOT NULL,
    "UserId" bigint NOT NULL,
    CONSTRAINT "PK_UserToken" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_UserToken_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-06 17:27:16.381 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 17:27:16.381 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:27:16.381 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:27:16.381 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "User" ("Id", "CreatedAt", "CreatedBy", "Login", "Password", "UpdatedAt", "UpdatedBy")
VALUES (1, TIMESTAMPTZ '2024-05-06T14:26:36.293657Z', 0, 'svyatmtk', 'password', NULL, NULL);
2024-05-06 17:27:16.383 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "User" ("Id", "CreatedAt", "CreatedBy", "Login", "Password", "UpdatedAt", "UpdatedBy")
VALUES (1, TIMESTAMPTZ '2024-05-06T14:26:36.293657Z', 0, 'svyatmtk', 'password', NULL, NULL);
2024-05-06 17:27:16.383 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 17:27:16.383 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:27:16.383 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:27:16.383 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("Id", "CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (1, TIMESTAMPTZ '2024-05-06T14:26:36.293212Z', 0, 'First rep description', 'First repository', NULL, NULL, 1);
2024-05-06 17:27:16.385 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("Id", "CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (1, TIMESTAMPTZ '2024-05-06T14:26:36.293212Z', 0, 'First rep description', 'First repository', NULL, NULL, 1);
2024-05-06 17:27:16.385 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 17:27:16.385 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:27:16.385 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:27:16.385 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserToken" ("Id", "RefreshToken", "RefreshTokenExpiryTime", "UserId")
VALUES (1, 'kjfsdojk(*@#(23o', TIMESTAMPTZ '2024-05-13T14:26:36.293843Z', 1);
2024-05-06 17:27:16.386 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserToken" ("Id", "RefreshToken", "RefreshTokenExpiryTime", "UserId")
VALUES (1, 'kjfsdojk(*@#(23o', TIMESTAMPTZ '2024-05-13T14:26:36.293843Z', 1);
2024-05-06 17:27:16.387 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 17:27:16.387 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:27:16.387 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:27:16.387 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Report_UserId" ON "Report" ("UserId");
2024-05-06 17:27:16.391 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Report_UserId" ON "Report" ("UserId");
2024-05-06 17:27:16.391 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 17:27:16.392 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:27:16.392 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:27:16.392 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_UserToken_UserId" ON "UserToken" ("UserId");
2024-05-06 17:27:16.396 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_UserToken_UserId" ON "UserToken" ("UserId");
2024-05-06 17:27:16.396 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 17:27:16.396 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:27:16.396 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:27:16.396 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT setval(
    pg_get_serial_sequence('"User"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "User") + 1,
        nextval(pg_get_serial_sequence('"User"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"Report"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "Report") + 1,
        nextval(pg_get_serial_sequence('"Report"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"UserToken"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "UserToken") + 1,
        nextval(pg_get_serial_sequence('"UserToken"', 'Id'))),
    false);
2024-05-06 17:27:16.399 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT setval(
    pg_get_serial_sequence('"User"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "User") + 1,
        nextval(pg_get_serial_sequence('"User"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"Report"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "Report") + 1,
        nextval(pg_get_serial_sequence('"Report"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"UserToken"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "UserToken") + 1,
        nextval(pg_get_serial_sequence('"UserToken"', 'Id'))),
    false);
2024-05-06 17:27:16.399 +03:00 [DBG] Committing transaction.
2024-05-06 17:27:16.402 +03:00 [DBG] Committed transaction.
2024-05-06 17:27:16.402 +03:00 [DBG] Disposing transaction.
2024-05-06 17:27:16.402 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:27:16.403 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 17:27:16.403 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-06 17:27:16.404 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' ...
2024-05-06 17:27:16.404 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' using the name '' in request data ...
2024-05-06 17:27:16.404 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-06 17:27:16.404 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.UserDto.LoginUserDto'
2024-05-06 17:27:16.404 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 17:27:16.404 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 17:27:16.404 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' ...
2024-05-06 17:27:16.404 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 17:27:16.404 +03:00 [INF] Executing action method Diary.Api.Controllers.AuthController.Login (Diary.Api) - Validation state: "Valid"
2024-05-06 17:27:19.295 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:27:19.295 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:27:19.295 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-06 17:27:19.295 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-06 17:27:19.295 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-06 17:27:19.295 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Login" = @__dto_Login_0
LIMIT 1
2024-05-06 17:27:19.321 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Login" = @__dto_Login_0
LIMIT 1
2024-05-06 17:27:19.324 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:27:19.324 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 2ms reading results.
2024-05-06 17:27:19.324 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:27:19.324 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 17:27:25.480 +03:00 [INF] Executed action method Diary.Api.Controllers.AuthController.Login (Diary.Api), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 9075.1072ms.
2024-05-06 17:27:25.480 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-06 17:27:25.480 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-06 17:27:25.480 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-06 17:27:25.480 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-06 17:27:25.480 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-06 17:27:25.480 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-06 17:27:25.480 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.TokenDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-06 17:27:25.481 +03:00 [INF] Executed action Diary.Api.Controllers.AuthController.Login (Diary.Api) in 9328.8928ms
2024-05-06 17:27:25.481 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)'
2024-05-06 17:27:25.481 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-06 17:27:25.481 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:27:25.482 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 17:27:25.482 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44308/login - 400 null application/json; charset=utf-8 9331.0837ms
2024-05-06 17:27:25.485 +03:00 [DBG] Connection ID "18374686481282236536" disconnecting.
2024-05-06 17:27:28.420 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/login - application/json 39
2024-05-06 17:27:28.420 +03:00 [DBG] 1 candidate(s) found for the request path '/login'
2024-05-06 17:27:28.420 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)' with route pattern 'login' is valid for the request path '/login'
2024-05-06 17:27:28.420 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)'
2024-05-06 17:27:28.421 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 17:27:28.421 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-06 17:27:28.421 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)'
2024-05-06 17:27:28.421 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.TokenDto]]] Login(Diary.Domain.Dto.UserDto.LoginUserDto) on controller Diary.Api.Controllers.AuthController (Diary.Api).
2024-05-06 17:27:28.421 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-06 17:27:28.421 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-06 17:27:28.422 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-06 17:27:28.422 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-06 17:27:28.422 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-06 17:27:28.422 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-06 17:27:28.422 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-06 17:27:28.423 +03:00 [DBG] Creating DbConnection.
2024-05-06 17:27:28.423 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-06 17:27:28.423 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:27:28.432 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:27:28.433 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:27:28.433 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 17:27:28.433 +03:00 [DBG] Creating DbConnection.
2024-05-06 17:27:28.433 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-06 17:27:28.434 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 17:27:28.447 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 17:27:28.448 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 17:27:28.448 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:27:28.448 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:27:28.448 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "Diary" WITH (FORCE);
2024-05-06 17:27:28.481 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "Diary" WITH (FORCE);
2024-05-06 17:27:28.482 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 17:27:28.482 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5438' (0ms).
2024-05-06 17:27:28.482 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 17:27:28.482 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5438' (0ms).
2024-05-06 17:27:28.482 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:27:28.493 +03:00 [DBG] An error occurred using the connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:27:28.494 +03:00 [DBG] Creating DbConnection.
2024-05-06 17:27:28.494 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-06 17:27:28.495 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 17:27:28.504 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 17:27:28.504 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 17:27:28.504 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:27:28.504 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:27:28.504 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "Diary";
2024-05-06 17:27:28.594 +03:00 [INF] Executed DbCommand (90ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "Diary";
2024-05-06 17:27:28.594 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 17:27:28.595 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5438' (0ms).
2024-05-06 17:27:28.595 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 17:27:28.595 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5438' (0ms).
2024-05-06 17:27:28.595 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:27:28.608 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:27:28.608 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:27:28.609 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 17:27:28.618 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:27:28.628 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:27:28.628 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-06 17:27:28.628 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-06 17:27:28.628 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 17:27:28.628 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:27:28.628 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:27:28.628 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "User" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Login" character varying(100) NOT NULL,
    "Password" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_User" PRIMARY KEY ("Id")
);
2024-05-06 17:27:28.645 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "User" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Login" character varying(100) NOT NULL,
    "Password" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_User" PRIMARY KEY ("Id")
);
2024-05-06 17:27:28.645 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 17:27:28.645 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:27:28.645 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:27:28.645 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Report" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(100) NOT NULL,
    "Description" character varying(2000) NOT NULL,
    "UserId" bigint NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_Report" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Report_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-06 17:27:28.655 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Report" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(100) NOT NULL,
    "Description" character varying(2000) NOT NULL,
    "UserId" bigint NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_Report" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Report_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-06 17:27:28.656 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 17:27:28.656 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:27:28.656 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:27:28.656 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserToken" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "RefreshToken" text NOT NULL,
    "RefreshTokenExpiryTime" timestamp with time zone NOT NULL,
    "UserId" bigint NOT NULL,
    CONSTRAINT "PK_UserToken" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_UserToken_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-06 17:27:28.664 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserToken" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "RefreshToken" text NOT NULL,
    "RefreshTokenExpiryTime" timestamp with time zone NOT NULL,
    "UserId" bigint NOT NULL,
    CONSTRAINT "PK_UserToken" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_UserToken_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-06 17:27:28.665 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 17:27:28.665 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:27:28.665 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:27:28.665 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "User" ("Id", "CreatedAt", "CreatedBy", "Login", "Password", "UpdatedAt", "UpdatedBy")
VALUES (1, TIMESTAMPTZ '2024-05-06T14:26:36.293657Z', 0, 'svyatmtk', 'password', NULL, NULL);
2024-05-06 17:27:28.667 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "User" ("Id", "CreatedAt", "CreatedBy", "Login", "Password", "UpdatedAt", "UpdatedBy")
VALUES (1, TIMESTAMPTZ '2024-05-06T14:26:36.293657Z', 0, 'svyatmtk', 'password', NULL, NULL);
2024-05-06 17:27:28.667 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 17:27:28.667 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:27:28.667 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:27:28.667 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("Id", "CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (1, TIMESTAMPTZ '2024-05-06T14:26:36.293212Z', 0, 'First rep description', 'First repository', NULL, NULL, 1);
2024-05-06 17:27:28.669 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("Id", "CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (1, TIMESTAMPTZ '2024-05-06T14:26:36.293212Z', 0, 'First rep description', 'First repository', NULL, NULL, 1);
2024-05-06 17:27:28.670 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 17:27:28.670 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:27:28.670 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:27:28.670 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserToken" ("Id", "RefreshToken", "RefreshTokenExpiryTime", "UserId")
VALUES (1, 'kjfsdojk(*@#(23o', TIMESTAMPTZ '2024-05-13T14:26:36.293843Z', 1);
2024-05-06 17:27:28.672 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserToken" ("Id", "RefreshToken", "RefreshTokenExpiryTime", "UserId")
VALUES (1, 'kjfsdojk(*@#(23o', TIMESTAMPTZ '2024-05-13T14:26:36.293843Z', 1);
2024-05-06 17:27:28.672 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 17:27:28.672 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:27:28.672 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:27:28.672 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Report_UserId" ON "Report" ("UserId");
2024-05-06 17:27:28.677 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Report_UserId" ON "Report" ("UserId");
2024-05-06 17:27:28.677 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 17:27:28.677 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:27:28.677 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:27:28.677 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_UserToken_UserId" ON "UserToken" ("UserId");
2024-05-06 17:27:28.683 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_UserToken_UserId" ON "UserToken" ("UserId");
2024-05-06 17:27:28.683 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 17:27:28.683 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:27:28.683 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:27:28.683 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT setval(
    pg_get_serial_sequence('"User"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "User") + 1,
        nextval(pg_get_serial_sequence('"User"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"Report"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "Report") + 1,
        nextval(pg_get_serial_sequence('"Report"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"UserToken"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "UserToken") + 1,
        nextval(pg_get_serial_sequence('"UserToken"', 'Id'))),
    false);
2024-05-06 17:27:28.687 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT setval(
    pg_get_serial_sequence('"User"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "User") + 1,
        nextval(pg_get_serial_sequence('"User"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"Report"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "Report") + 1,
        nextval(pg_get_serial_sequence('"Report"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"UserToken"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "UserToken") + 1,
        nextval(pg_get_serial_sequence('"UserToken"', 'Id'))),
    false);
2024-05-06 17:27:28.687 +03:00 [DBG] Committing transaction.
2024-05-06 17:27:28.690 +03:00 [DBG] Committed transaction.
2024-05-06 17:27:28.690 +03:00 [DBG] Disposing transaction.
2024-05-06 17:27:28.690 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:27:28.690 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 17:27:28.691 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-06 17:27:28.691 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' ...
2024-05-06 17:27:28.691 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' using the name '' in request data ...
2024-05-06 17:27:28.691 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-06 17:27:28.691 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.UserDto.LoginUserDto'
2024-05-06 17:27:28.691 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 17:27:28.691 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 17:27:28.691 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' ...
2024-05-06 17:27:28.691 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 17:27:28.691 +03:00 [INF] Executing action method Diary.Api.Controllers.AuthController.Login (Diary.Api) - Validation state: "Valid"
2024-05-06 17:27:36.142 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:27:36.142 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:27:36.142 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-06 17:27:36.142 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-06 17:27:36.142 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-06 17:27:36.143 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Login" = @__dto_Login_0
LIMIT 1
2024-05-06 17:27:36.146 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Login" = @__dto_Login_0
LIMIT 1
2024-05-06 17:27:36.146 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:27:36.155 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 9ms reading results.
2024-05-06 17:27:36.157 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:27:36.167 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (9ms).
2024-05-06 17:28:16.810 +03:00 [INF] Executed action method Diary.Api.Controllers.AuthController.Login (Diary.Api), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 48118.1052ms.
2024-05-06 17:28:16.810 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-06 17:28:16.810 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-06 17:28:16.814 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-06 17:28:16.814 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-06 17:28:16.815 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-06 17:28:16.815 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-06 17:28:16.815 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.TokenDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-06 17:28:16.816 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/register - application/json 66
2024-05-06 17:28:16.816 +03:00 [DBG] 1 candidate(s) found for the request path '/register'
2024-05-06 17:28:16.816 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.AuthController.Register (Diary.Api)' with route pattern 'register' is valid for the request path '/register'
2024-05-06 17:28:16.816 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.AuthController.Register (Diary.Api)'
2024-05-06 17:28:16.816 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 17:28:16.819 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-06 17:28:16.820 +03:00 [INF] Executed action Diary.Api.Controllers.AuthController.Login (Diary.Api) in 48398.193ms
2024-05-06 17:28:16.820 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.AuthController.Register (Diary.Api)'
2024-05-06 17:28:16.820 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)'
2024-05-06 17:28:16.820 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult]] Register(Diary.Domain.Dto.UserDto.RegisterUserDto) on controller Diary.Api.Controllers.AuthController (Diary.Api).
2024-05-06 17:28:16.820 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-06 17:28:16.820 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-06 17:28:16.820 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-06 17:28:16.823 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:28:16.823 +03:00 [DBG] Connection ID "18374686524231909460" disconnecting.
2024-05-06 17:28:16.823 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-06 17:28:16.823 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-06 17:28:16.823 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-06 17:28:16.823 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-06 17:28:16.823 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44308/login - 400 null application/json; charset=utf-8 48403.1886ms
2024-05-06 17:28:16.823 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-06 17:28:16.829 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-06 17:28:16.832 +03:00 [DBG] Creating DbConnection.
2024-05-06 17:28:16.832 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-06 17:28:16.832 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:28:16.844 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:28:16.844 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:28:16.844 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 17:28:16.845 +03:00 [DBG] Creating DbConnection.
2024-05-06 17:28:16.845 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-06 17:28:16.845 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 17:28:16.853 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 17:28:16.853 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 17:28:16.853 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:28:16.853 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:28:16.854 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "Diary" WITH (FORCE);
2024-05-06 17:28:16.983 +03:00 [INF] Executed DbCommand (130ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "Diary" WITH (FORCE);
2024-05-06 17:28:16.984 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 17:28:16.984 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5438' (0ms).
2024-05-06 17:28:16.984 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 17:28:16.984 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5438' (0ms).
2024-05-06 17:28:16.984 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:28:16.994 +03:00 [DBG] An error occurred using the connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:28:16.994 +03:00 [DBG] Creating DbConnection.
2024-05-06 17:28:16.995 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-06 17:28:16.995 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 17:28:17.002 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 17:28:17.002 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 17:28:17.002 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:28:17.002 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:28:17.002 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "Diary";
2024-05-06 17:28:17.106 +03:00 [INF] Executed DbCommand (103ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "Diary";
2024-05-06 17:28:17.106 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 17:28:17.106 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5438' (0ms).
2024-05-06 17:28:17.106 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-06 17:28:17.107 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5438' (0ms).
2024-05-06 17:28:17.107 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:28:17.119 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:28:17.119 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:28:17.119 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 17:28:17.130 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:28:17.141 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:28:17.142 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-06 17:28:17.142 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-06 17:28:17.142 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 17:28:17.142 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:28:17.142 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:28:17.142 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "User" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Login" character varying(100) NOT NULL,
    "Password" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_User" PRIMARY KEY ("Id")
);
2024-05-06 17:28:17.154 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "User" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Login" character varying(100) NOT NULL,
    "Password" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_User" PRIMARY KEY ("Id")
);
2024-05-06 17:28:17.154 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 17:28:17.154 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:28:17.154 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:28:17.154 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Report" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(100) NOT NULL,
    "Description" character varying(2000) NOT NULL,
    "UserId" bigint NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_Report" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Report_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-06 17:28:17.163 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Report" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(100) NOT NULL,
    "Description" character varying(2000) NOT NULL,
    "UserId" bigint NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_Report" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Report_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-06 17:28:17.163 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 17:28:17.163 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:28:17.163 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:28:17.164 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserToken" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "RefreshToken" text NOT NULL,
    "RefreshTokenExpiryTime" timestamp with time zone NOT NULL,
    "UserId" bigint NOT NULL,
    CONSTRAINT "PK_UserToken" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_UserToken_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-06 17:28:17.172 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserToken" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "RefreshToken" text NOT NULL,
    "RefreshTokenExpiryTime" timestamp with time zone NOT NULL,
    "UserId" bigint NOT NULL,
    CONSTRAINT "PK_UserToken" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_UserToken_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-06 17:28:17.172 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 17:28:17.173 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:28:17.173 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:28:17.173 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "User" ("Id", "CreatedAt", "CreatedBy", "Login", "Password", "UpdatedAt", "UpdatedBy")
VALUES (1, TIMESTAMPTZ '2024-05-06T14:26:36.293657Z', 0, 'svyatmtk', 'password', NULL, NULL);
2024-05-06 17:28:17.174 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "User" ("Id", "CreatedAt", "CreatedBy", "Login", "Password", "UpdatedAt", "UpdatedBy")
VALUES (1, TIMESTAMPTZ '2024-05-06T14:26:36.293657Z', 0, 'svyatmtk', 'password', NULL, NULL);
2024-05-06 17:28:17.175 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 17:28:17.175 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:28:17.175 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:28:17.175 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("Id", "CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (1, TIMESTAMPTZ '2024-05-06T14:26:36.293212Z', 0, 'First rep description', 'First repository', NULL, NULL, 1);
2024-05-06 17:28:17.177 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("Id", "CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (1, TIMESTAMPTZ '2024-05-06T14:26:36.293212Z', 0, 'First rep description', 'First repository', NULL, NULL, 1);
2024-05-06 17:28:17.177 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 17:28:17.177 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:28:17.177 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:28:17.177 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserToken" ("Id", "RefreshToken", "RefreshTokenExpiryTime", "UserId")
VALUES (1, 'kjfsdojk(*@#(23o', TIMESTAMPTZ '2024-05-13T14:26:36.293843Z', 1);
2024-05-06 17:28:17.179 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserToken" ("Id", "RefreshToken", "RefreshTokenExpiryTime", "UserId")
VALUES (1, 'kjfsdojk(*@#(23o', TIMESTAMPTZ '2024-05-13T14:26:36.293843Z', 1);
2024-05-06 17:28:17.179 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 17:28:17.179 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:28:17.179 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:28:17.180 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Report_UserId" ON "Report" ("UserId");
2024-05-06 17:28:17.184 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Report_UserId" ON "Report" ("UserId");
2024-05-06 17:28:17.184 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 17:28:17.184 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:28:17.184 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:28:17.184 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_UserToken_UserId" ON "UserToken" ("UserId");
2024-05-06 17:28:17.189 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_UserToken_UserId" ON "UserToken" ("UserId");
2024-05-06 17:28:17.189 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-06 17:28:17.189 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:28:17.189 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-06 17:28:17.189 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT setval(
    pg_get_serial_sequence('"User"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "User") + 1,
        nextval(pg_get_serial_sequence('"User"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"Report"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "Report") + 1,
        nextval(pg_get_serial_sequence('"Report"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"UserToken"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "UserToken") + 1,
        nextval(pg_get_serial_sequence('"UserToken"', 'Id'))),
    false);
2024-05-06 17:28:17.192 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT setval(
    pg_get_serial_sequence('"User"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "User") + 1,
        nextval(pg_get_serial_sequence('"User"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"Report"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "Report") + 1,
        nextval(pg_get_serial_sequence('"Report"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"UserToken"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "UserToken") + 1,
        nextval(pg_get_serial_sequence('"UserToken"', 'Id'))),
    false);
2024-05-06 17:28:17.192 +03:00 [DBG] Committing transaction.
2024-05-06 17:28:17.195 +03:00 [DBG] Committed transaction.
2024-05-06 17:28:17.195 +03:00 [DBG] Disposing transaction.
2024-05-06 17:28:17.195 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:28:17.195 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 17:28:17.195 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-06 17:28:17.195 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.RegisterUserDto' ...
2024-05-06 17:28:17.196 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.RegisterUserDto' using the name '' in request data ...
2024-05-06 17:28:17.196 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-06 17:28:17.196 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.UserDto.RegisterUserDto'
2024-05-06 17:28:17.196 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.RegisterUserDto'.
2024-05-06 17:28:17.196 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.RegisterUserDto'.
2024-05-06 17:28:17.196 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.RegisterUserDto' ...
2024-05-06 17:28:17.196 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.RegisterUserDto'.
2024-05-06 17:28:17.196 +03:00 [INF] Executing action method Diary.Api.Controllers.AuthController.Register (Diary.Api) - Validation state: "Valid"
2024-05-06 17:28:17.198 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:28:17.198 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:28:17.198 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-06 17:28:17.198 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-06 17:28:17.198 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-06 17:28:17.198 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Login" = @__dto_Login_0
LIMIT 1
2024-05-06 17:28:17.202 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Login" = @__dto_Login_0
LIMIT 1
2024-05-06 17:28:17.203 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:28:17.203 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 0ms reading results.
2024-05-06 17:28:17.203 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:28:17.203 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 17:28:17.205 +03:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'User.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-06 17:28:17.206 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-06 17:28:17.206 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-05-06 17:28:17.206 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-06 17:28:17.206 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-06 17:28:17.207 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-06 17:28:17.207 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-06 17:28:17.208 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:28:17.208 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:28:17.208 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-06 17:28:17.208 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-06 17:28:17.209 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-06 17:28:17.209 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "User" ("CreatedAt", "CreatedBy", "Login", "Password", "UpdatedAt", "UpdatedBy")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2024-05-06 17:28:17.214 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "User" ("CreatedAt", "CreatedBy", "Login", "Password", "UpdatedAt", "UpdatedBy")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2024-05-06 17:28:17.215 +03:00 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-06 17:28:17.215 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:28:17.215 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 0ms reading results.
2024-05-06 17:28:17.216 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:28:17.216 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 17:28:17.216 +03:00 [DBG] An entity of type 'User' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-06 17:28:17.216 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-05-06 17:28:17.218 +03:00 [INF] Executed action method Diary.Api.Controllers.AuthController.Register (Diary.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 21.5234ms.
2024-05-06 17:28:17.219 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-06 17:28:17.219 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-06 17:28:17.219 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-06 17:28:17.219 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-06 17:28:17.219 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-06 17:28:17.219 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-06 17:28:17.219 +03:00 [INF] Executing OkObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.UserDto.UserDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-06 17:28:17.220 +03:00 [INF] Executed action Diary.Api.Controllers.AuthController.Register (Diary.Api) in 396.4389ms
2024-05-06 17:28:17.220 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.AuthController.Register (Diary.Api)'
2024-05-06 17:28:17.220 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-06 17:28:17.220 +03:00 [DBG] Connection ID "18374686511347007531" disconnecting.
2024-05-06 17:28:17.220 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:28:17.221 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 17:28:17.221 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44308/register - 200 null application/json; charset=utf-8 405.7644ms
2024-05-06 17:29:25.963 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-06 17:29:26.073 +03:00 [DBG] Hosting starting
2024-05-06 17:29:26.122 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-06 17:29:26.156 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-06 17:29:26.161 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-06 17:29:26.162 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-06 17:29:26.166 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-06 17:29:26.171 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-06 17:29:26.171 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-06 17:29:26.177 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-06 17:29:26.180 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 17:29:26.183 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-06 17:29:26.184 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 17:29:26.187 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-06 17:29:26.188 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-06 17:29:26.189 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-06 17:29:26.190 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-06 17:29:26.271 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-06 17:29:26.272 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-06 17:29:26.272 +03:00 [INF] Hosting environment: Development
2024-05-06 17:29:26.272 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-06 17:29:26.272 +03:00 [DBG] Hosting started
2024-05-06 17:29:26.338 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-06 17:29:26.341 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-06 17:29:26.386 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-06 17:29:26.386 +03:00 [DBG] Request did not match any endpoints
2024-05-06 17:29:26.503 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 17:29:26.541 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-06 17:29:26.566 +03:00 [DBG] Connection ID "18374686494167138350" disconnecting.
2024-05-06 17:29:26.568 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 404 null null 236.0304ms
2024-05-06 17:29:26.573 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 404
2024-05-06 17:29:29.354 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-06 17:29:29.354 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-06 17:29:29.354 +03:00 [DBG] Request did not match any endpoints
2024-05-06 17:29:29.356 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 17:29:29.449 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 94.9549ms
2024-05-06 17:29:29.452 +03:00 [DBG] Connection ID "18374686519936942144" disconnecting.
2024-05-06 17:29:29.653 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-06 17:29:29.653 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-06 17:29:29.653 +03:00 [DBG] Request did not match any endpoints
2024-05-06 17:29:29.654 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 17:29:29.809 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 156.4192ms
2024-05-06 17:29:29.809 +03:00 [DBG] Connection ID "18158513724938256440" disconnecting.
2024-05-06 17:31:48.490 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/login - application/json 39
2024-05-06 17:31:48.494 +03:00 [DBG] 1 candidate(s) found for the request path '/login'
2024-05-06 17:31:48.498 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)' with route pattern 'login' is valid for the request path '/login'
2024-05-06 17:31:48.499 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)'
2024-05-06 17:31:48.500 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 17:31:48.500 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-06 17:31:48.501 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)'
2024-05-06 17:31:48.524 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.TokenDto]]] Login(Diary.Domain.Dto.UserDto.LoginUserDto) on controller Diary.Api.Controllers.AuthController (Diary.Api).
2024-05-06 17:31:48.525 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-06 17:31:48.525 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-06 17:31:48.526 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-06 17:31:48.526 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-06 17:31:48.526 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-06 17:31:48.528 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-06 17:31:48.700 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-06 17:31:49.513 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-06 17:31:49.527 +03:00 [DBG] Creating DbConnection.
2024-05-06 17:31:49.580 +03:00 [DBG] Created DbConnection. (50ms).
2024-05-06 17:31:49.586 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:31:49.707 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:31:49.716 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:31:49.727 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (7ms).
2024-05-06 17:31:49.736 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-06 17:31:49.747 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2024-05-06 17:31:49.750 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (14ms).
2024-05-06 17:31:49.750 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:31:49.786 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:31:49.798 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-06 17:31:49.912 +03:00 [INF] Executed DbCommand (115ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-06 17:31:49.916 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:31:49.918 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-06 17:31:50.058 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-06 17:31:50.064 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' ...
2024-05-06 17:31:50.067 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' using the name '' in request data ...
2024-05-06 17:31:50.069 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-06 17:31:50.087 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.UserDto.LoginUserDto'
2024-05-06 17:31:50.088 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 17:31:50.088 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 17:31:50.088 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' ...
2024-05-06 17:31:50.095 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 17:31:50.102 +03:00 [INF] Executing action method Diary.Api.Controllers.AuthController.Login (Diary.Api) - Validation state: "Valid"
2024-05-06 17:31:53.852 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(x => x.Login == __dto_Login_0)'
2024-05-06 17:31:54.083 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedAt (DateTime) Required, 1], [Property: User.CreatedBy (long) Required, 2], [Property: User.Login (string) Required MaxLength(100), 3], [Property: User.Password (string) Required, 4], [Property: User.UpdatedAt (DateTime?), 5], [Property: User.UpdatedBy (long?), 6] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.CreatedBy, u.Login, u.Password, u.UpdatedAt, u.UpdatedBy
            FROM User AS u
            WHERE u.Login == @__dto_Login_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-06 17:31:54.119 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:31:54.121 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:31:54.121 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-06 17:31:54.121 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-06 17:31:54.127 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-05-06 17:31:54.130 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Login" = @__dto_Login_0
LIMIT 1
2024-05-06 17:31:54.163 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Login" = @__dto_Login_0
LIMIT 1
2024-05-06 17:31:54.258 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-06 17:31:54.292 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:31:54.293 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 128ms reading results.
2024-05-06 17:31:54.297 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:31:54.298 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 17:32:00.796 +03:00 [DBG] Compiling query expression: 
'DbSet<UserToken>()
    .FirstOrDefault(x => x.UserId == __user_Id_0)'
2024-05-06 17:32:00.799 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserToken>(
    asyncEnumerable: new SingleQueryingEnumerable<UserToken>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserToken.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserToken.RefreshToken (string) Required, 1], [Property: UserToken.RefreshTokenExpiryTime (DateTime) Required, 2], [Property: UserToken.UserId (long) Required FK Index, 3] }
            SELECT TOP(1) u.Id, u.RefreshToken, u.RefreshTokenExpiryTime, u.UserId
            FROM UserToken AS u
            WHERE u.UserId == @__user_Id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserToken>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-06 17:32:00.800 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:32:00.800 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:32:00.800 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-06 17:32:00.801 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-06 17:32:00.801 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-06 17:32:00.801 +03:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."RefreshToken", u."RefreshTokenExpiryTime", u."UserId"
FROM "UserToken" AS u
WHERE u."UserId" = @__user_Id_0
LIMIT 1
2024-05-06 17:32:00.813 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__user_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."RefreshToken", u."RefreshTokenExpiryTime", u."UserId"
FROM "UserToken" AS u
WHERE u."UserId" = @__user_Id_0
LIMIT 1
2024-05-06 17:32:00.814 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:32:00.822 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 7ms reading results.
2024-05-06 17:32:00.823 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:32:00.823 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 17:32:28.495 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-06 17:32:28.609 +03:00 [DBG] Hosting starting
2024-05-06 17:32:28.660 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-06 17:32:28.692 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-06 17:32:28.697 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-06 17:32:28.697 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-06 17:32:28.701 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-06 17:32:28.704 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-06 17:32:28.704 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-06 17:32:28.710 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-06 17:32:28.713 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 17:32:28.715 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-06 17:32:28.717 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 17:32:28.720 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-06 17:32:28.721 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-06 17:32:28.722 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-06 17:32:28.723 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-06 17:32:28.807 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-06 17:32:28.808 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-06 17:32:28.808 +03:00 [INF] Hosting environment: Development
2024-05-06 17:32:28.808 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-06 17:32:28.808 +03:00 [DBG] Hosting started
2024-05-06 17:32:28.877 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-06 17:32:28.880 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-06 17:32:28.930 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-06 17:32:28.930 +03:00 [DBG] Request did not match any endpoints
2024-05-06 17:32:29.045 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 17:32:29.082 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-06 17:32:29.108 +03:00 [DBG] Connection ID "18374686502757072963" disconnecting.
2024-05-06 17:32:29.111 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 404 null null 239.957ms
2024-05-06 17:32:29.117 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 404
2024-05-06 17:32:32.085 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/login - application/json 39
2024-05-06 17:32:32.091 +03:00 [DBG] 1 candidate(s) found for the request path '/login'
2024-05-06 17:32:32.096 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)' with route pattern 'login' is valid for the request path '/login'
2024-05-06 17:32:32.097 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)'
2024-05-06 17:32:32.099 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 17:32:32.111 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-06 17:32:32.118 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)'
2024-05-06 17:32:32.143 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.TokenDto]]] Login(Diary.Domain.Dto.UserDto.LoginUserDto) on controller Diary.Api.Controllers.AuthController (Diary.Api).
2024-05-06 17:32:32.145 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-06 17:32:32.145 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-06 17:32:32.146 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-06 17:32:32.146 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-06 17:32:32.146 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-06 17:32:32.148 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-06 17:32:32.319 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-06 17:32:33.131 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-06 17:32:33.149 +03:00 [DBG] Creating DbConnection.
2024-05-06 17:32:33.202 +03:00 [DBG] Created DbConnection. (51ms).
2024-05-06 17:32:33.208 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:32:33.322 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:32:33.329 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:32:33.339 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (7ms).
2024-05-06 17:32:33.347 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-06 17:32:33.354 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2024-05-06 17:32:33.355 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (9ms).
2024-05-06 17:32:33.356 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:32:33.385 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:32:33.397 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-06 17:32:33.488 +03:00 [INF] Executed DbCommand (92ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-06 17:32:33.491 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:32:33.494 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-06 17:32:33.609 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-06 17:32:33.613 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' ...
2024-05-06 17:32:33.615 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' using the name '' in request data ...
2024-05-06 17:32:33.616 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-06 17:32:33.639 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.UserDto.LoginUserDto'
2024-05-06 17:32:33.640 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 17:32:33.640 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 17:32:33.640 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' ...
2024-05-06 17:32:33.645 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 17:32:33.652 +03:00 [INF] Executing action method Diary.Api.Controllers.AuthController.Login (Diary.Api) - Validation state: "Valid"
2024-05-06 17:32:37.268 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(x => x.Login == __dto_Login_0)'
2024-05-06 17:32:37.493 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedAt (DateTime) Required, 1], [Property: User.CreatedBy (long) Required, 2], [Property: User.Login (string) Required MaxLength(100), 3], [Property: User.Password (string) Required, 4], [Property: User.UpdatedAt (DateTime?), 5], [Property: User.UpdatedBy (long?), 6] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.CreatedBy, u.Login, u.Password, u.UpdatedAt, u.UpdatedBy
            FROM User AS u
            WHERE u.Login == @__dto_Login_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-06 17:32:37.529 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:32:37.531 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:32:37.531 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-06 17:32:37.531 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-06 17:32:37.536 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-05-06 17:32:37.539 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Login" = @__dto_Login_0
LIMIT 1
2024-05-06 17:32:37.567 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Login" = @__dto_Login_0
LIMIT 1
2024-05-06 17:32:37.661 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-06 17:32:37.690 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:32:37.691 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 121ms reading results.
2024-05-06 17:32:37.694 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:32:37.695 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 17:32:40.030 +03:00 [DBG] Compiling query expression: 
'DbSet<UserToken>()
    .FirstOrDefault(x => x.UserId == __user_Id_0)'
2024-05-06 17:32:40.033 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserToken>(
    asyncEnumerable: new SingleQueryingEnumerable<UserToken>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserToken.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserToken.RefreshToken (string) Required, 1], [Property: UserToken.RefreshTokenExpiryTime (DateTime) Required, 2], [Property: UserToken.UserId (long) Required FK Index, 3] }
            SELECT TOP(1) u.Id, u.RefreshToken, u.RefreshTokenExpiryTime, u.UserId
            FROM UserToken AS u
            WHERE u.UserId == @__user_Id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserToken>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-06 17:32:40.034 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:32:40.034 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:32:40.034 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-06 17:32:40.034 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-06 17:32:40.034 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-06 17:32:40.034 +03:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."RefreshToken", u."RefreshTokenExpiryTime", u."UserId"
FROM "UserToken" AS u
WHERE u."UserId" = @__user_Id_0
LIMIT 1
2024-05-06 17:32:40.048 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__user_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."RefreshToken", u."RefreshTokenExpiryTime", u."UserId"
FROM "UserToken" AS u
WHERE u."UserId" = @__user_Id_0
LIMIT 1
2024-05-06 17:32:40.058 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:32:40.065 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 8ms reading results.
2024-05-06 17:32:40.065 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 17:32:40.066 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 20:24:05.372 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-06 20:24:05.491 +03:00 [DBG] Hosting starting
2024-05-06 20:24:05.536 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-06 20:24:05.567 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-06 20:24:05.572 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-06 20:24:05.572 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-06 20:24:05.576 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-06 20:24:05.579 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-06 20:24:05.579 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-06 20:24:05.585 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-06 20:24:05.588 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 20:24:05.590 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-06 20:24:05.591 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 20:24:05.594 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-06 20:24:05.596 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-06 20:24:05.597 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-06 20:24:05.597 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-06 20:24:05.680 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-06 20:24:05.680 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-06 20:24:05.680 +03:00 [INF] Hosting environment: Development
2024-05-06 20:24:05.680 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-06 20:24:05.681 +03:00 [DBG] Hosting started
2024-05-06 20:24:05.742 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-06 20:24:05.744 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-06 20:24:05.786 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-06 20:24:05.787 +03:00 [DBG] Request did not match any endpoints
2024-05-06 20:24:05.892 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 20:24:05.929 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-06 20:24:05.952 +03:00 [DBG] Connection ID "18302628934488948739" disconnecting.
2024-05-06 20:24:05.954 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 404 null null 218.5816ms
2024-05-06 20:24:05.959 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 404
2024-05-06 20:24:12.517 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-06 20:24:12.518 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-06 20:24:12.518 +03:00 [DBG] Request did not match any endpoints
2024-05-06 20:24:12.520 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 20:24:12.632 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 114.6211ms
2024-05-06 20:24:12.637 +03:00 [DBG] Connection ID "18158513724938256444" disconnecting.
2024-05-06 20:24:12.985 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-06 20:24:12.985 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-06 20:24:12.985 +03:00 [DBG] Request did not match any endpoints
2024-05-06 20:24:12.986 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 20:24:13.146 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 160.8025ms
2024-05-06 20:24:13.150 +03:00 [DBG] Connection ID "18230571301796315151" disconnecting.
2024-05-06 20:27:23.394 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/login - application/json 39
2024-05-06 20:27:23.397 +03:00 [DBG] 1 candidate(s) found for the request path '/login'
2024-05-06 20:27:23.401 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)' with route pattern 'login' is valid for the request path '/login'
2024-05-06 20:27:23.402 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)'
2024-05-06 20:27:23.402 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 20:27:23.403 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-06 20:27:23.403 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)'
2024-05-06 20:27:23.426 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.TokenDto]]] Login(Diary.Domain.Dto.UserDto.LoginUserDto) on controller Diary.Api.Controllers.AuthController (Diary.Api).
2024-05-06 20:27:23.427 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-06 20:27:23.427 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-06 20:27:23.428 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-06 20:27:23.428 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-06 20:27:23.428 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-06 20:27:23.430 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-06 20:27:23.592 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-06 20:27:24.406 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-06 20:27:24.420 +03:00 [DBG] Creating DbConnection.
2024-05-06 20:27:24.474 +03:00 [DBG] Created DbConnection. (51ms).
2024-05-06 20:27:24.480 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:27:24.610 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:27:24.616 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:27:24.626 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (6ms).
2024-05-06 20:27:24.634 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-06 20:27:24.641 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2024-05-06 20:27:24.642 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (9ms).
2024-05-06 20:27:24.642 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:27:24.671 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:27:24.681 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-06 20:27:24.773 +03:00 [INF] Executed DbCommand (94ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-06 20:27:24.775 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:27:24.778 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-06 20:27:24.892 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-06 20:27:24.896 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' ...
2024-05-06 20:27:24.898 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' using the name '' in request data ...
2024-05-06 20:27:24.899 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-06 20:27:24.910 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.UserDto.LoginUserDto'
2024-05-06 20:27:24.911 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 20:27:24.911 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 20:27:24.911 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' ...
2024-05-06 20:27:24.915 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 20:27:24.921 +03:00 [INF] Executing action method Diary.Api.Controllers.AuthController.Login (Diary.Api) - Validation state: "Valid"
2024-05-06 20:27:29.338 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(x => x.Login == __dto_Login_0)'
2024-05-06 20:27:29.569 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedAt (DateTime) Required, 1], [Property: User.CreatedBy (long) Required, 2], [Property: User.Login (string) Required MaxLength(100), 3], [Property: User.Password (string) Required, 4], [Property: User.UpdatedAt (DateTime?), 5], [Property: User.UpdatedBy (long?), 6] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.CreatedBy, u.Login, u.Password, u.UpdatedAt, u.UpdatedBy
            FROM User AS u
            WHERE u.Login == @__dto_Login_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-06 20:27:29.614 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:27:29.616 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:27:29.617 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-06 20:27:29.617 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-06 20:27:29.622 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-05-06 20:27:29.625 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Login" = @__dto_Login_0
LIMIT 1
2024-05-06 20:27:29.662 +03:00 [INF] Executed DbCommand (39ms) [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Login" = @__dto_Login_0
LIMIT 1
2024-05-06 20:27:29.745 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-06 20:27:29.776 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:27:29.778 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 114ms reading results.
2024-05-06 20:27:29.781 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:27:29.782 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 20:27:30.751 +03:00 [DBG] Compiling query expression: 
'DbSet<UserToken>()
    .FirstOrDefault(x => x.UserId == __user_Id_0)'
2024-05-06 20:27:30.754 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserToken>(
    asyncEnumerable: new SingleQueryingEnumerable<UserToken>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserToken.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserToken.RefreshToken (string) Required, 1], [Property: UserToken.RefreshTokenExpiryTime (DateTime) Required, 2], [Property: UserToken.UserId (long) Required FK Index, 3] }
            SELECT TOP(1) u.Id, u.RefreshToken, u.RefreshTokenExpiryTime, u.UserId
            FROM UserToken AS u
            WHERE u.UserId == @__user_Id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserToken>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-06 20:27:30.755 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:27:30.755 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:27:30.755 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-06 20:27:30.756 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-06 20:27:30.756 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-06 20:27:30.756 +03:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."RefreshToken", u."RefreshTokenExpiryTime", u."UserId"
FROM "UserToken" AS u
WHERE u."UserId" = @__user_Id_0
LIMIT 1
2024-05-06 20:27:30.771 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__user_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."RefreshToken", u."RefreshTokenExpiryTime", u."UserId"
FROM "UserToken" AS u
WHERE u."UserId" = @__user_Id_0
LIMIT 1
2024-05-06 20:27:30.781 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:27:30.788 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 7ms reading results.
2024-05-06 20:27:30.789 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:27:30.790 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (1ms).
2024-05-06 20:28:14.325 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-06 20:28:14.462 +03:00 [DBG] Hosting starting
2024-05-06 20:28:14.513 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-06 20:28:14.547 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-06 20:28:14.551 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-06 20:28:14.552 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-06 20:28:14.555 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-06 20:28:14.559 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-06 20:28:14.559 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-06 20:28:14.566 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-06 20:28:14.570 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 20:28:14.574 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-06 20:28:14.575 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 20:28:14.582 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-06 20:28:14.585 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-06 20:28:14.587 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-06 20:28:14.589 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-06 20:28:14.720 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-06 20:28:14.721 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-06 20:28:14.721 +03:00 [INF] Hosting environment: Development
2024-05-06 20:28:14.721 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-06 20:28:14.722 +03:00 [DBG] Hosting started
2024-05-06 20:28:14.806 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-06 20:28:14.810 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-06 20:28:14.868 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-06 20:28:14.868 +03:00 [DBG] Request did not match any endpoints
2024-05-06 20:28:14.979 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 20:28:15.025 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-06 20:28:15.054 +03:00 [DBG] Connection ID "18374686502757072965" disconnecting.
2024-05-06 20:28:15.057 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 404 null null 261.6398ms
2024-05-06 20:28:15.062 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 404
2024-05-06 20:28:18.420 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-06 20:28:18.421 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-06 20:28:18.421 +03:00 [DBG] Request did not match any endpoints
2024-05-06 20:28:18.423 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 20:28:18.519 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 97.7941ms
2024-05-06 20:28:18.523 +03:00 [DBG] Connection ID "18302628930193981484" disconnecting.
2024-05-06 20:28:18.772 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-06 20:28:18.773 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-06 20:28:18.773 +03:00 [DBG] Request did not match any endpoints
2024-05-06 20:28:18.774 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 20:28:18.925 +03:00 [DBG] Connection ID "18374686481282236542" disconnecting.
2024-05-06 20:28:18.925 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 152.6357ms
2024-05-06 20:28:40.005 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/login - application/json 39
2024-05-06 20:28:40.008 +03:00 [DBG] 1 candidate(s) found for the request path '/login'
2024-05-06 20:28:40.012 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)' with route pattern 'login' is valid for the request path '/login'
2024-05-06 20:28:40.012 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)'
2024-05-06 20:28:40.013 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 20:28:40.013 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-06 20:28:40.014 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)'
2024-05-06 20:28:40.036 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.TokenDto]]] Login(Diary.Domain.Dto.UserDto.LoginUserDto) on controller Diary.Api.Controllers.AuthController (Diary.Api).
2024-05-06 20:28:40.037 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-06 20:28:40.037 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-06 20:28:40.038 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-06 20:28:40.038 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-06 20:28:40.038 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-06 20:28:40.040 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-06 20:28:40.216 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-06 20:28:41.038 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-06 20:28:41.051 +03:00 [DBG] Creating DbConnection.
2024-05-06 20:28:41.105 +03:00 [DBG] Created DbConnection. (51ms).
2024-05-06 20:28:41.111 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:28:41.243 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:28:41.253 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:28:41.263 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (6ms).
2024-05-06 20:28:41.271 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-06 20:28:41.278 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2024-05-06 20:28:41.280 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (9ms).
2024-05-06 20:28:41.280 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:28:41.322 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:28:41.332 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-06 20:28:41.421 +03:00 [INF] Executed DbCommand (92ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-06 20:28:41.423 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:28:41.426 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-06 20:38:35.773 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-06 20:38:35.904 +03:00 [DBG] Hosting starting
2024-05-06 20:38:35.958 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-06 20:38:35.992 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-06 20:38:35.997 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-06 20:38:35.998 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-06 20:38:36.001 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-06 20:38:36.005 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-06 20:38:36.005 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-06 20:38:36.011 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-06 20:38:36.014 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 20:38:36.017 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-06 20:38:36.018 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 20:38:36.022 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-06 20:38:36.023 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-06 20:38:36.024 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-06 20:38:36.025 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-06 20:38:36.108 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-06 20:38:36.113 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-06 20:38:36.113 +03:00 [INF] Hosting environment: Development
2024-05-06 20:38:36.113 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-06 20:38:36.113 +03:00 [DBG] Hosting started
2024-05-06 20:38:36.162 +03:00 [DBG] Connection ID "18302628917309079593" disconnecting.
2024-05-06 20:38:36.181 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-06 20:38:36.181 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-06 20:38:36.184 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-06 20:38:36.184 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-06 20:38:36.236 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-06 20:38:36.236 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-06 20:38:36.236 +03:00 [DBG] Request did not match any endpoints
2024-05-06 20:38:36.237 +03:00 [DBG] Request did not match any endpoints
2024-05-06 20:38:36.373 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 20:38:36.373 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 20:38:36.434 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-06 20:38:36.437 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 499 null null 262.3889ms
2024-05-06 20:38:36.440 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 499
2024-05-06 20:38:36.549 +03:00 [DBG] Connection ID "18302628917309079595" disconnecting.
2024-05-06 20:38:36.549 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 374.8776ms
2024-05-06 20:38:36.767 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-06 20:38:36.768 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-06 20:38:36.768 +03:00 [DBG] Request did not match any endpoints
2024-05-06 20:38:36.769 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 20:38:36.930 +03:00 [DBG] Connection ID "18374686498462105728" disconnecting.
2024-05-06 20:38:36.930 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 163.3223ms
2024-05-06 20:38:45.498 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/login - application/json 39
2024-05-06 20:38:45.502 +03:00 [DBG] 1 candidate(s) found for the request path '/login'
2024-05-06 20:38:45.506 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)' with route pattern 'login' is valid for the request path '/login'
2024-05-06 20:38:45.507 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)'
2024-05-06 20:38:45.507 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 20:38:45.508 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-06 20:38:45.508 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)'
2024-05-06 20:38:45.532 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.TokenDto]]] Login(Diary.Domain.Dto.UserDto.LoginUserDto) on controller Diary.Api.Controllers.AuthController (Diary.Api).
2024-05-06 20:38:45.533 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-06 20:38:45.534 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-06 20:38:45.535 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-06 20:38:45.535 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-06 20:38:45.535 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-06 20:38:45.536 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-06 20:38:45.719 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-06 20:38:46.614 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-06 20:38:46.628 +03:00 [DBG] Creating DbConnection.
2024-05-06 20:38:46.683 +03:00 [DBG] Created DbConnection. (52ms).
2024-05-06 20:38:46.689 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:38:46.816 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:38:46.823 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:38:46.834 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (6ms).
2024-05-06 20:38:46.841 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-06 20:38:46.848 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2024-05-06 20:38:46.850 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (9ms).
2024-05-06 20:38:46.850 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:38:46.875 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:38:46.885 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-06 20:38:46.975 +03:00 [INF] Executed DbCommand (92ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-06 20:38:46.977 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:38:46.980 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-06 20:39:07.403 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-06 20:39:07.408 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' ...
2024-05-06 20:39:07.410 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' using the name '' in request data ...
2024-05-06 20:39:07.411 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-06 20:39:07.423 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.UserDto.LoginUserDto'
2024-05-06 20:39:07.423 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 20:39:07.423 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 20:39:07.424 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' ...
2024-05-06 20:39:07.428 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 20:39:07.433 +03:00 [INF] Executing action method Diary.Api.Controllers.AuthController.Login (Diary.Api) - Validation state: "Valid"
2024-05-06 20:39:12.323 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(x => x.Login == __dto_Login_0)'
2024-05-06 20:39:12.545 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedAt (DateTime) Required, 1], [Property: User.CreatedBy (long) Required, 2], [Property: User.Login (string) Required MaxLength(100), 3], [Property: User.Password (string) Required, 4], [Property: User.UpdatedAt (DateTime?), 5], [Property: User.UpdatedBy (long?), 6] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.CreatedBy, u.Login, u.Password, u.UpdatedAt, u.UpdatedBy
            FROM User AS u
            WHERE u.Login == @__dto_Login_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-06 20:39:12.581 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:39:12.582 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:39:12.583 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-06 20:39:12.583 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-06 20:39:12.587 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-05-06 20:39:12.590 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Login" = @__dto_Login_0
LIMIT 1
2024-05-06 20:39:12.624 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Login" = @__dto_Login_0
LIMIT 1
2024-05-06 20:39:12.703 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-06 20:39:12.732 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:39:12.734 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 107ms reading results.
2024-05-06 20:39:12.737 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:39:12.738 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 20:39:18.702 +03:00 [DBG] Compiling query expression: 
'DbSet<UserToken>()
    .FirstOrDefault(x => x.UserId == __user_Id_0)'
2024-05-06 20:39:18.707 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserToken>(
    asyncEnumerable: new SingleQueryingEnumerable<UserToken>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserToken.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserToken.RefreshToken (string) Required, 1], [Property: UserToken.RefreshTokenExpiryTime (DateTime) Required, 2], [Property: UserToken.UserId (long) Required FK Index, 3] }
            SELECT TOP(1) u.Id, u.RefreshToken, u.RefreshTokenExpiryTime, u.UserId
            FROM UserToken AS u
            WHERE u.UserId == @__user_Id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserToken>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-06 20:39:18.708 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:39:18.708 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:39:18.708 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-06 20:39:18.708 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-06 20:39:18.709 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-06 20:39:18.709 +03:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."RefreshToken", u."RefreshTokenExpiryTime", u."UserId"
FROM "UserToken" AS u
WHERE u."UserId" = @__user_Id_0
LIMIT 1
2024-05-06 20:39:18.723 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__user_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."RefreshToken", u."RefreshTokenExpiryTime", u."UserId"
FROM "UserToken" AS u
WHERE u."UserId" = @__user_Id_0
LIMIT 1
2024-05-06 20:39:18.739 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:39:18.740 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 8ms reading results.
2024-05-06 20:39:18.741 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:39:18.742 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 20:40:19.677 +03:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'UserToken.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-06 20:40:19.698 +03:00 [DBG] The navigation 'UserToken.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-06 20:40:19.705 +03:00 [DBG] The navigation 'User.UserToken' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-06 20:40:19.707 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'UserToken' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-06 20:40:19.711 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-05-06 20:40:19.715 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-06 20:40:19.732 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-06 20:40:19.735 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-06 20:40:19.736 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-06 20:40:19.798 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:40:19.798 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:40:19.800 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-06 20:40:19.800 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-06 20:40:19.800 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-06 20:40:19.801 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserToken" ("RefreshToken", "RefreshTokenExpiryTime", "UserId")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2024-05-06 20:40:19.813 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserToken" ("RefreshToken", "RefreshTokenExpiryTime", "UserId")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2024-05-06 20:40:19.849 +03:00 [DBG] The foreign key property 'UserToken.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-06 20:40:19.853 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:40:19.853 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 40ms reading results.
2024-05-06 20:40:19.854 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:40:19.854 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 20:40:19.865 +03:00 [DBG] An entity of type 'UserToken' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-06 20:40:19.867 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-05-06 20:40:43.734 +03:00 [INF] Executed action method Diary.Api.Controllers.AuthController.Login (Diary.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 96297.3961ms.
2024-05-06 20:40:43.741 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-06 20:40:43.744 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-06 20:40:43.744 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-06 20:40:43.745 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-06 20:40:43.745 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-06 20:40:43.745 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-06 20:40:43.746 +03:00 [INF] Executing OkObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.TokenDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-06 20:40:43.760 +03:00 [INF] Executed action Diary.Api.Controllers.AuthController.Login (Diary.Api) in 118221.5806ms
2024-05-06 20:40:43.761 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)'
2024-05-06 20:40:43.767 +03:00 [DBG] Connection ID "18374686498462105730" disconnecting.
2024-05-06 20:40:43.769 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-06 20:40:43.773 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:40:43.775 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (1ms).
2024-05-06 20:40:43.775 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44308/login - 200 null application/json; charset=utf-8 118276.8173ms
2024-05-06 20:41:14.904 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/reports/1?api-version=1 - null null
2024-05-06 20:41:14.913 +03:00 [DBG] 1 candidate(s) found for the request path '/reports/1'
2024-05-06 20:41:14.914 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api)' with route pattern 'reports/{userId:long}' is valid for the request path '/reports/1'
2024-05-06 20:41:14.919 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api)'
2024-05-06 20:41:15.010 +03:00 [DBG] Successfully validated the token.
2024-05-06 20:41:15.013 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-06 20:41:15.019 +03:00 [DBG] Authorization was successful.
2024-05-06 20:41:15.020 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-06 20:41:15.020 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api)'
2024-05-06 20:41:15.026 +03:00 [INF] Route matched with {action = "GetReports", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.CollectionResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] GetReportsAsync(Int64) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-06 20:41:15.026 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-06 20:41:15.026 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-06 20:41:15.026 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-06 20:41:15.026 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-06 20:41:15.026 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-06 20:41:15.026 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-06 20:41:15.058 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-06 20:41:15.060 +03:00 [DBG] Creating DbConnection.
2024-05-06 20:41:15.060 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-06 20:41:15.060 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:41:15.071 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:41:15.071 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:41:15.071 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 20:41:15.072 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-06 20:41:15.072 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-05-06 20:41:15.072 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-05-06 20:41:15.072 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:41:15.072 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:41:15.072 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-06 20:41:15.074 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-06 20:41:15.075 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:41:15.075 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 20:41:15.076 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-06 20:41:15.076 +03:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int64' ...
2024-05-06 20:41:15.077 +03:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int64' using the name 'userId' in request data ...
2024-05-06 20:41:15.078 +03:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int64'.
2024-05-06 20:41:15.078 +03:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int64'.
2024-05-06 20:41:15.078 +03:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Int64' ...
2024-05-06 20:41:15.078 +03:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Int64'.
2024-05-06 20:41:15.078 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api) - Validation state: "Valid"
2024-05-06 20:41:15.087 +03:00 [DBG] Compiling query expression: 
'DbSet<Report>()
    .Where(x => x.UserId == __userId_0)
    .Select(x => new ReportDto(
        x.Id, 
        x.Name, 
        x.Description, 
        x.CreatedAt.ToLongDateString()
    ))'
2024-05-06 20:41:15.146 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ReportDto>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
        SELECT r.Id, r.Name, r.Description, r.CreatedAt
        FROM Report AS r
        WHERE r.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ReportDto>, 
    Diary.DAL.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-05-06 20:41:15.147 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:41:15.147 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:41:15.147 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-06 20:41:15.148 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-06 20:41:15.148 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-06 20:41:15.148 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name", r."Description", r."CreatedAt"
FROM "Report" AS r
WHERE r."UserId" = @__userId_0
2024-05-06 20:41:15.151 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name", r."Description", r."CreatedAt"
FROM "Report" AS r
WHERE r."UserId" = @__userId_0
2024-05-06 20:41:15.155 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:41:15.156 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 4ms reading results.
2024-05-06 20:41:15.156 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:41:15.156 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 20:41:15.157 +03:00 [INF] Executed action method Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 79.0609ms.
2024-05-06 20:41:15.158 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-06 20:41:15.159 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-06 20:41:15.159 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-06 20:41:15.159 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-06 20:41:15.159 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-06 20:41:15.159 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-06 20:41:15.159 +03:00 [INF] Executing OkObjectResult, writing value of type 'Diary.Domain.Result.CollectionResult`1[[Diary.Domain.Dto.ReportDto.ReportDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-06 20:41:15.171 +03:00 [INF] Executed action Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api) in 144.8087ms
2024-05-06 20:41:15.171 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api)'
2024-05-06 20:41:15.171 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-06 20:41:15.172 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:41:15.172 +03:00 [DBG] Connection ID "18374686524231909465" disconnecting.
2024-05-06 20:41:15.172 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 20:41:15.172 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/reports/1?api-version=1 - 200 null application/json; charset=utf-8 267.7263ms
2024-05-06 20:41:34.040 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/reports/1?api-version=1 - null null
2024-05-06 20:41:34.041 +03:00 [DBG] 1 candidate(s) found for the request path '/reports/1'
2024-05-06 20:41:34.041 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api)' with route pattern 'reports/{userId:long}' is valid for the request path '/reports/1'
2024-05-06 20:41:34.041 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api)'
2024-05-06 20:41:34.041 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 20:41:34.043 +03:00 [DBG] Policy authentication schemes  did not succeed
2024-05-06 20:41:34.044 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-05-06 20:41:34.049 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-05-06 20:41:34.050 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/reports/1?api-version=1 - 401 null null 9.48ms
2024-05-06 20:41:34.050 +03:00 [DBG] Connection ID "18158513724938256446" disconnecting.
2024-05-06 20:41:40.582 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/reports/1?api-version=1 - null null
2024-05-06 20:41:40.582 +03:00 [DBG] 1 candidate(s) found for the request path '/reports/1'
2024-05-06 20:41:40.582 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api)' with route pattern 'reports/{userId:long}' is valid for the request path '/reports/1'
2024-05-06 20:41:40.582 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api)'
2024-05-06 20:41:40.582 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 20:41:40.582 +03:00 [DBG] Policy authentication schemes  did not succeed
2024-05-06 20:41:40.582 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-05-06 20:41:40.583 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-05-06 20:41:40.583 +03:00 [DBG] Connection ID "18374686515641974906" disconnecting.
2024-05-06 20:41:40.583 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/reports/1?api-version=1 - 401 null null 1.8456ms
2024-05-06 20:41:47.927 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/reports/1?api-version=1 - null null
2024-05-06 20:41:47.927 +03:00 [DBG] 1 candidate(s) found for the request path '/reports/1'
2024-05-06 20:41:47.927 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api)' with route pattern 'reports/{userId:long}' is valid for the request path '/reports/1'
2024-05-06 20:41:47.927 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api)'
2024-05-06 20:41:47.929 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-05-06 20:41:47.930 +03:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-05-06 20:41:47.930 +03:00 [DBG] Policy authentication schemes  did not succeed
2024-05-06 20:41:47.930 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-05-06 20:41:47.931 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-05-06 20:41:47.932 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/reports/1?api-version=1 - 401 null null 5.6013ms
2024-05-06 20:41:47.937 +03:00 [DBG] Connection ID "18374686515641974908" disconnecting.
2024-05-06 20:41:53.723 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/reports/1?api-version=1 - null null
2024-05-06 20:41:53.724 +03:00 [DBG] 1 candidate(s) found for the request path '/reports/1'
2024-05-06 20:41:53.724 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api)' with route pattern 'reports/{userId:long}' is valid for the request path '/reports/1'
2024-05-06 20:41:53.724 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api)'
2024-05-06 20:41:53.728 +03:00 [DBG] Successfully validated the token.
2024-05-06 20:41:53.728 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-05-06 20:41:53.729 +03:00 [DBG] Authorization was successful.
2024-05-06 20:41:53.729 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-06 20:41:53.729 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api)'
2024-05-06 20:41:53.729 +03:00 [INF] Route matched with {action = "GetReports", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.CollectionResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] GetReportsAsync(Int64) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-06 20:41:53.729 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-06 20:41:53.729 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-06 20:41:53.729 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-06 20:41:53.729 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-06 20:41:53.730 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-06 20:41:53.730 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-06 20:41:53.753 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-06 20:41:53.756 +03:00 [DBG] Creating DbConnection.
2024-05-06 20:41:53.756 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-06 20:41:53.756 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:41:53.771 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:41:53.771 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:41:53.771 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 20:41:53.771 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-06 20:41:53.771 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-05-06 20:41:53.771 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-05-06 20:41:53.772 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:41:53.772 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:41:53.772 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-06 20:41:53.774 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-06 20:41:53.774 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:41:53.774 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 20:41:53.775 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-06 20:41:53.776 +03:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int64' ...
2024-05-06 20:41:53.776 +03:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int64' using the name 'userId' in request data ...
2024-05-06 20:41:53.776 +03:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int64'.
2024-05-06 20:41:53.776 +03:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int64'.
2024-05-06 20:41:53.776 +03:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Int64' ...
2024-05-06 20:41:53.776 +03:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Int64'.
2024-05-06 20:41:53.776 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api) - Validation state: "Valid"
2024-05-06 20:41:53.779 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:41:53.779 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:41:53.780 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-06 20:41:53.780 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-06 20:41:53.780 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-06 20:41:53.780 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name", r."Description", r."CreatedAt"
FROM "Report" AS r
WHERE r."UserId" = @__userId_0
2024-05-06 20:41:53.782 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name", r."Description", r."CreatedAt"
FROM "Report" AS r
WHERE r."UserId" = @__userId_0
2024-05-06 20:41:53.784 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:41:53.784 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 0ms reading results.
2024-05-06 20:41:53.785 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:41:53.785 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 20:41:53.786 +03:00 [INF] Executed action method Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 9.351ms.
2024-05-06 20:41:53.790 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-06 20:41:53.793 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-06 20:41:53.794 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-06 20:41:53.794 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-06 20:41:53.794 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-06 20:41:53.794 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-06 20:41:53.794 +03:00 [INF] Executing OkObjectResult, writing value of type 'Diary.Domain.Result.CollectionResult`1[[Diary.Domain.Dto.ReportDto.ReportDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-06 20:41:53.795 +03:00 [INF] Executed action Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api) in 64.9811ms
2024-05-06 20:41:53.795 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api)'
2024-05-06 20:41:53.795 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-06 20:41:53.795 +03:00 [DBG] Connection ID "18374686502757072967" disconnecting.
2024-05-06 20:41:53.795 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:41:53.795 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 20:41:53.795 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/reports/1?api-version=1 - 200 null application/json; charset=utf-8 72.0677ms
2024-05-06 20:46:33.909 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-06 20:46:34.057 +03:00 [DBG] Hosting starting
2024-05-06 20:46:34.111 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-06 20:46:34.147 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-06 20:46:34.152 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-06 20:46:34.153 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-06 20:46:34.157 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-06 20:46:34.162 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-06 20:46:34.162 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-06 20:46:34.168 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-06 20:46:34.172 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 20:46:34.176 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-06 20:46:34.178 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 20:46:34.183 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-06 20:46:34.185 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-06 20:46:34.187 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-06 20:46:34.188 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-06 20:46:34.277 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-06 20:46:34.286 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-06 20:46:34.286 +03:00 [INF] Hosting environment: Development
2024-05-06 20:46:34.286 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-06 20:46:34.286 +03:00 [DBG] Hosting started
2024-05-06 20:46:34.328 +03:00 [DBG] Connection ID "18374686498462105732" disconnecting.
2024-05-06 20:46:34.346 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-06 20:46:34.346 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-06 20:46:34.349 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-06 20:46:34.349 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-06 20:46:34.404 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-06 20:46:34.404 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-06 20:46:34.404 +03:00 [DBG] Request did not match any endpoints
2024-05-06 20:46:34.405 +03:00 [DBG] Request did not match any endpoints
2024-05-06 20:46:34.532 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 20:46:34.532 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 20:46:34.576 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-06 20:46:34.580 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 499 null null 242.1745ms
2024-05-06 20:46:34.584 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 499
2024-05-06 20:46:34.691 +03:00 [DBG] Connection ID "18374686524231909467" disconnecting.
2024-05-06 20:46:34.691 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 353.7076ms
2024-05-06 20:46:34.908 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-06 20:46:34.908 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-06 20:46:34.908 +03:00 [DBG] Request did not match any endpoints
2024-05-06 20:46:34.910 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 20:46:35.067 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 159.1913ms
2024-05-06 20:46:35.070 +03:00 [DBG] Connection ID "18374686481282236544" disconnecting.
2024-05-06 20:51:35.311 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-06 20:51:35.452 +03:00 [DBG] Hosting starting
2024-05-06 20:51:35.500 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-06 20:51:35.530 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-06 20:51:35.534 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-06 20:51:35.535 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-06 20:51:35.538 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-06 20:51:35.541 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-06 20:51:35.541 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-06 20:51:35.547 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-06 20:51:35.550 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 20:51:35.552 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-06 20:51:35.553 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 20:51:35.557 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-06 20:51:35.558 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-06 20:51:35.559 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-06 20:51:35.559 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-06 20:51:35.641 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-06 20:51:35.649 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-06 20:51:35.650 +03:00 [INF] Hosting environment: Development
2024-05-06 20:51:35.650 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-06 20:51:35.650 +03:00 [DBG] Hosting started
2024-05-06 20:51:35.691 +03:00 [DBG] Connection ID "18158513724938256448" disconnecting.
2024-05-06 20:51:35.709 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-06 20:51:35.709 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-06 20:51:35.712 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-06 20:51:35.712 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-06 20:51:35.762 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-06 20:51:35.762 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-06 20:51:35.763 +03:00 [DBG] Request did not match any endpoints
2024-05-06 20:51:35.763 +03:00 [DBG] Request did not match any endpoints
2024-05-06 20:51:35.886 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 20:51:35.886 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 20:51:35.925 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-06 20:51:35.928 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 499 null null 225.8986ms
2024-05-06 20:51:35.932 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 499
2024-05-06 20:51:36.038 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 333.3465ms
2024-05-06 20:51:36.038 +03:00 [DBG] Connection ID "18302628895834243113" disconnecting.
2024-05-06 20:51:36.239 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-06 20:51:36.240 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-06 20:51:36.241 +03:00 [DBG] Request did not match any endpoints
2024-05-06 20:51:36.242 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 20:51:36.400 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 161.0145ms
2024-05-06 20:51:36.404 +03:00 [DBG] Connection ID "18302628895834243115" disconnecting.
2024-05-06 20:51:42.490 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/login - application/json 39
2024-05-06 20:51:42.493 +03:00 [DBG] 1 candidate(s) found for the request path '/login'
2024-05-06 20:51:42.499 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)' with route pattern 'login' is valid for the request path '/login'
2024-05-06 20:51:42.500 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)'
2024-05-06 20:51:42.501 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 20:51:42.501 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-06 20:51:42.502 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)'
2024-05-06 20:51:42.525 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.TokenDto]]] Login(Diary.Domain.Dto.UserDto.LoginUserDto) on controller Diary.Api.Controllers.AuthController (Diary.Api).
2024-05-06 20:51:42.526 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-06 20:51:42.527 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-06 20:51:42.527 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-06 20:51:42.527 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-06 20:51:42.528 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-06 20:51:42.529 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-06 20:51:42.699 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-06 20:51:43.507 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-06 20:51:43.520 +03:00 [DBG] Creating DbConnection.
2024-05-06 20:51:43.570 +03:00 [DBG] Created DbConnection. (48ms).
2024-05-06 20:51:43.577 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:51:43.696 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:51:43.703 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:51:43.714 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (6ms).
2024-05-06 20:51:43.722 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-06 20:51:43.728 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2024-05-06 20:51:43.730 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (9ms).
2024-05-06 20:51:43.730 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:51:43.761 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:51:43.771 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-06 20:51:43.861 +03:00 [INF] Executed DbCommand (91ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-06 20:51:43.864 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:51:43.866 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-06 20:51:56.511 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-06 20:51:56.516 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' ...
2024-05-06 20:51:56.518 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' using the name '' in request data ...
2024-05-06 20:51:56.519 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-06 20:51:56.530 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.UserDto.LoginUserDto'
2024-05-06 20:51:56.531 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 20:51:56.531 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 20:51:56.531 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' ...
2024-05-06 20:51:56.536 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 20:51:56.542 +03:00 [INF] Executing action method Diary.Api.Controllers.AuthController.Login (Diary.Api) - Validation state: "Valid"
2024-05-06 20:51:56.620 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(x => x.Login == __dto_Login_0)'
2024-05-06 20:51:56.824 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedAt (DateTime) Required, 1], [Property: User.CreatedBy (long) Required, 2], [Property: User.Login (string) Required MaxLength(100), 3], [Property: User.Password (string) Required, 4], [Property: User.UpdatedAt (DateTime?), 5], [Property: User.UpdatedBy (long?), 6] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.CreatedBy, u.Login, u.Password, u.UpdatedAt, u.UpdatedBy
            FROM User AS u
            WHERE u.Login == @__dto_Login_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-06 20:51:56.861 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:51:56.863 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:51:56.863 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-06 20:51:56.863 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-06 20:51:56.869 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-05-06 20:51:56.872 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Login" = @__dto_Login_0
LIMIT 1
2024-05-06 20:51:56.905 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Login" = @__dto_Login_0
LIMIT 1
2024-05-06 20:51:56.946 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-06 20:51:56.976 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:51:56.977 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 70ms reading results.
2024-05-06 20:51:56.981 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:51:56.981 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 20:51:56.984 +03:00 [DBG] Compiling query expression: 
'DbSet<UserToken>()
    .FirstOrDefault(x => x.UserId == __user_Id_0)'
2024-05-06 20:51:56.987 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserToken>(
    asyncEnumerable: new SingleQueryingEnumerable<UserToken>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserToken.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserToken.RefreshToken (string) Required, 1], [Property: UserToken.RefreshTokenExpiryTime (DateTime) Required, 2], [Property: UserToken.UserId (long) Required FK Index, 3] }
            SELECT TOP(1) u.Id, u.RefreshToken, u.RefreshTokenExpiryTime, u.UserId
            FROM UserToken AS u
            WHERE u.UserId == @__user_Id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserToken>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-06 20:51:56.988 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:51:56.988 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:51:56.988 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-06 20:51:56.988 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-06 20:51:56.988 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-06 20:51:56.988 +03:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."RefreshToken", u."RefreshTokenExpiryTime", u."UserId"
FROM "UserToken" AS u
WHERE u."UserId" = @__user_Id_0
LIMIT 1
2024-05-06 20:51:56.992 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."RefreshToken", u."RefreshTokenExpiryTime", u."UserId"
FROM "UserToken" AS u
WHERE u."UserId" = @__user_Id_0
LIMIT 1
2024-05-06 20:51:57.014 +03:00 [DBG] The navigation 'User.UserToken' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-06 20:51:57.016 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'UserToken' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-06 20:51:57.019 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:51:57.019 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 26ms reading results.
2024-05-06 20:51:57.019 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:51:57.019 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 20:51:57.068 +03:00 [DBG] An entity of type 'UserToken' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-06 20:51:57.071 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-05-06 20:51:57.074 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-06 20:51:57.094 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-06 20:51:57.097 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-06 20:51:57.097 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-06 20:51:57.168 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:51:57.168 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:51:57.170 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-06 20:51:57.170 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-06 20:51:57.170 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-06 20:51:57.170 +03:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int64), @p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
UPDATE "UserToken" SET "RefreshToken" = @p0, "RefreshTokenExpiryTime" = @p1, "UserId" = @p2
WHERE "Id" = @p3;
2024-05-06 20:51:57.179 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p3='?' (DbType = Int64), @p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
UPDATE "UserToken" SET "RefreshToken" = @p0, "RefreshTokenExpiryTime" = @p1, "UserId" = @p2
WHERE "Id" = @p3;
2024-05-06 20:51:57.183 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:51:57.183 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 3ms reading results.
2024-05-06 20:51:57.184 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:51:57.184 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 20:51:57.187 +03:00 [DBG] An entity of type 'UserToken' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-06 20:51:57.189 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-05-06 20:51:57.196 +03:00 [INF] Executed action method Diary.Api.Controllers.AuthController.Login (Diary.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 650.5481ms.
2024-05-06 20:51:57.202 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-06 20:51:57.205 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-06 20:51:57.205 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-06 20:51:57.205 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-06 20:51:57.206 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-06 20:51:57.206 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-06 20:51:57.206 +03:00 [INF] Executing OkObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.TokenDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-06 20:51:57.216 +03:00 [INF] Executed action Diary.Api.Controllers.AuthController.Login (Diary.Api) in 14685.0501ms
2024-05-06 20:51:57.216 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)'
2024-05-06 20:51:57.222 +03:00 [DBG] Connection ID "18374686524231909469" disconnecting.
2024-05-06 20:51:57.223 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-06 20:51:57.227 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:51:57.229 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (1ms).
2024-05-06 20:51:57.229 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44308/login - 200 null application/json; charset=utf-8 14739.5077ms
2024-05-06 20:52:40.464 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-06 20:52:40.569 +03:00 [DBG] Hosting starting
2024-05-06 20:52:40.613 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-06 20:52:40.646 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-06 20:52:40.651 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-06 20:52:40.651 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-06 20:52:40.655 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-06 20:52:40.659 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-06 20:52:40.659 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-06 20:52:40.665 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-06 20:52:40.668 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 20:52:40.671 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-06 20:52:40.672 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 20:52:40.676 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-06 20:52:40.677 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-06 20:52:40.678 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-06 20:52:40.678 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-06 20:52:40.754 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-06 20:52:40.754 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-06 20:52:40.755 +03:00 [INF] Hosting environment: Development
2024-05-06 20:52:40.755 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-06 20:52:40.755 +03:00 [DBG] Hosting started
2024-05-06 20:52:40.816 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-06 20:52:40.819 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-06 20:52:40.861 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-06 20:52:40.862 +03:00 [DBG] Request did not match any endpoints
2024-05-06 20:52:40.964 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 20:52:41.002 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-06 20:52:41.026 +03:00 [DBG] Connection ID "18374686511347007533" disconnecting.
2024-05-06 20:52:41.028 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 404 null null 216.6578ms
2024-05-06 20:52:41.031 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 404
2024-05-06 20:52:42.501 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-06 20:52:42.501 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-06 20:52:42.501 +03:00 [DBG] Request did not match any endpoints
2024-05-06 20:52:42.503 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 20:52:42.601 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 99.3595ms
2024-05-06 20:52:42.604 +03:00 [DBG] Connection ID "18374686524231909471" disconnecting.
2024-05-06 20:52:42.827 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-06 20:52:42.827 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-06 20:52:42.827 +03:00 [DBG] Request did not match any endpoints
2024-05-06 20:52:42.828 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 20:52:42.976 +03:00 [DBG] Connection ID "18374686498462105735" disconnecting.
2024-05-06 20:52:42.976 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 149.6082ms
2024-05-06 20:52:48.240 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/login - application/json 39
2024-05-06 20:52:48.244 +03:00 [DBG] 1 candidate(s) found for the request path '/login'
2024-05-06 20:52:48.248 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)' with route pattern 'login' is valid for the request path '/login'
2024-05-06 20:52:48.248 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)'
2024-05-06 20:52:48.249 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 20:52:48.250 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-06 20:52:48.251 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)'
2024-05-06 20:52:48.273 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.TokenDto]]] Login(Diary.Domain.Dto.UserDto.LoginUserDto) on controller Diary.Api.Controllers.AuthController (Diary.Api).
2024-05-06 20:52:48.274 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-06 20:52:48.274 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-06 20:52:48.275 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-06 20:52:48.275 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-06 20:52:48.275 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-06 20:52:48.277 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-06 20:52:48.450 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-06 20:52:49.338 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-06 20:52:49.351 +03:00 [DBG] Creating DbConnection.
2024-05-06 20:52:49.403 +03:00 [DBG] Created DbConnection. (49ms).
2024-05-06 20:52:49.409 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:52:49.523 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:52:49.530 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:52:49.540 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (6ms).
2024-05-06 20:52:49.548 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-06 20:52:49.554 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2024-05-06 20:52:49.556 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (8ms).
2024-05-06 20:52:49.556 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:52:49.590 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:52:49.600 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-06 20:52:49.689 +03:00 [INF] Executed DbCommand (91ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-06 20:52:49.691 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:52:49.694 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-06 20:52:53.187 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-06 20:52:53.192 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' ...
2024-05-06 20:52:53.194 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' using the name '' in request data ...
2024-05-06 20:52:53.195 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-06 20:52:53.206 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.UserDto.LoginUserDto'
2024-05-06 20:52:53.207 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 20:52:53.207 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 20:52:53.207 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' ...
2024-05-06 20:52:53.212 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-06 20:52:53.217 +03:00 [INF] Executing action method Diary.Api.Controllers.AuthController.Login (Diary.Api) - Validation state: "Valid"
2024-05-06 20:52:53.300 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(x => x.Login == __dto_Login_0)'
2024-05-06 20:52:53.523 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedAt (DateTime) Required, 1], [Property: User.CreatedBy (long) Required, 2], [Property: User.Login (string) Required MaxLength(100), 3], [Property: User.Password (string) Required, 4], [Property: User.UpdatedAt (DateTime?), 5], [Property: User.UpdatedBy (long?), 6] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.CreatedBy, u.Login, u.Password, u.UpdatedAt, u.UpdatedBy
            FROM User AS u
            WHERE u.Login == @__dto_Login_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-06 20:52:53.561 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:52:53.563 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:52:53.563 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-06 20:52:53.564 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-06 20:52:53.568 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-05-06 20:52:53.571 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Login" = @__dto_Login_0
LIMIT 1
2024-05-06 20:52:53.598 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Login" = @__dto_Login_0
LIMIT 1
2024-05-06 20:52:53.640 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-06 20:52:53.669 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:52:53.670 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 69ms reading results.
2024-05-06 20:52:53.673 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:52:53.674 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 20:52:53.676 +03:00 [DBG] Compiling query expression: 
'DbSet<UserToken>()
    .FirstOrDefault(x => x.UserId == __user_Id_0)'
2024-05-06 20:52:53.679 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserToken>(
    asyncEnumerable: new SingleQueryingEnumerable<UserToken>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserToken.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserToken.RefreshToken (string) Required, 1], [Property: UserToken.RefreshTokenExpiryTime (DateTime) Required, 2], [Property: UserToken.UserId (long) Required FK Index, 3] }
            SELECT TOP(1) u.Id, u.RefreshToken, u.RefreshTokenExpiryTime, u.UserId
            FROM UserToken AS u
            WHERE u.UserId == @__user_Id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserToken>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-06 20:52:53.680 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:52:53.680 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:52:53.680 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-06 20:52:53.680 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-06 20:52:53.680 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-06 20:52:53.680 +03:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."RefreshToken", u."RefreshTokenExpiryTime", u."UserId"
FROM "UserToken" AS u
WHERE u."UserId" = @__user_Id_0
LIMIT 1
2024-05-06 20:52:53.684 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."RefreshToken", u."RefreshTokenExpiryTime", u."UserId"
FROM "UserToken" AS u
WHERE u."UserId" = @__user_Id_0
LIMIT 1
2024-05-06 20:52:53.704 +03:00 [DBG] The navigation 'User.UserToken' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-06 20:52:53.706 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'UserToken' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-06 20:52:53.709 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:52:53.709 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 24ms reading results.
2024-05-06 20:52:53.709 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:52:53.709 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 20:52:53.754 +03:00 [DBG] An entity of type 'UserToken' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-06 20:52:53.757 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-05-06 20:52:53.760 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-06 20:52:53.780 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-06 20:52:53.783 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-06 20:52:53.783 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-06 20:52:53.851 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:52:53.851 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:52:53.853 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-06 20:52:53.853 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-06 20:52:53.853 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-06 20:52:53.853 +03:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int64), @p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
UPDATE "UserToken" SET "RefreshToken" = @p0, "RefreshTokenExpiryTime" = @p1, "UserId" = @p2
WHERE "Id" = @p3;
2024-05-06 20:52:53.860 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p3='?' (DbType = Int64), @p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
UPDATE "UserToken" SET "RefreshToken" = @p0, "RefreshTokenExpiryTime" = @p1, "UserId" = @p2
WHERE "Id" = @p3;
2024-05-06 20:52:53.864 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:52:53.864 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 4ms reading results.
2024-05-06 20:52:53.866 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:52:53.866 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 20:52:53.869 +03:00 [DBG] An entity of type 'UserToken' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-06 20:52:53.871 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-05-06 20:52:53.877 +03:00 [INF] Executed action method Diary.Api.Controllers.AuthController.Login (Diary.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 655.4973ms.
2024-05-06 20:52:53.883 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-06 20:52:53.886 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-06 20:52:53.887 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-06 20:52:53.887 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-06 20:52:53.887 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-06 20:52:53.888 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-06 20:52:53.888 +03:00 [INF] Executing OkObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.TokenDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-06 20:52:53.897 +03:00 [INF] Executed action Diary.Api.Controllers.AuthController.Login (Diary.Api) in 5618.5287ms
2024-05-06 20:52:53.898 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)'
2024-05-06 20:52:53.904 +03:00 [DBG] Connection ID "18374686502757072969" disconnecting.
2024-05-06 20:52:53.906 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-06 20:52:53.910 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:52:53.912 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (1ms).
2024-05-06 20:52:53.912 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44308/login - 200 null application/json; charset=utf-8 5672.4845ms
2024-05-06 20:53:14.161 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/refresh - application/json 413
2024-05-06 20:53:14.161 +03:00 [DBG] 1 candidate(s) found for the request path '/refresh'
2024-05-06 20:53:14.161 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.TokenController.RefreshToken (Diary.Api)' with route pattern 'refresh' is valid for the request path '/refresh'
2024-05-06 20:53:14.161 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.TokenController.RefreshToken (Diary.Api)'
2024-05-06 20:53:14.162 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 20:53:14.162 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-06 20:53:14.162 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.TokenController.RefreshToken (Diary.Api)'
2024-05-06 20:53:14.165 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Dto.TokenDto]] RefreshToken(Diary.Domain.Dto.TokenDto) on controller Diary.Api.Controllers.TokenController (Diary.Api).
2024-05-06 20:53:14.165 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-06 20:53:14.165 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-06 20:53:14.165 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-06 20:53:14.165 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-06 20:53:14.165 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-06 20:53:14.165 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.TokenController (Diary.Api)
2024-05-06 20:53:14.185 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-06 20:53:14.187 +03:00 [DBG] Creating DbConnection.
2024-05-06 20:53:14.187 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-06 20:53:14.188 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:53:14.196 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:53:14.197 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:53:14.197 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 20:53:14.197 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-06 20:53:14.197 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-05-06 20:53:14.197 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-05-06 20:53:14.197 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:53:14.197 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:53:14.198 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-06 20:53:14.200 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-06 20:53:14.201 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:53:14.201 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 20:53:14.202 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.TokenController (Diary.Api)
2024-05-06 20:53:14.202 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.TokenDto' ...
2024-05-06 20:53:14.202 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.TokenDto' using the name '' in request data ...
2024-05-06 20:53:14.202 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-06 20:53:14.205 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.TokenDto'
2024-05-06 20:53:14.205 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.TokenDto'.
2024-05-06 20:53:14.205 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.TokenDto'.
2024-05-06 20:53:14.205 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.TokenDto' ...
2024-05-06 20:53:14.206 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.TokenDto'.
2024-05-06 20:53:14.206 +03:00 [INF] Executing action method Diary.Api.Controllers.TokenController.RefreshToken (Diary.Api) - Validation state: "Valid"
2024-05-06 20:53:14.351 +03:00 [INF] Executed action Diary.Api.Controllers.TokenController.RefreshToken (Diary.Api) in 185.9355ms
2024-05-06 20:53:14.352 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.TokenController.RefreshToken (Diary.Api)'
2024-05-06 20:53:14.354 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.IdentityModel.Tokens.SecurityTokenException:  
   at Diary.Application.Services.TokenService.GetPrincipalFromExpiredToken(String accessToken) in C:\Users\Eugeny\Desktop\Diary\Core\Diary.Application\Services\TokenService.cs:line 70
   at Diary.Application.Services.TokenService.RefreshToken(TokenDto dto) in C:\Users\Eugeny\Desktop\Diary\Core\Diary.Application\Services\TokenService.cs:line 80
   at Diary.Api.Controllers.TokenController.RefreshToken(TokenDto dto) in C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api\Controllers\TokenController.cs:line 24
   at lambda_method179(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-06 20:53:14.388 +03:00 [DBG] Connection ID "18158513724938256450" disconnecting.
2024-05-06 20:53:14.388 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-06 20:53:14.388 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:53:14.388 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 20:53:14.388 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44308/refresh - 500 null text/plain; charset=utf-8 227.6953ms
2024-05-06 20:53:35.699 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/refresh - application/json 413
2024-05-06 20:53:35.699 +03:00 [DBG] 1 candidate(s) found for the request path '/refresh'
2024-05-06 20:53:35.699 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.TokenController.RefreshToken (Diary.Api)' with route pattern 'refresh' is valid for the request path '/refresh'
2024-05-06 20:53:35.700 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.TokenController.RefreshToken (Diary.Api)'
2024-05-06 20:53:35.700 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 20:53:35.700 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-06 20:53:35.700 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.TokenController.RefreshToken (Diary.Api)'
2024-05-06 20:53:35.700 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Dto.TokenDto]] RefreshToken(Diary.Domain.Dto.TokenDto) on controller Diary.Api.Controllers.TokenController (Diary.Api).
2024-05-06 20:53:35.701 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-06 20:53:35.701 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-06 20:53:35.701 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-06 20:53:35.701 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-06 20:53:35.701 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-06 20:53:35.701 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.TokenController (Diary.Api)
2024-05-06 20:53:35.725 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-06 20:53:35.730 +03:00 [DBG] Creating DbConnection.
2024-05-06 20:53:35.730 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-06 20:53:35.731 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:53:35.744 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:53:35.744 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:53:35.744 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 20:53:35.744 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-06 20:53:35.744 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-05-06 20:53:35.744 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-05-06 20:53:35.745 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:53:35.745 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:53:35.746 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-06 20:53:35.749 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-06 20:53:35.749 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:53:35.749 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 20:53:35.750 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.TokenController (Diary.Api)
2024-05-06 20:53:35.750 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.TokenDto' ...
2024-05-06 20:53:35.750 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.TokenDto' using the name '' in request data ...
2024-05-06 20:53:35.750 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-06 20:53:35.750 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.TokenDto'
2024-05-06 20:53:35.750 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.TokenDto'.
2024-05-06 20:53:35.750 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.TokenDto'.
2024-05-06 20:53:35.750 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.TokenDto' ...
2024-05-06 20:53:35.750 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.TokenDto'.
2024-05-06 20:53:35.751 +03:00 [INF] Executing action method Diary.Api.Controllers.TokenController.RefreshToken (Diary.Api) - Validation state: "Valid"
2024-05-06 20:55:38.964 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-06 20:55:39.075 +03:00 [DBG] Hosting starting
2024-05-06 20:55:39.120 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-06 20:55:39.153 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-06 20:55:39.158 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-06 20:55:39.159 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-06 20:55:39.162 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-06 20:55:39.166 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-06 20:55:39.166 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-06 20:55:39.172 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-06 20:55:39.175 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 20:55:39.177 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-06 20:55:39.178 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 20:55:39.182 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-06 20:55:39.183 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-06 20:55:39.184 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-06 20:55:39.185 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-06 20:55:39.258 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-06 20:55:39.258 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-06 20:55:39.259 +03:00 [INF] Hosting environment: Development
2024-05-06 20:55:39.259 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-06 20:55:39.259 +03:00 [DBG] Hosting started
2024-05-06 20:55:39.309 +03:00 [DBG] Connection ID "18374686494167138353" disconnecting.
2024-05-06 20:55:39.327 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-06 20:55:39.330 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-06 20:55:39.375 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-06 20:55:39.376 +03:00 [DBG] Request did not match any endpoints
2024-05-06 20:55:39.487 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 20:55:39.524 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-06 20:55:39.526 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 499 null null 206.0337ms
2024-05-06 20:55:39.530 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 499
2024-05-06 20:55:40.983 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/refresh - application/json 413
2024-05-06 20:55:40.990 +03:00 [DBG] 1 candidate(s) found for the request path '/refresh'
2024-05-06 20:55:40.994 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.TokenController.RefreshToken (Diary.Api)' with route pattern 'refresh' is valid for the request path '/refresh'
2024-05-06 20:55:40.995 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.TokenController.RefreshToken (Diary.Api)'
2024-05-06 20:55:40.997 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 20:55:41.008 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-06 20:55:41.014 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.TokenController.RefreshToken (Diary.Api)'
2024-05-06 20:55:41.042 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Dto.TokenDto]] RefreshToken(Diary.Domain.Dto.TokenDto) on controller Diary.Api.Controllers.TokenController (Diary.Api).
2024-05-06 20:55:41.043 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-06 20:55:41.044 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-06 20:55:41.044 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-06 20:55:41.045 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-06 20:55:41.045 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-06 20:55:41.046 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.TokenController (Diary.Api)
2024-05-06 20:55:41.222 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-06 20:55:42.024 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-06 20:55:42.037 +03:00 [DBG] Creating DbConnection.
2024-05-06 20:55:42.093 +03:00 [DBG] Created DbConnection. (52ms).
2024-05-06 20:55:42.099 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:55:42.215 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:55:42.222 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:55:42.232 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (6ms).
2024-05-06 20:55:42.239 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-06 20:55:42.246 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2024-05-06 20:55:42.247 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (8ms).
2024-05-06 20:55:42.247 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:55:42.271 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:55:42.282 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-06 20:55:42.371 +03:00 [INF] Executed DbCommand (91ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-06 20:55:42.374 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 20:55:42.376 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-06 20:55:42.378 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.TokenController (Diary.Api)
2024-05-06 20:55:42.391 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.TokenDto' ...
2024-05-06 20:55:42.393 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.TokenDto' using the name '' in request data ...
2024-05-06 20:55:42.395 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-06 20:55:42.421 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.TokenDto'
2024-05-06 20:55:42.422 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.TokenDto'.
2024-05-06 20:55:42.422 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.TokenDto'.
2024-05-06 20:55:42.422 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.TokenDto' ...
2024-05-06 20:55:42.425 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.TokenDto'.
2024-05-06 20:55:42.431 +03:00 [INF] Executing action method Diary.Api.Controllers.TokenController.RefreshToken (Diary.Api) - Validation state: "Valid"
2024-05-06 21:01:35.832 +03:00 [INF] Executed action Diary.Api.Controllers.TokenController.RefreshToken (Diary.Api) in 354784.7012ms
2024-05-06 21:01:35.833 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.TokenController.RefreshToken (Diary.Api)'
2024-05-06 21:01:35.835 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.IdentityModel.Tokens.SecurityTokenException:  
   at Diary.Application.Services.TokenService.GetPrincipalFromExpiredToken(String accessToken) in C:\Users\Eugeny\Desktop\Diary\Core\Diary.Application\Services\TokenService.cs:line 70
   at Diary.Application.Services.TokenService.RefreshToken(TokenDto dto) in C:\Users\Eugeny\Desktop\Diary\Core\Diary.Application\Services\TokenService.cs:line 80
   at Diary.Api.Controllers.TokenController.RefreshToken(TokenDto dto) in C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api\Controllers\TokenController.cs:line 24
   at lambda_method5(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-06 21:01:35.877 +03:00 [DBG] Connection ID "18302628921604046869" disconnecting.
2024-05-06 21:01:35.879 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-06 21:01:35.884 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 21:01:35.886 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-06 21:01:35.887 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44308/refresh - 500 null text/plain; charset=utf-8 354903.9269ms
2024-05-06 21:01:38.506 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/refresh - application/json 413
2024-05-06 21:01:38.507 +03:00 [DBG] 1 candidate(s) found for the request path '/refresh'
2024-05-06 21:01:38.507 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.TokenController.RefreshToken (Diary.Api)' with route pattern 'refresh' is valid for the request path '/refresh'
2024-05-06 21:01:38.507 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.TokenController.RefreshToken (Diary.Api)'
2024-05-06 21:01:38.508 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 21:01:38.508 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-06 21:01:38.508 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.TokenController.RefreshToken (Diary.Api)'
2024-05-06 21:01:38.509 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Dto.TokenDto]] RefreshToken(Diary.Domain.Dto.TokenDto) on controller Diary.Api.Controllers.TokenController (Diary.Api).
2024-05-06 21:01:38.509 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-06 21:01:38.509 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-06 21:01:38.509 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-06 21:01:38.509 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-06 21:01:38.509 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-06 21:01:38.509 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.TokenController (Diary.Api)
2024-05-06 21:01:38.532 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-06 21:01:38.534 +03:00 [DBG] Creating DbConnection.
2024-05-06 21:01:38.534 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-06 21:01:38.534 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 21:01:38.544 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 21:01:38.544 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 21:01:38.544 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 21:01:38.544 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-06 21:01:38.545 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-05-06 21:01:38.545 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-05-06 21:01:38.545 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 21:01:38.545 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 21:01:38.546 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-06 21:01:38.550 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-06 21:01:38.550 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 21:01:38.550 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 21:01:38.551 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.TokenController (Diary.Api)
2024-05-06 21:01:38.551 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.TokenDto' ...
2024-05-06 21:01:38.551 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.TokenDto' using the name '' in request data ...
2024-05-06 21:01:38.551 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-06 21:01:38.552 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.TokenDto'
2024-05-06 21:01:38.552 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.TokenDto'.
2024-05-06 21:01:38.552 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.TokenDto'.
2024-05-06 21:01:38.552 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.TokenDto' ...
2024-05-06 21:01:38.552 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.TokenDto'.
2024-05-06 21:01:38.552 +03:00 [INF] Executing action method Diary.Api.Controllers.TokenController.RefreshToken (Diary.Api) - Validation state: "Valid"
2024-05-06 21:02:59.003 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-06 21:02:59.130 +03:00 [DBG] Hosting starting
2024-05-06 21:02:59.178 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-06 21:02:59.219 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-06 21:02:59.227 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-06 21:02:59.227 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-06 21:02:59.232 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-06 21:02:59.238 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-06 21:02:59.238 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-06 21:02:59.245 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-06 21:02:59.250 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 21:02:59.253 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-06 21:02:59.256 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-06 21:02:59.260 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-06 21:02:59.261 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-06 21:02:59.262 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-06 21:02:59.263 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-06 21:02:59.339 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-06 21:02:59.340 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-06 21:02:59.340 +03:00 [INF] Hosting environment: Development
2024-05-06 21:02:59.340 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-06 21:02:59.340 +03:00 [DBG] Hosting started
2024-05-06 21:02:59.403 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-06 21:02:59.405 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-06 21:02:59.454 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-06 21:02:59.455 +03:00 [DBG] Request did not match any endpoints
2024-05-06 21:02:59.557 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 21:02:59.597 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-06 21:02:59.621 +03:00 [DBG] Connection ID "18374686528526876730" disconnecting.
2024-05-06 21:02:59.622 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 404 null null 225.0738ms
2024-05-06 21:02:59.626 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 404
2024-05-06 21:03:51.332 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/refresh - application/json 413
2024-05-06 21:03:51.336 +03:00 [DBG] 1 candidate(s) found for the request path '/refresh'
2024-05-06 21:03:51.340 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.TokenController.RefreshToken (Diary.Api)' with route pattern 'refresh' is valid for the request path '/refresh'
2024-05-06 21:03:51.340 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.TokenController.RefreshToken (Diary.Api)'
2024-05-06 21:03:51.346 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-06 21:03:51.352 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-06 21:03:51.356 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.TokenController.RefreshToken (Diary.Api)'
2024-05-06 21:03:51.385 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Dto.TokenDto]] RefreshToken(Diary.Domain.Dto.TokenDto) on controller Diary.Api.Controllers.TokenController (Diary.Api).
2024-05-06 21:03:51.387 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-06 21:03:51.387 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-06 21:03:51.388 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-06 21:03:51.388 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-06 21:03:51.388 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-06 21:03:51.389 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.TokenController (Diary.Api)
2024-05-06 21:03:51.568 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-06 21:03:52.402 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-06 21:03:52.416 +03:00 [DBG] Creating DbConnection.
2024-05-06 21:03:52.467 +03:00 [DBG] Created DbConnection. (49ms).
2024-05-06 21:03:52.474 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 21:03:52.599 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 21:03:52.605 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 21:03:52.617 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (6ms).
2024-05-06 21:03:52.626 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-06 21:03:52.633 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2024-05-06 21:03:52.635 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (10ms).
2024-05-06 21:03:52.635 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 21:03:52.663 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 21:03:52.673 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-06 21:03:52.759 +03:00 [INF] Executed DbCommand (88ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-06 21:03:52.761 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 21:03:52.764 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-06 21:03:52.765 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.TokenController (Diary.Api)
2024-05-06 21:03:52.769 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.TokenDto' ...
2024-05-06 21:03:52.772 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.TokenDto' using the name '' in request data ...
2024-05-06 21:03:52.773 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-06 21:03:52.799 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.TokenDto'
2024-05-06 21:03:52.799 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.TokenDto'.
2024-05-06 21:03:52.799 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.TokenDto'.
2024-05-06 21:03:52.799 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.TokenDto' ...
2024-05-06 21:03:52.802 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.TokenDto'.
2024-05-06 21:03:52.808 +03:00 [INF] Executing action method Diary.Api.Controllers.TokenController.RefreshToken (Diary.Api) - Validation state: "Valid"
2024-05-06 21:04:15.294 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Include(x => x.UserToken)
    .FirstOrDefault(x => x.Login == __userName_0)'
2024-05-06 21:04:15.387 +03:00 [DBG] Including navigation: 'User.UserToken'.
2024-05-06 21:04:15.602 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: User.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedAt (DateTime) Required, 1], [Property: User.CreatedBy (long) Required, 2], [Property: User.Login (string) Required MaxLength(100), 3], [Property: User.Password (string) Required, 4], [Property: User.UpdatedAt (DateTime?), 5], [Property: User.UpdatedBy (long?), 6] }
                1 -> Dictionary<IProperty, int> { [Property: UserToken.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: UserToken.RefreshToken (string) Required, 8], [Property: UserToken.RefreshTokenExpiryTime (DateTime) Required, 9], [Property: UserToken.UserId (long) Required FK Index, 10] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.CreatedBy, u.Login, u.Password, u.UpdatedAt, u.UpdatedBy, u0.Id, u0.RefreshToken, u0.RefreshTokenExpiryTime, u0.UserId
            FROM User AS u
            LEFT JOIN UserToken AS u0 ON u.Id == u0.UserId
            WHERE u.Login == @__userName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-06 21:04:15.641 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 21:04:15.643 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 21:04:15.643 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-06 21:04:15.643 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-06 21:04:15.649 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-05-06 21:04:15.652 +03:00 [DBG] Executing DbCommand [Parameters=[@__userName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy", u0."Id", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."UserId"
FROM "User" AS u
LEFT JOIN "UserToken" AS u0 ON u."Id" = u0."UserId"
WHERE u."Login" = @__userName_0
LIMIT 1
2024-05-06 21:04:15.690 +03:00 [INF] Executed DbCommand (40ms) [Parameters=[@__userName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy", u0."Id", u0."RefreshToken", u0."RefreshTokenExpiryTime", u0."UserId"
FROM "User" AS u
LEFT JOIN "UserToken" AS u0 ON u."Id" = u0."UserId"
WHERE u."Login" = @__userName_0
LIMIT 1
2024-05-06 21:04:15.773 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-06 21:04:15.819 +03:00 [DBG] The navigation 'User.UserToken' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-06 21:04:15.821 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'UserToken' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-06 21:04:15.828 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 21:04:15.830 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 138ms reading results.
2024-05-06 21:04:15.833 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 21:04:15.834 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 21:04:40.704 +03:00 [DBG] An entity of type 'User' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-06 21:04:40.707 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-05-06 21:04:40.710 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-06 21:04:40.721 +03:00 [DBG] The unchanged property 'UserToken.RefreshToken' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-06 21:04:40.722 +03:00 [DBG] An entity of type 'UserToken' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-06 21:04:40.726 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-06 21:04:40.740 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-06 21:04:40.740 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-06 21:04:40.795 +03:00 [DBG] Executing 2 update commands as a batch.
2024-05-06 21:04:40.798 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 21:04:40.798 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 21:04:40.800 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-06 21:04:40.804 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-06 21:04:40.807 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-06 21:04:40.807 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-06 21:04:40.808 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-06 21:04:40.808 +03:00 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p8='?' (DbType = Int64), @p7='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "User" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "Login" = @p2, "Password" = @p3, "UpdatedAt" = @p4, "UpdatedBy" = @p5
WHERE "Id" = @p6;
UPDATE "UserToken" SET "RefreshToken" = @p7
WHERE "Id" = @p8;
2024-05-06 21:04:40.822 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@p6='?' (DbType = Int64), @p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p8='?' (DbType = Int64), @p7='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "User" SET "CreatedAt" = @p0, "CreatedBy" = @p1, "Login" = @p2, "Password" = @p3, "UpdatedAt" = @p4, "UpdatedBy" = @p5
WHERE "Id" = @p6;
UPDATE "UserToken" SET "RefreshToken" = @p7
WHERE "Id" = @p8;
2024-05-06 21:04:40.827 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 21:04:40.827 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 4ms reading results.
2024-05-06 21:04:40.874 +03:00 [DBG] Committing transaction.
2024-05-06 21:04:40.882 +03:00 [DBG] Committed transaction.
2024-05-06 21:04:40.884 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 21:04:40.884 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-06 21:04:40.886 +03:00 [DBG] Disposing transaction.
2024-05-06 21:04:40.890 +03:00 [DBG] An entity of type 'User' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-06 21:04:40.890 +03:00 [DBG] An entity of type 'UserToken' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-06 21:04:40.892 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 2 entities written to the database.
2024-05-06 21:04:44.255 +03:00 [INF] Executed action method Diary.Api.Controllers.TokenController.RefreshToken (Diary.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 51444.2052ms.
2024-05-06 21:04:44.262 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-06 21:04:44.264 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-06 21:04:44.265 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-06 21:04:44.265 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-06 21:04:44.265 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-06 21:04:44.266 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-06 21:04:44.266 +03:00 [INF] Executing OkObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.TokenDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-06 21:04:44.294 +03:00 [INF] Executed action Diary.Api.Controllers.TokenController.RefreshToken (Diary.Api) in 52902.9983ms
2024-05-06 21:04:44.295 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.TokenController.RefreshToken (Diary.Api)'
2024-05-06 21:04:44.302 +03:00 [DBG] Connection ID "18230571318976184335" disconnecting.
2024-05-06 21:04:44.304 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-06 21:04:44.308 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-06 21:04:44.310 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (1ms).
2024-05-06 21:04:44.310 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44308/refresh - 200 null application/json; charset=utf-8 52978.8166ms
2024-05-07 03:19:05.272 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-07 03:19:05.555 +03:00 [DBG] Hosting starting
2024-05-07 03:19:05.822 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-07 03:19:05.900 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-07 03:19:05.921 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-07 03:19:05.938 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-07 03:19:05.961 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-07 03:19:05.967 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-07 03:19:05.968 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-07 03:19:05.980 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-07 03:19:05.985 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-07 03:19:05.988 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-07 03:19:05.991 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-07 03:19:05.996 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-07 03:19:05.998 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-07 03:19:06.000 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-07 03:19:06.001 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-07 03:19:06.252 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-07 03:19:06.253 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-07 03:19:06.253 +03:00 [INF] Hosting environment: Development
2024-05-07 03:19:06.253 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-07 03:19:06.253 +03:00 [DBG] Hosting started
2024-05-07 03:19:06.401 +03:00 [DBG] Connection ID "18302628887244308512" disconnecting.
2024-05-07 03:19:06.447 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-07 03:19:06.447 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-07 03:19:06.450 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-07 03:19:06.450 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-07 03:19:06.510 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-07 03:19:06.510 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-07 03:19:06.511 +03:00 [DBG] Request did not match any endpoints
2024-05-07 03:19:06.511 +03:00 [DBG] Request did not match any endpoints
2024-05-07 03:19:06.694 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-07 03:19:06.694 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-07 03:19:46.490 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-07 03:19:46.621 +03:00 [DBG] Hosting starting
2024-05-07 03:19:46.669 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-07 03:19:46.699 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-07 03:19:46.704 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-07 03:19:46.705 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-07 03:19:46.709 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-07 03:19:46.714 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-07 03:19:46.714 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-07 03:19:46.721 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-07 03:19:46.725 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-07 03:19:46.727 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-07 03:19:46.729 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-07 03:19:46.733 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-07 03:19:46.734 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-07 03:19:46.735 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-07 03:19:46.736 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-07 03:19:46.812 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-07 03:19:46.812 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-07 03:19:46.813 +03:00 [INF] Hosting environment: Development
2024-05-07 03:19:46.813 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-07 03:19:46.813 +03:00 [DBG] Hosting started
2024-05-07 03:19:46.886 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-07 03:19:46.889 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-07 03:19:46.932 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-07 03:19:46.932 +03:00 [DBG] Request did not match any endpoints
2024-05-07 03:19:47.034 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-07 03:19:54.342 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-07 03:20:06.019 +03:00 [DBG] Connection ID "18374686515641974915" disconnecting.
2024-05-07 03:20:06.021 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 404 null null 19140.3724ms
2024-05-07 03:20:06.025 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 404
2024-05-07 03:20:13.797 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-07 03:20:13.798 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-07 03:20:13.798 +03:00 [DBG] Request did not match any endpoints
2024-05-07 03:20:13.803 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-07 03:20:21.427 +03:00 [DBG] Connection ID "18374686502757072971" disconnecting.
2024-05-07 03:20:21.437 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-07 03:20:21.438 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-07 03:20:21.441 +03:00 [DBG] Request did not match any endpoints
2024-05-07 03:20:21.445 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-07 03:20:27.438 +03:00 [DBG] Connection ID "18374686511347007535" disconnecting.
2024-05-07 03:20:27.438 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 6001.7603ms
2024-05-07 03:20:27.438 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 13643.0346ms
2024-05-07 03:20:27.743 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-07 03:20:27.744 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-07 03:20:27.744 +03:00 [DBG] Request did not match any endpoints
2024-05-07 03:20:27.744 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-07 03:20:41.426 +03:00 [DBG] Connection ID "18374686524231909474" disconnecting.
2024-05-07 03:20:41.426 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 13683.2675ms
2024-05-07 03:20:53.368 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/register - application/json 78
2024-05-07 03:20:53.371 +03:00 [DBG] 1 candidate(s) found for the request path '/register'
2024-05-07 03:20:53.375 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.AuthController.Register (Diary.Api)' with route pattern 'register' is valid for the request path '/register'
2024-05-07 03:20:53.376 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.AuthController.Register (Diary.Api)'
2024-05-07 03:20:53.376 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-07 03:22:20.286 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-07 03:22:20.336 +03:00 [DBG] The request has an origin header: 'https://localhost:44308'.
2024-05-07 03:22:20.336 +03:00 [INF] CORS policy execution successful.
2024-05-07 03:22:20.339 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.AuthController.Register (Diary.Api)'
2024-05-07 03:22:20.367 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult]] Register(Diary.Domain.Dto.UserDto.RegisterUserDto) on controller Diary.Api.Controllers.AuthController (Diary.Api).
2024-05-07 03:22:20.368 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-07 03:22:20.368 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-07 03:22:20.369 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-07 03:22:20.370 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-07 03:22:20.370 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-07 03:22:20.372 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-07 03:22:20.862 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-07 03:22:21.834 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-07 03:22:21.849 +03:00 [DBG] Creating DbConnection.
2024-05-07 03:22:21.952 +03:00 [DBG] Created DbConnection. (101ms).
2024-05-07 03:22:21.958 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 03:22:26.116 +03:00 [DBG] An error occurred using the connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 03:22:43.297 +03:00 [INF] Executed action Diary.Api.Controllers.AuthController.Register (Diary.Api) in 22923.2718ms
2024-05-07 03:22:45.105 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.AuthController.Register (Diary.Api)'
2024-05-07 03:23:00.445 +03:00 [ERR] Failed to connect to 127.0.0.1:5438
Npgsql.NpgsqlException (0x80004005): Failed to connect to 127.0.0.1:5438
 ---> System.Net.Sockets.SocketException (10061): 
   at Npgsql.Internal.NpgsqlConnector.Connect(NpgsqlTimeout timeout)
   at Npgsql.Internal.NpgsqlConnector.Connect(NpgsqlTimeout timeout)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|213_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.UnpooledDataSource.Get(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabaseCreator.EnsureCreated()
   at Microsoft.EntityFrameworkCore.Infrastructure.DatabaseFacade.EnsureCreated()
   at Diary.DAL.ApplicationDbContext..ctor(DbContextOptions`1 options) in C:\Users\Eugeny\Desktop\Diary\Infrastructure\Diary.DAL\ApplicationDbContext.cs:line 11
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean hasDefaultValue, Object key)
   at lambda_method10(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Diary.Api.Middlewares.ExceptionHandlingMiddleware.InvokeAsync(HttpContext httpContext) in C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api\Middlewares\ExceptionHandlingMiddleware.cs:line 23
2024-05-07 03:23:37.016 +03:00 [DBG] Connection ID "18374686511347007537" disconnecting.
2024-05-07 03:23:38.312 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44308/register - 500 null application/json; charset=utf-8 164943.919ms
2024-05-07 03:24:12.547 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-07 03:24:12.682 +03:00 [DBG] Hosting starting
2024-05-07 03:24:12.730 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-07 03:24:12.764 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-07 03:24:12.768 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-07 03:24:12.769 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-07 03:24:12.773 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-07 03:24:12.777 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-07 03:24:12.777 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-07 03:24:12.783 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-07 03:24:12.786 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-07 03:24:12.789 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-07 03:24:12.791 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-07 03:24:12.795 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-07 03:24:12.797 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-07 03:24:12.799 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-07 03:24:12.800 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-07 03:24:12.878 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-07 03:24:12.879 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-07 03:24:12.879 +03:00 [INF] Hosting environment: Development
2024-05-07 03:24:12.879 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-07 03:24:12.879 +03:00 [DBG] Hosting started
2024-05-07 03:24:12.947 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-07 03:24:12.950 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-07 03:24:12.995 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-07 03:24:12.995 +03:00 [DBG] Request did not match any endpoints
2024-05-07 03:24:13.109 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-07 03:24:13.149 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-07 03:24:13.174 +03:00 [DBG] Connection ID "18302628917309079600" disconnecting.
2024-05-07 03:24:13.176 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 404 null null 236.153ms
2024-05-07 03:24:13.181 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 404
2024-05-07 03:24:20.743 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-07 03:24:20.743 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-07 03:24:20.743 +03:00 [DBG] Request did not match any endpoints
2024-05-07 03:24:20.745 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-07 03:24:20.864 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 120.4971ms
2024-05-07 03:24:20.866 +03:00 [DBG] Connection ID "18374686498462105741" disconnecting.
2024-05-07 03:24:21.108 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-07 03:24:21.108 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-07 03:24:21.108 +03:00 [DBG] Request did not match any endpoints
2024-05-07 03:24:21.109 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-07 03:24:21.252 +03:00 [DBG] Connection ID "18374686524231909476" disconnecting.
2024-05-07 03:24:21.252 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 144.6377ms
2024-05-07 03:24:25.903 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/register - application/json 78
2024-05-07 03:24:25.906 +03:00 [DBG] 1 candidate(s) found for the request path '/register'
2024-05-07 03:24:25.910 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.AuthController.Register (Diary.Api)' with route pattern 'register' is valid for the request path '/register'
2024-05-07 03:24:25.911 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.AuthController.Register (Diary.Api)'
2024-05-07 03:24:25.911 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-07 03:24:25.912 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-07 03:24:25.913 +03:00 [DBG] The request has an origin header: 'https://localhost:44308'.
2024-05-07 03:24:25.913 +03:00 [INF] CORS policy execution successful.
2024-05-07 03:24:25.915 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.AuthController.Register (Diary.Api)'
2024-05-07 03:24:25.938 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult]] Register(Diary.Domain.Dto.UserDto.RegisterUserDto) on controller Diary.Api.Controllers.AuthController (Diary.Api).
2024-05-07 03:24:25.940 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-07 03:24:25.940 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-07 03:24:25.941 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-07 03:24:25.941 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-07 03:24:25.941 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-07 03:24:25.942 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-07 03:24:26.112 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-07 03:24:26.919 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-07 03:24:26.932 +03:00 [DBG] Creating DbConnection.
2024-05-07 03:24:26.989 +03:00 [DBG] Created DbConnection. (54ms).
2024-05-07 03:24:26.995 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 03:24:31.075 +03:00 [DBG] An error occurred using the connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 03:25:51.178 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-07 03:25:51.307 +03:00 [DBG] Hosting starting
2024-05-07 03:25:51.354 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-07 03:25:51.387 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-07 03:25:51.392 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-07 03:25:51.393 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-07 03:25:51.396 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-07 03:25:51.400 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-07 03:25:51.400 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-07 03:25:51.407 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-07 03:25:51.410 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-07 03:25:51.413 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-07 03:25:51.415 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-07 03:25:51.418 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-07 03:25:51.419 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-07 03:25:51.420 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-07 03:25:51.421 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-07 03:25:51.506 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-07 03:25:51.514 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-07 03:25:51.514 +03:00 [INF] Hosting environment: Development
2024-05-07 03:25:51.514 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-07 03:25:51.514 +03:00 [DBG] Hosting started
2024-05-07 03:25:51.551 +03:00 [DBG] Connection ID "18230571293206380584" disconnecting.
2024-05-07 03:25:51.571 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-07 03:25:51.571 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-07 03:25:51.574 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-07 03:25:51.574 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-07 03:25:51.625 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-07 03:25:51.625 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-07 03:25:51.625 +03:00 [DBG] Request did not match any endpoints
2024-05-07 03:25:51.625 +03:00 [DBG] Request did not match any endpoints
2024-05-07 03:25:51.767 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-07 03:25:51.767 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-07 03:25:51.815 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-07 03:25:51.819 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 499 null null 254.566ms
2024-05-07 03:25:51.823 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 499
2024-05-07 03:25:51.949 +03:00 [DBG] Connection ID "18230571327566118917" disconnecting.
2024-05-07 03:25:51.949 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 385.2475ms
2024-05-07 03:25:52.161 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-07 03:25:52.162 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-07 03:25:52.162 +03:00 [DBG] Request did not match any endpoints
2024-05-07 03:25:52.163 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-07 03:25:52.329 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 168.4546ms
2024-05-07 03:25:52.333 +03:00 [DBG] Connection ID "18158513724938256456" disconnecting.
2024-05-07 03:25:57.164 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/register - application/json 78
2024-05-07 03:25:57.168 +03:00 [DBG] 1 candidate(s) found for the request path '/register'
2024-05-07 03:25:57.172 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.AuthController.Register (Diary.Api)' with route pattern 'register' is valid for the request path '/register'
2024-05-07 03:25:57.172 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.AuthController.Register (Diary.Api)'
2024-05-07 03:25:57.174 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-07 03:25:57.174 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-07 03:25:57.176 +03:00 [DBG] The request has an origin header: 'https://localhost:44308'.
2024-05-07 03:25:57.176 +03:00 [INF] CORS policy execution successful.
2024-05-07 03:25:57.177 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.AuthController.Register (Diary.Api)'
2024-05-07 03:25:57.202 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult]] Register(Diary.Domain.Dto.UserDto.RegisterUserDto) on controller Diary.Api.Controllers.AuthController (Diary.Api).
2024-05-07 03:25:57.203 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-07 03:25:57.204 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-07 03:25:57.205 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-07 03:25:57.205 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-07 03:25:57.205 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-07 03:25:57.207 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-07 03:25:57.382 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-07 03:25:58.185 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-07 03:25:58.199 +03:00 [DBG] Creating DbConnection.
2024-05-07 03:25:58.251 +03:00 [DBG] Created DbConnection. (50ms).
2024-05-07 03:25:58.257 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 03:25:58.421 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 03:25:58.427 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 03:25:58.438 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (7ms).
2024-05-07 03:25:58.448 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-07 03:25:58.455 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2024-05-07 03:25:58.457 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (10ms).
2024-05-07 03:25:58.457 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 03:25:58.481 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 03:25:58.492 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-07 03:25:58.620 +03:00 [INF] Executed DbCommand (129ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-07 03:25:58.623 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 03:25:58.625 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-07 03:25:58.742 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-07 03:25:58.750 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.RegisterUserDto' ...
2024-05-07 03:25:58.753 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.RegisterUserDto' using the name '' in request data ...
2024-05-07 03:25:58.754 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-07 03:25:58.769 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.UserDto.RegisterUserDto'
2024-05-07 03:25:58.769 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.RegisterUserDto'.
2024-05-07 03:25:58.769 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.RegisterUserDto'.
2024-05-07 03:25:58.769 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.RegisterUserDto' ...
2024-05-07 03:25:58.775 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.RegisterUserDto'.
2024-05-07 03:25:58.783 +03:00 [INF] Executing action method Diary.Api.Controllers.AuthController.Register (Diary.Api) - Validation state: "Valid"
2024-05-07 03:25:59.059 +03:00 [INF] Executed action Diary.Api.Controllers.AuthController.Register (Diary.Api) in 1850.0287ms
2024-05-07 03:25:59.060 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.AuthController.Register (Diary.Api)'
2024-05-07 03:25:59.090 +03:00 [ERR] Attempted to perform an unauthorized operation.
System.UnauthorizedAccessException: Attempted to perform an unauthorized operation.
   at Diary.Application.Services.AuthService.Register(RegisterUserDto dto) in C:\Users\Eugeny\Desktop\Diary\Core\Diary.Application\Services\AuthService.cs:line 38
   at Diary.Api.Controllers.AuthController.Register(RegisterUserDto dto) in C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api\Controllers\AuthController.cs:line 31
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Diary.Api.Middlewares.ExceptionHandlingMiddleware.InvokeAsync(HttpContext httpContext) in C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api\Middlewares\ExceptionHandlingMiddleware.cs:line 23
2024-05-07 03:25:59.119 +03:00 [DBG] Connection ID "18374686524231909478" disconnecting.
2024-05-07 03:25:59.122 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-07 03:25:59.127 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 03:25:59.129 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-07 03:25:59.130 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44308/register - 401 null application/json; charset=utf-8 1965.5913ms
2024-05-07 03:26:27.556 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/register - application/json 78
2024-05-07 03:26:27.556 +03:00 [DBG] 1 candidate(s) found for the request path '/register'
2024-05-07 03:26:27.557 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.AuthController.Register (Diary.Api)' with route pattern 'register' is valid for the request path '/register'
2024-05-07 03:26:27.557 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.AuthController.Register (Diary.Api)'
2024-05-07 03:26:27.557 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-07 03:26:27.557 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-07 03:26:27.558 +03:00 [DBG] The request has an origin header: 'https://localhost:44308'.
2024-05-07 03:26:27.558 +03:00 [INF] CORS policy execution successful.
2024-05-07 03:26:27.558 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.AuthController.Register (Diary.Api)'
2024-05-07 03:26:27.559 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult]] Register(Diary.Domain.Dto.UserDto.RegisterUserDto) on controller Diary.Api.Controllers.AuthController (Diary.Api).
2024-05-07 03:26:27.559 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-07 03:26:27.559 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-07 03:26:27.559 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-07 03:26:27.559 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-07 03:26:27.559 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-07 03:26:27.559 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-07 03:26:27.581 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-07 03:26:27.584 +03:00 [DBG] Creating DbConnection.
2024-05-07 03:26:27.584 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-07 03:26:27.584 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 03:26:27.594 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 03:26:27.594 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 03:26:27.594 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-07 03:26:27.595 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-07 03:26:27.595 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-05-07 03:26:27.595 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-05-07 03:26:27.595 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 03:26:27.596 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 03:26:27.596 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-07 03:26:27.600 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-07 03:26:27.600 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 03:26:27.601 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-07 03:26:27.602 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-07 03:26:27.602 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.RegisterUserDto' ...
2024-05-07 03:26:27.603 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.RegisterUserDto' using the name '' in request data ...
2024-05-07 03:26:27.603 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-07 03:26:27.603 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.UserDto.RegisterUserDto'
2024-05-07 03:26:27.603 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.RegisterUserDto'.
2024-05-07 03:26:27.604 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.RegisterUserDto'.
2024-05-07 03:26:27.604 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.RegisterUserDto' ...
2024-05-07 03:26:27.604 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.RegisterUserDto'.
2024-05-07 03:26:27.604 +03:00 [INF] Executing action method Diary.Api.Controllers.AuthController.Register (Diary.Api) - Validation state: "Valid"
2024-05-07 03:26:27.680 +03:00 [INF] Executed action Diary.Api.Controllers.AuthController.Register (Diary.Api) in 120.4346ms
2024-05-07 03:26:27.680 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.AuthController.Register (Diary.Api)'
2024-05-07 19:40:11.179 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-07 19:40:11.378 +03:00 [DBG] Hosting starting
2024-05-07 19:40:11.626 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-07 19:40:11.686 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-07 19:40:11.710 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-07 19:40:11.726 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-07 19:40:11.751 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-07 19:40:11.756 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-07 19:40:11.756 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-07 19:40:11.763 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-07 19:40:11.766 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-07 19:40:11.769 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-07 19:40:11.770 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-07 19:40:11.774 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-07 19:40:11.776 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-07 19:40:11.777 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-07 19:40:11.778 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-07 19:40:12.030 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-07 19:40:12.031 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-07 19:40:12.031 +03:00 [INF] Hosting environment: Development
2024-05-07 19:40:12.031 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-07 19:40:12.031 +03:00 [DBG] Hosting started
2024-05-07 19:40:12.231 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-07 19:40:12.235 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-07 19:40:12.293 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-07 19:40:12.293 +03:00 [DBG] Request did not match any endpoints
2024-05-07 19:40:12.459 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-07 19:40:12.534 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-07 19:40:12.598 +03:00 [DBG] Connection ID "18158513724938256458" disconnecting.
2024-05-07 19:40:12.600 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 404 null null 380.0766ms
2024-05-07 19:40:12.605 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 404
2024-05-07 21:27:54.447 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/ - null null
2024-05-07 21:27:54.448 +03:00 [DBG] No candidates found for the request path '/'
2024-05-07 21:27:54.448 +03:00 [DBG] Request did not match any endpoints
2024-05-07 21:27:54.455 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-07 21:27:54.479 +03:00 [DBG] Connection ID "18374686502757072976" disconnecting.
2024-05-07 21:27:54.479 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/ - 301 null null 34.9746ms
2024-05-07 21:27:54.485 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-07 21:27:54.486 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-07 21:27:54.486 +03:00 [DBG] Request did not match any endpoints
2024-05-07 21:27:54.487 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-07 21:27:54.576 +03:00 [DBG] Connection ID "18230571293206380589" disconnecting.
2024-05-07 21:27:54.576 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 90.7147ms
2024-05-07 21:27:54.747 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger-ui.css - null null
2024-05-07 21:27:54.750 +03:00 [DBG] No candidates found for the request path '/swagger-ui.css'
2024-05-07 21:27:54.750 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger-ui-standalone-preset.js - null null
2024-05-07 21:27:54.750 +03:00 [DBG] Request did not match any endpoints
2024-05-07 21:27:54.750 +03:00 [DBG] No candidates found for the request path '/swagger-ui-standalone-preset.js'
2024-05-07 21:27:54.750 +03:00 [DBG] Request did not match any endpoints
2024-05-07 21:27:54.750 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-07 21:27:54.751 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-07 21:27:54.771 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-05-07 21:27:54.772 +03:00 [DBG] Connection ID "18158513724938256460" disconnecting.
2024-05-07 21:27:54.774 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-05-07 21:27:54.776 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger-ui.css - 200 143943 text/css 28.5058ms
2024-05-07 21:27:54.782 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger-ui-standalone-preset.js - 200 339486 text/javascript 31.8392ms
2024-05-07 21:27:54.786 +03:00 [DBG] Connection ID "18230571318976184339" disconnecting.
2024-05-07 21:27:54.947 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-07 21:27:54.947 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-07 21:27:54.947 +03:00 [DBG] Request did not match any endpoints
2024-05-07 21:27:54.947 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-07 21:27:55.114 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 167.2481ms
2024-05-07 21:27:55.114 +03:00 [DBG] Connection ID "18230571293206380591" disconnecting.
2024-05-07 21:29:01.375 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-07 21:29:01.484 +03:00 [DBG] Hosting starting
2024-05-07 21:29:01.540 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-07 21:29:01.573 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-07 21:29:01.578 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-07 21:29:01.579 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-07 21:29:01.583 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-07 21:29:01.587 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-07 21:29:01.587 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-07 21:29:01.594 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-07 21:29:01.597 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-07 21:29:01.600 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-07 21:29:01.601 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-07 21:29:01.605 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-07 21:29:01.607 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-07 21:29:01.608 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-07 21:29:01.609 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-07 21:29:01.689 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-07 21:29:01.704 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-07 21:29:01.704 +03:00 [INF] Hosting environment: Development
2024-05-07 21:29:01.704 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-07 21:29:01.705 +03:00 [DBG] Hosting started
2024-05-07 21:29:01.746 +03:00 [DBG] Connection ID "18302628930193981490" disconnecting.
2024-05-07 21:29:01.762 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-07 21:29:01.762 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-07 21:29:01.765 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-07 21:29:01.765 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-07 21:29:01.818 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-07 21:29:01.818 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-07 21:29:01.819 +03:00 [DBG] Request did not match any endpoints
2024-05-07 21:29:01.819 +03:00 [DBG] Request did not match any endpoints
2024-05-07 21:29:01.987 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-07 21:29:01.987 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-07 21:29:02.028 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-07 21:29:02.032 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 499 null null 275.8183ms
2024-05-07 21:29:02.036 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 499
2024-05-07 21:29:02.148 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 390.3388ms
2024-05-07 21:29:02.148 +03:00 [DBG] Connection ID "18374686515641974918" disconnecting.
2024-05-07 21:29:02.295 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-07 21:29:02.296 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-07 21:29:02.296 +03:00 [DBG] Request did not match any endpoints
2024-05-07 21:29:02.298 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-07 21:29:02.467 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 172.0309ms
2024-05-07 21:29:02.467 +03:00 [DBG] Connection ID "18374686498462105743" disconnecting.
2024-05-07 21:29:39.537 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/api/Role?api-version=1 - application/json 26
2024-05-07 21:29:39.550 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Role'
2024-05-07 21:29:39.554 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.RoleController.CreateRole (Diary.Api)' with route pattern 'api/Role' is valid for the request path '/api/Role'
2024-05-07 21:29:39.558 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.RoleController.CreateRole (Diary.Api)'
2024-05-07 21:29:39.558 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-07 21:29:39.559 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-07 21:29:39.561 +03:00 [DBG] The request has an origin header: 'https://localhost:44308'.
2024-05-07 21:29:39.564 +03:00 [INF] CORS policy execution successful.
2024-05-07 21:29:39.568 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.RoleController.CreateRole (Diary.Api)'
2024-05-07 21:29:39.596 +03:00 [INF] Route matched with {action = "CreateRole", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.RoleDto.RoleDto]]] CreateRole(Diary.Domain.Dto.RoleDto.RoleDto) on controller Diary.Api.Controllers.RoleController (Diary.Api).
2024-05-07 21:29:39.598 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-07 21:29:39.599 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-05-07 21:29:39.599 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-07 21:29:39.599 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-07 21:29:39.599 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-07 21:29:39.601 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.RoleController (Diary.Api)
2024-05-07 21:29:40.076 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-07 21:29:40.843 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'RoleId', 'UserId'}.
2024-05-07 21:29:41.175 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-07 21:29:41.192 +03:00 [DBG] Creating DbConnection.
2024-05-07 21:29:41.305 +03:00 [DBG] Created DbConnection. (111ms).
2024-05-07 21:29:41.312 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:29:41.517 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:29:41.523 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:29:41.534 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (7ms).
2024-05-07 21:29:41.545 +03:00 [DBG] Creating DbConnection.
2024-05-07 21:29:41.546 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-07 21:29:41.546 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-07 21:29:41.605 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-07 21:29:41.612 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-07 21:29:41.620 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (4ms).
2024-05-07 21:29:41.622 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (11ms).
2024-05-07 21:29:41.630 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "Diary" WITH (FORCE);
2024-05-07 21:29:41.844 +03:00 [INF] Executed DbCommand (216ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "Diary" WITH (FORCE);
2024-05-07 21:29:41.847 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-07 21:29:41.848 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5438' (0ms).
2024-05-07 21:29:41.849 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-07 21:29:41.850 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5438' (1ms).
2024-05-07 21:29:41.851 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:29:41.872 +03:00 [DBG] An error occurred using the connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:29:41.893 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'RoleId', 'UserId'}.
2024-05-07 21:29:41.920 +03:00 [DBG] Creating DbConnection.
2024-05-07 21:29:41.920 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-07 21:29:41.921 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-07 21:29:41.930 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-07 21:29:41.930 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-07 21:29:41.931 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:29:41.931 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:29:41.931 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "Diary";
2024-05-07 21:29:42.383 +03:00 [INF] Executed DbCommand (453ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "Diary";
2024-05-07 21:29:42.384 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-07 21:29:42.384 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5438' (0ms).
2024-05-07 21:29:42.385 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-07 21:29:42.385 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5438' (0ms).
2024-05-07 21:29:42.385 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:29:42.398 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:29:42.399 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:29:42.399 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-07 21:29:42.547 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:29:42.573 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:29:42.579 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-07 21:29:42.583 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-07 21:29:42.584 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-07 21:29:42.585 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:29:42.585 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:29:42.586 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Role" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(50) NOT NULL,
    CONSTRAINT "PK_Role" PRIMARY KEY ("Id")
);
2024-05-07 21:29:42.597 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Role" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(50) NOT NULL,
    CONSTRAINT "PK_Role" PRIMARY KEY ("Id")
);
2024-05-07 21:29:42.597 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-07 21:29:42.597 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:29:42.597 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:29:42.597 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "User" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Login" character varying(100) NOT NULL,
    "Password" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_User" PRIMARY KEY ("Id")
);
2024-05-07 21:29:42.607 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "User" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Login" character varying(100) NOT NULL,
    "Password" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_User" PRIMARY KEY ("Id")
);
2024-05-07 21:29:42.607 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-07 21:29:42.607 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:29:42.607 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:29:42.607 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Report" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(100) NOT NULL,
    "Description" character varying(2000) NOT NULL,
    "UserId" bigint NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_Report" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Report_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-07 21:29:42.618 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Report" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(100) NOT NULL,
    "Description" character varying(2000) NOT NULL,
    "UserId" bigint NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_Report" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Report_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-07 21:29:42.618 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-07 21:29:42.618 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:29:42.618 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:29:42.619 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserRole" (
    "UserId" bigint NOT NULL,
    "RoleId" bigint NOT NULL,
    CONSTRAINT "PK_UserRole" PRIMARY KEY ("RoleId", "UserId"),
    CONSTRAINT "FK_UserRole_Role_RoleId" FOREIGN KEY ("RoleId") REFERENCES "Role" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_UserRole_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-07 21:29:42.624 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserRole" (
    "UserId" bigint NOT NULL,
    "RoleId" bigint NOT NULL,
    CONSTRAINT "PK_UserRole" PRIMARY KEY ("RoleId", "UserId"),
    CONSTRAINT "FK_UserRole_Role_RoleId" FOREIGN KEY ("RoleId") REFERENCES "Role" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_UserRole_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-07 21:29:42.624 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-07 21:29:42.624 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:29:42.624 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:29:42.624 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserToken" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "RefreshToken" text NOT NULL,
    "RefreshTokenExpiryTime" timestamp with time zone NOT NULL,
    "UserId" bigint NOT NULL,
    CONSTRAINT "PK_UserToken" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_UserToken_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-07 21:29:42.634 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserToken" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "RefreshToken" text NOT NULL,
    "RefreshTokenExpiryTime" timestamp with time zone NOT NULL,
    "UserId" bigint NOT NULL,
    CONSTRAINT "PK_UserToken" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_UserToken_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-07 21:29:42.634 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-07 21:29:42.634 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:29:42.634 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:29:42.634 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Role" ("Id", "Name")
VALUES (1, 'User');
INSERT INTO "Role" ("Id", "Name")
VALUES (2, 'Admin');
INSERT INTO "Role" ("Id", "Name")
VALUES (3, 'Moderator');
2024-05-07 21:29:42.643 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Role" ("Id", "Name")
VALUES (1, 'User');
INSERT INTO "Role" ("Id", "Name")
VALUES (2, 'Admin');
INSERT INTO "Role" ("Id", "Name")
VALUES (3, 'Moderator');
2024-05-07 21:29:42.643 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-07 21:29:42.643 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:29:42.643 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:29:42.643 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "User" ("Id", "CreatedAt", "CreatedBy", "Login", "Password", "UpdatedAt", "UpdatedBy")
VALUES (1, TIMESTAMPTZ '2024-05-07T18:29:41.892381Z', 0, 'svyatmtk', 'password', NULL, NULL);
2024-05-07 21:29:42.646 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "User" ("Id", "CreatedAt", "CreatedBy", "Login", "Password", "UpdatedAt", "UpdatedBy")
VALUES (1, TIMESTAMPTZ '2024-05-07T18:29:41.892381Z', 0, 'svyatmtk', 'password', NULL, NULL);
2024-05-07 21:29:42.646 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-07 21:29:42.646 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:29:42.646 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:29:42.646 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("Id", "CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (1, TIMESTAMPTZ '2024-05-07T18:29:41.888751Z', 0, 'First rep description', 'First repository', NULL, NULL, 1);
2024-05-07 21:29:42.649 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("Id", "CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (1, TIMESTAMPTZ '2024-05-07T18:29:41.888751Z', 0, 'First rep description', 'First repository', NULL, NULL, 1);
2024-05-07 21:29:42.649 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-07 21:29:42.649 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:29:42.649 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:29:42.649 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserRole" ("RoleId", "UserId")
VALUES (1, 1);
2024-05-07 21:29:42.652 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserRole" ("RoleId", "UserId")
VALUES (1, 1);
2024-05-07 21:29:42.652 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-07 21:29:42.652 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:29:42.652 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:29:42.652 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserToken" ("Id", "RefreshToken", "RefreshTokenExpiryTime", "UserId")
VALUES (1, 'kjfsdojk(*@#(23o', TIMESTAMPTZ '2024-05-14T18:29:41.892785Z', 1);
2024-05-07 21:29:42.655 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserToken" ("Id", "RefreshToken", "RefreshTokenExpiryTime", "UserId")
VALUES (1, 'kjfsdojk(*@#(23o', TIMESTAMPTZ '2024-05-14T18:29:41.892785Z', 1);
2024-05-07 21:29:42.655 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-07 21:29:42.655 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:29:42.655 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:29:42.656 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Report_UserId" ON "Report" ("UserId");
2024-05-07 21:29:42.661 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Report_UserId" ON "Report" ("UserId");
2024-05-07 21:29:42.661 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-07 21:29:42.661 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:29:42.661 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:29:42.662 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_UserRole_UserId" ON "UserRole" ("UserId");
2024-05-07 21:29:42.667 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_UserRole_UserId" ON "UserRole" ("UserId");
2024-05-07 21:29:42.667 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-07 21:29:42.667 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:29:42.667 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:29:42.667 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_UserToken_UserId" ON "UserToken" ("UserId");
2024-05-07 21:29:42.672 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_UserToken_UserId" ON "UserToken" ("UserId");
2024-05-07 21:29:42.672 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-07 21:29:42.672 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:29:42.672 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:29:42.672 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT setval(
    pg_get_serial_sequence('"Role"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "Role") + 1,
        nextval(pg_get_serial_sequence('"Role"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"User"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "User") + 1,
        nextval(pg_get_serial_sequence('"User"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"Report"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "Report") + 1,
        nextval(pg_get_serial_sequence('"Report"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"UserToken"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "UserToken") + 1,
        nextval(pg_get_serial_sequence('"UserToken"', 'Id'))),
    false);
2024-05-07 21:29:42.681 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT setval(
    pg_get_serial_sequence('"Role"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "Role") + 1,
        nextval(pg_get_serial_sequence('"Role"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"User"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "User") + 1,
        nextval(pg_get_serial_sequence('"User"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"Report"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "Report") + 1,
        nextval(pg_get_serial_sequence('"Report"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"UserToken"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "UserToken") + 1,
        nextval(pg_get_serial_sequence('"UserToken"', 'Id'))),
    false);
2024-05-07 21:29:42.684 +03:00 [DBG] Committing transaction.
2024-05-07 21:29:42.690 +03:00 [DBG] Committed transaction.
2024-05-07 21:29:42.692 +03:00 [DBG] Disposing transaction.
2024-05-07 21:29:42.692 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:29:42.695 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-07 21:29:42.810 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.RoleController (Diary.Api)
2024-05-07 21:29:42.814 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.RoleDto.RoleDto' ...
2024-05-07 21:29:42.816 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.RoleDto.RoleDto' using the name '' in request data ...
2024-05-07 21:29:42.817 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-07 21:29:42.831 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.RoleDto.RoleDto'
2024-05-07 21:29:42.831 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.RoleDto.RoleDto'.
2024-05-07 21:29:42.831 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.RoleDto.RoleDto'.
2024-05-07 21:29:42.831 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.RoleDto.RoleDto' ...
2024-05-07 21:29:42.837 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.RoleDto.RoleDto'.
2024-05-07 21:29:42.844 +03:00 [INF] Executing action method Diary.Api.Controllers.RoleController.CreateRole (Diary.Api) - Validation state: "Valid"
2024-05-07 21:29:44.951 +03:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(x => x.Name == __dto_Name_0)'
2024-05-07 21:29:45.231 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: new SingleQueryingEnumerable<Role>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.Name (string) Required MaxLength(50), 1] }
            SELECT TOP(1) r.Id, r.Name
            FROM Role AS r
            WHERE r.Name == @__dto_Name_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-07 21:29:45.284 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:29:45.286 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:29:45.286 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-07 21:29:45.287 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-07 21:29:45.293 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-05-07 21:29:45.296 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_Name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Role" AS r
WHERE r."Name" = @__dto_Name_0
LIMIT 1
2024-05-07 21:29:45.405 +03:00 [INF] Executed DbCommand (111ms) [Parameters=[@__dto_Name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Role" AS r
WHERE r."Name" = @__dto_Name_0
LIMIT 1
2024-05-07 21:29:45.535 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:29:45.539 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 131ms reading results.
2024-05-07 21:29:45.544 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:29:45.545 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (1ms).
2024-05-07 21:29:45.586 +03:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'Role.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-07 21:29:45.626 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-07 21:29:45.631 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-05-07 21:29:45.636 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-07 21:29:45.647 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-07 21:29:45.650 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-07 21:29:45.650 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-07 21:29:45.684 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:29:45.684 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:29:45.687 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-07 21:29:45.687 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-07 21:29:45.687 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-07 21:29:45.687 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Role" ("Name")
VALUES (@p0)
RETURNING "Id";
2024-05-07 21:29:45.693 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Role" ("Name")
VALUES (@p0)
RETURNING "Id";
2024-05-07 21:29:45.729 +03:00 [DBG] The foreign key property 'Role.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-07 21:29:45.734 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:29:45.734 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 40ms reading results.
2024-05-07 21:29:45.736 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:29:45.736 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-07 21:29:45.751 +03:00 [DBG] An entity of type 'Role' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-07 21:29:45.753 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-05-07 21:29:55.036 +03:00 [INF] Executed action method Diary.Api.Controllers.RoleController.CreateRole (Diary.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 12188.683ms.
2024-05-07 21:29:55.046 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-07 21:29:55.049 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-07 21:29:55.049 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-07 21:29:55.049 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-07 21:29:55.050 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-07 21:29:55.050 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-07 21:29:55.051 +03:00 [INF] Executing OkObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.RoleDto.RoleDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-07 21:29:55.061 +03:00 [INF] Executed action Diary.Api.Controllers.RoleController.CreateRole (Diary.Api) in 15458.2048ms
2024-05-07 21:29:55.061 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.RoleController.CreateRole (Diary.Api)'
2024-05-07 21:29:55.067 +03:00 [DBG] Connection ID "18230571318976184341" disconnecting.
2024-05-07 21:29:55.069 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-07 21:29:55.072 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:29:55.073 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (1ms).
2024-05-07 21:29:55.074 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44308/api/Role?api-version=1 - 200 null application/json; charset=utf-8 15536.781ms
2024-05-07 21:34:17.089 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-07 21:34:17.223 +03:00 [DBG] Hosting starting
2024-05-07 21:34:17.272 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-07 21:34:17.304 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-07 21:34:17.308 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-07 21:34:17.308 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-07 21:34:17.312 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-07 21:34:17.315 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-07 21:34:17.315 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-07 21:34:17.321 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-07 21:34:17.324 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-07 21:34:17.326 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-07 21:34:17.328 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-07 21:34:17.331 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-07 21:34:17.332 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-07 21:34:17.333 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-07 21:34:17.334 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-07 21:34:17.393 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-07 21:34:17.393 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-07 21:34:17.393 +03:00 [INF] Hosting environment: Development
2024-05-07 21:34:17.393 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-07 21:34:17.394 +03:00 [DBG] Hosting started
2024-05-07 21:34:17.458 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-07 21:34:17.460 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-07 21:34:17.506 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-07 21:34:17.506 +03:00 [DBG] Request did not match any endpoints
2024-05-07 21:34:17.613 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-07 21:34:17.658 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-07 21:34:17.683 +03:00 [DBG] Connection ID "18374686502757072978" disconnecting.
2024-05-07 21:34:17.684 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 404 null null 232.6729ms
2024-05-07 21:34:17.689 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 404
2024-05-07 21:34:21.832 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-07 21:34:21.833 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-07 21:34:21.833 +03:00 [DBG] Request did not match any endpoints
2024-05-07 21:34:21.834 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-07 21:34:21.932 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 99.7719ms
2024-05-07 21:34:21.938 +03:00 [DBG] Connection ID "18374686515641974920" disconnecting.
2024-05-07 21:34:22.159 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-07 21:34:22.159 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-07 21:34:22.159 +03:00 [DBG] Request did not match any endpoints
2024-05-07 21:34:22.160 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-07 21:34:22.416 +03:00 [ERR] Conflicting method/path combination "POST api/Role" for actions - Diary.Api.Controllers.RoleController.CreateRole (Diary.Api),Diary.Api.Controllers.RoleController.CreateRole (Diary.Api). Actions require a unique method/path combination for Swagger/OpenAPI 3.0. Use ConflictingActionsResolver as a workaround
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Conflicting method/path combination "POST api/Role" for actions - Diary.Api.Controllers.RoleController.CreateRole (Diary.Api),Diary.Api.Controllers.RoleController.CreateRole (Diary.Api). Actions require a unique method/path combination for Swagger/OpenAPI 3.0. Use ConflictingActionsResolver as a workaround
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Diary.Api.Middlewares.ExceptionHandlingMiddleware.InvokeAsync(HttpContext httpContext) in C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api\Middlewares\ExceptionHandlingMiddleware.cs:line 23
2024-05-07 21:34:22.475 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 500 null application/json; charset=utf-8 316.3557ms
2024-05-07 21:34:22.475 +03:00 [DBG] Connection ID "18230571318976184343" disconnecting.
2024-05-07 21:35:06.769 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-07 21:35:06.889 +03:00 [DBG] Hosting starting
2024-05-07 21:35:06.933 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-07 21:35:06.964 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-07 21:35:06.968 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-07 21:35:06.969 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-07 21:35:06.972 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-07 21:35:06.976 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-07 21:35:06.976 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-07 21:35:06.982 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-07 21:35:06.985 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-07 21:35:06.987 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-07 21:35:06.989 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-07 21:35:06.993 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-07 21:35:06.994 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-07 21:35:06.995 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-07 21:35:06.996 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-07 21:35:07.059 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-07 21:35:07.059 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-07 21:35:07.059 +03:00 [INF] Hosting environment: Development
2024-05-07 21:35:07.060 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-07 21:35:07.060 +03:00 [DBG] Hosting started
2024-05-07 21:35:07.122 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-07 21:35:07.124 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-07 21:35:07.168 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-07 21:35:07.168 +03:00 [DBG] Request did not match any endpoints
2024-05-07 21:35:07.274 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-07 21:35:07.311 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-07 21:35:07.337 +03:00 [DBG] Connection ID "18374686502757072980" disconnecting.
2024-05-07 21:35:07.339 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 404 null null 222.041ms
2024-05-07 21:35:07.343 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 404
2024-05-07 21:35:43.994 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-07 21:35:43.994 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-07 21:35:43.994 +03:00 [DBG] Request did not match any endpoints
2024-05-07 21:35:43.996 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-07 21:35:44.100 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 105.2096ms
2024-05-07 21:35:44.103 +03:00 [DBG] Connection ID "18302628921604046872" disconnecting.
2024-05-07 21:35:44.234 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-07 21:35:44.234 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-07 21:35:44.234 +03:00 [DBG] Request did not match any endpoints
2024-05-07 21:35:44.236 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-07 21:35:44.397 +03:00 [DBG] Connection ID "18374686524231909481" disconnecting.
2024-05-07 21:35:44.397 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 163.396ms
2024-05-07 21:36:16.369 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:44308/api/Role?api-version=1 - application/json 36
2024-05-07 21:36:16.382 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Role'
2024-05-07 21:36:16.386 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.RoleController.CreateRole (Diary.Api)' with route pattern 'api/Role' is valid for the request path '/api/Role'
2024-05-07 21:36:16.390 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.RoleController.CreateRole (Diary.Api)'
2024-05-07 21:36:16.391 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-07 21:36:16.391 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-07 21:36:16.394 +03:00 [DBG] The request has an origin header: 'https://localhost:44308'.
2024-05-07 21:36:16.431 +03:00 [INF] CORS policy execution successful.
2024-05-07 21:36:16.434 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.RoleController.CreateRole (Diary.Api)'
2024-05-07 21:36:16.456 +03:00 [INF] Route matched with {action = "CreateRole", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.RoleDto.RoleDto]]] CreateRole(Diary.Domain.Dto.RoleDto.UpdateRoleDto) on controller Diary.Api.Controllers.RoleController (Diary.Api).
2024-05-07 21:36:16.457 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-07 21:36:16.458 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-05-07 21:36:16.458 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-07 21:36:16.458 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-07 21:36:16.459 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-07 21:36:16.461 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.RoleController (Diary.Api)
2024-05-07 21:36:16.631 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-07 21:36:17.178 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'RoleId', 'UserId'}.
2024-05-07 21:36:17.500 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-07 21:36:17.513 +03:00 [DBG] Creating DbConnection.
2024-05-07 21:36:17.567 +03:00 [DBG] Created DbConnection. (51ms).
2024-05-07 21:36:17.573 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:36:17.684 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:36:17.690 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:36:17.703 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (7ms).
2024-05-07 21:36:17.716 +03:00 [DBG] Creating DbConnection.
2024-05-07 21:36:17.716 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-07 21:36:17.716 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-07 21:36:17.733 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-07 21:36:17.737 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-07 21:36:17.745 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (4ms).
2024-05-07 21:36:17.747 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (9ms).
2024-05-07 21:36:17.754 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "Diary" WITH (FORCE);
2024-05-07 21:36:17.913 +03:00 [INF] Executed DbCommand (160ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "Diary" WITH (FORCE);
2024-05-07 21:36:17.916 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-07 21:36:17.916 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5438' (0ms).
2024-05-07 21:36:17.918 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-07 21:36:17.919 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5438' (0ms).
2024-05-07 21:36:17.919 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:36:17.939 +03:00 [DBG] An error occurred using the connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:36:17.959 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'RoleId', 'UserId'}.
2024-05-07 21:36:18.005 +03:00 [DBG] Creating DbConnection.
2024-05-07 21:36:18.005 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-07 21:36:18.005 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-07 21:36:18.017 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-07 21:36:18.018 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-07 21:36:18.018 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:36:18.018 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:36:18.018 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "Diary";
2024-05-07 21:36:18.156 +03:00 [INF] Executed DbCommand (137ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "Diary";
2024-05-07 21:36:18.156 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-07 21:36:18.156 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5438' (0ms).
2024-05-07 21:36:18.157 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-07 21:36:18.157 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5438' (0ms).
2024-05-07 21:36:18.157 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:36:18.169 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:36:18.169 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:36:18.169 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-07 21:36:18.313 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:36:18.336 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:36:18.341 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-07 21:36:18.346 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-07 21:36:18.347 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-07 21:36:18.347 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:36:18.347 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:36:18.347 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Role" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(50) NOT NULL,
    CONSTRAINT "PK_Role" PRIMARY KEY ("Id")
);
2024-05-07 21:36:18.354 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Role" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(50) NOT NULL,
    CONSTRAINT "PK_Role" PRIMARY KEY ("Id")
);
2024-05-07 21:36:18.355 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-07 21:36:18.355 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:36:18.355 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:36:18.355 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "User" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Login" character varying(100) NOT NULL,
    "Password" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_User" PRIMARY KEY ("Id")
);
2024-05-07 21:36:18.365 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "User" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Login" character varying(100) NOT NULL,
    "Password" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_User" PRIMARY KEY ("Id")
);
2024-05-07 21:36:18.365 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-07 21:36:18.365 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:36:18.365 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:36:18.365 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Report" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(100) NOT NULL,
    "Description" character varying(2000) NOT NULL,
    "UserId" bigint NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_Report" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Report_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-07 21:36:18.375 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Report" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(100) NOT NULL,
    "Description" character varying(2000) NOT NULL,
    "UserId" bigint NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_Report" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Report_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-07 21:36:18.375 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-07 21:36:18.375 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:36:18.375 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:36:18.376 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserRole" (
    "UserId" bigint NOT NULL,
    "RoleId" bigint NOT NULL,
    CONSTRAINT "PK_UserRole" PRIMARY KEY ("RoleId", "UserId"),
    CONSTRAINT "FK_UserRole_Role_RoleId" FOREIGN KEY ("RoleId") REFERENCES "Role" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_UserRole_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-07 21:36:18.381 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserRole" (
    "UserId" bigint NOT NULL,
    "RoleId" bigint NOT NULL,
    CONSTRAINT "PK_UserRole" PRIMARY KEY ("RoleId", "UserId"),
    CONSTRAINT "FK_UserRole_Role_RoleId" FOREIGN KEY ("RoleId") REFERENCES "Role" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_UserRole_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-07 21:36:18.381 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-07 21:36:18.381 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:36:18.381 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:36:18.381 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserToken" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "RefreshToken" text NOT NULL,
    "RefreshTokenExpiryTime" timestamp with time zone NOT NULL,
    "UserId" bigint NOT NULL,
    CONSTRAINT "PK_UserToken" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_UserToken_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-07 21:36:18.392 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserToken" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "RefreshToken" text NOT NULL,
    "RefreshTokenExpiryTime" timestamp with time zone NOT NULL,
    "UserId" bigint NOT NULL,
    CONSTRAINT "PK_UserToken" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_UserToken_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-07 21:36:18.392 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-07 21:36:18.392 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:36:18.392 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:36:18.392 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Role" ("Id", "Name")
VALUES (1, 'User');
INSERT INTO "Role" ("Id", "Name")
VALUES (2, 'Admin');
INSERT INTO "Role" ("Id", "Name")
VALUES (3, 'Moderator');
2024-05-07 21:36:18.399 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Role" ("Id", "Name")
VALUES (1, 'User');
INSERT INTO "Role" ("Id", "Name")
VALUES (2, 'Admin');
INSERT INTO "Role" ("Id", "Name")
VALUES (3, 'Moderator');
2024-05-07 21:36:18.399 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-07 21:36:18.399 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:36:18.399 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:36:18.399 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "User" ("Id", "CreatedAt", "CreatedBy", "Login", "Password", "UpdatedAt", "UpdatedBy")
VALUES (1, TIMESTAMPTZ '2024-05-07T18:36:17.958378Z', 0, 'svyatmtk', 'password', NULL, NULL);
2024-05-07 21:36:18.400 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "User" ("Id", "CreatedAt", "CreatedBy", "Login", "Password", "UpdatedAt", "UpdatedBy")
VALUES (1, TIMESTAMPTZ '2024-05-07T18:36:17.958378Z', 0, 'svyatmtk', 'password', NULL, NULL);
2024-05-07 21:36:18.401 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-07 21:36:18.401 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:36:18.401 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:36:18.401 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("Id", "CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (1, TIMESTAMPTZ '2024-05-07T18:36:17.955094Z', 0, 'First rep description', 'First repository', NULL, NULL, 1);
2024-05-07 21:36:18.402 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("Id", "CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (1, TIMESTAMPTZ '2024-05-07T18:36:17.955094Z', 0, 'First rep description', 'First repository', NULL, NULL, 1);
2024-05-07 21:36:18.403 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-07 21:36:18.403 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:36:18.403 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:36:18.403 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserRole" ("RoleId", "UserId")
VALUES (1, 1);
2024-05-07 21:36:18.405 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserRole" ("RoleId", "UserId")
VALUES (1, 1);
2024-05-07 21:36:18.405 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-07 21:36:18.405 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:36:18.405 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:36:18.406 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserToken" ("Id", "RefreshToken", "RefreshTokenExpiryTime", "UserId")
VALUES (1, 'kjfsdojk(*@#(23o', TIMESTAMPTZ '2024-05-14T18:36:17.95877Z', 1);
2024-05-07 21:36:18.407 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserToken" ("Id", "RefreshToken", "RefreshTokenExpiryTime", "UserId")
VALUES (1, 'kjfsdojk(*@#(23o', TIMESTAMPTZ '2024-05-14T18:36:17.95877Z', 1);
2024-05-07 21:36:18.407 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-07 21:36:18.407 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:36:18.407 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:36:18.408 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Report_UserId" ON "Report" ("UserId");
2024-05-07 21:36:18.412 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Report_UserId" ON "Report" ("UserId");
2024-05-07 21:36:18.412 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-07 21:36:18.412 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:36:18.412 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:36:18.413 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_UserRole_UserId" ON "UserRole" ("UserId");
2024-05-07 21:36:18.420 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_UserRole_UserId" ON "UserRole" ("UserId");
2024-05-07 21:36:18.420 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-07 21:36:18.420 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:36:18.420 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:36:18.420 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_UserToken_UserId" ON "UserToken" ("UserId");
2024-05-07 21:36:18.425 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_UserToken_UserId" ON "UserToken" ("UserId");
2024-05-07 21:36:18.425 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-07 21:36:18.425 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:36:18.425 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:36:18.425 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT setval(
    pg_get_serial_sequence('"Role"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "Role") + 1,
        nextval(pg_get_serial_sequence('"Role"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"User"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "User") + 1,
        nextval(pg_get_serial_sequence('"User"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"Report"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "Report") + 1,
        nextval(pg_get_serial_sequence('"Report"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"UserToken"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "UserToken") + 1,
        nextval(pg_get_serial_sequence('"UserToken"', 'Id'))),
    false);
2024-05-07 21:36:18.433 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT setval(
    pg_get_serial_sequence('"Role"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "Role") + 1,
        nextval(pg_get_serial_sequence('"Role"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"User"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "User") + 1,
        nextval(pg_get_serial_sequence('"User"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"Report"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "Report") + 1,
        nextval(pg_get_serial_sequence('"Report"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"UserToken"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "UserToken") + 1,
        nextval(pg_get_serial_sequence('"UserToken"', 'Id'))),
    false);
2024-05-07 21:36:18.435 +03:00 [DBG] Committing transaction.
2024-05-07 21:36:18.441 +03:00 [DBG] Committed transaction.
2024-05-07 21:36:18.443 +03:00 [DBG] Disposing transaction.
2024-05-07 21:36:18.444 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:36:18.446 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-07 21:36:18.554 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.RoleController (Diary.Api)
2024-05-07 21:36:18.558 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.RoleDto.UpdateRoleDto' ...
2024-05-07 21:36:18.561 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.RoleDto.UpdateRoleDto' using the name '' in request data ...
2024-05-07 21:36:18.562 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-07 21:36:18.580 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.RoleDto.UpdateRoleDto'
2024-05-07 21:36:18.581 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.RoleDto.UpdateRoleDto'.
2024-05-07 21:36:18.581 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.RoleDto.UpdateRoleDto'.
2024-05-07 21:36:18.581 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.RoleDto.UpdateRoleDto' ...
2024-05-07 21:36:18.583 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.RoleDto.UpdateRoleDto'.
2024-05-07 21:36:18.589 +03:00 [INF] Executing action method Diary.Api.Controllers.RoleController.CreateRole (Diary.Api) - Validation state: "Valid"
2024-05-07 21:36:18.677 +03:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(x => x.Id == __p_0)'
2024-05-07 21:36:18.897 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: new SingleQueryingEnumerable<Role>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.Name (string) Required MaxLength(50), 1] }
            SELECT TOP(1) r.Id, r.Name
            FROM Role AS r
            WHERE r.Id == @__p_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-07 21:36:18.934 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:36:18.936 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:36:18.936 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-07 21:36:18.936 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-07 21:36:18.941 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-05-07 21:36:18.944 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Role" AS r
WHERE r."Id" = @__p_0
LIMIT 1
2024-05-07 21:36:19.022 +03:00 [INF] Executed DbCommand (80ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Role" AS r
WHERE r."Id" = @__p_0
LIMIT 1
2024-05-07 21:36:19.034 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:36:19.037 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 13ms reading results.
2024-05-07 21:36:19.042 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:36:19.043 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (1ms).
2024-05-07 21:36:19.053 +03:00 [INF] Executed action method Diary.Api.Controllers.RoleController.CreateRole (Diary.Api), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 461.1624ms.
2024-05-07 21:36:19.059 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-07 21:36:19.062 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-07 21:36:19.063 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-07 21:36:19.063 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-07 21:36:19.063 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-07 21:36:19.064 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-07 21:36:19.065 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.RoleDto.RoleDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-07 21:36:19.078 +03:00 [INF] Executed action Diary.Api.Controllers.RoleController.CreateRole (Diary.Api) in 2614.7496ms
2024-05-07 21:36:19.078 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.RoleController.CreateRole (Diary.Api)'
2024-05-07 21:36:19.086 +03:00 [DBG] Connection ID "18374686528526876739" disconnecting.
2024-05-07 21:36:19.088 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-07 21:36:19.092 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:36:19.093 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (1ms).
2024-05-07 21:36:19.094 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:44308/api/Role?api-version=1 - 400 null application/json; charset=utf-8 2725.6004ms
2024-05-07 21:37:13.607 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:44308/api/Role?api-version=1 - application/json 36
2024-05-07 21:37:13.608 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Role'
2024-05-07 21:37:13.608 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.RoleController.CreateRole (Diary.Api)' with route pattern 'api/Role' is valid for the request path '/api/Role'
2024-05-07 21:37:13.608 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.RoleController.CreateRole (Diary.Api)'
2024-05-07 21:37:13.609 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-07 21:37:13.609 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-07 21:37:13.610 +03:00 [DBG] The request has an origin header: 'https://localhost:44308'.
2024-05-07 21:37:13.610 +03:00 [INF] CORS policy execution successful.
2024-05-07 21:37:13.610 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.RoleController.CreateRole (Diary.Api)'
2024-05-07 21:37:13.610 +03:00 [INF] Route matched with {action = "CreateRole", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.RoleDto.RoleDto]]] CreateRole(Diary.Domain.Dto.RoleDto.UpdateRoleDto) on controller Diary.Api.Controllers.RoleController (Diary.Api).
2024-05-07 21:37:13.611 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-07 21:37:13.611 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-05-07 21:37:13.611 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-07 21:37:13.611 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-07 21:37:13.611 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-07 21:37:13.612 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.RoleController (Diary.Api)
2024-05-07 21:37:13.636 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-07 21:37:13.647 +03:00 [DBG] Creating DbConnection.
2024-05-07 21:37:13.647 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-07 21:37:13.648 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:37:13.660 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:37:13.660 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:37:13.661 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-07 21:37:13.664 +03:00 [DBG] Creating DbConnection.
2024-05-07 21:37:13.664 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-07 21:37:13.665 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-07 21:37:13.676 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-07 21:37:13.676 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-07 21:37:13.676 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:37:13.676 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:37:13.676 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "Diary" WITH (FORCE);
2024-05-07 21:37:13.710 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE "Diary" WITH (FORCE);
2024-05-07 21:37:13.711 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-07 21:37:13.711 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5438' (0ms).
2024-05-07 21:37:13.711 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-07 21:37:13.711 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5438' (0ms).
2024-05-07 21:37:13.712 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:37:13.724 +03:00 [DBG] An error occurred using the connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:37:13.725 +03:00 [DBG] Creating DbConnection.
2024-05-07 21:37:13.725 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-07 21:37:13.726 +03:00 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-07 21:37:13.736 +03:00 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-07 21:37:13.736 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-07 21:37:13.736 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:37:13.736 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:37:13.736 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "Diary";
2024-05-07 21:37:13.805 +03:00 [INF] Executed DbCommand (69ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "Diary";
2024-05-07 21:37:13.806 +03:00 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-07 21:37:13.806 +03:00 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5438' (0ms).
2024-05-07 21:37:13.806 +03:00 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5438'.
2024-05-07 21:37:13.807 +03:00 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5438' (0ms).
2024-05-07 21:37:13.807 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:37:13.819 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:37:13.819 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:37:13.820 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-07 21:37:13.832 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:37:13.841 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:37:13.842 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-07 21:37:13.842 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-07 21:37:13.842 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-07 21:37:13.842 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:37:13.842 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:37:13.842 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Role" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(50) NOT NULL,
    CONSTRAINT "PK_Role" PRIMARY KEY ("Id")
);
2024-05-07 21:37:13.853 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Role" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(50) NOT NULL,
    CONSTRAINT "PK_Role" PRIMARY KEY ("Id")
);
2024-05-07 21:37:13.853 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-07 21:37:13.853 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:37:13.853 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:37:13.854 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "User" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Login" character varying(100) NOT NULL,
    "Password" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_User" PRIMARY KEY ("Id")
);
2024-05-07 21:37:13.866 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "User" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Login" character varying(100) NOT NULL,
    "Password" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_User" PRIMARY KEY ("Id")
);
2024-05-07 21:37:13.866 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-07 21:37:13.866 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:37:13.866 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:37:13.866 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Report" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(100) NOT NULL,
    "Description" character varying(2000) NOT NULL,
    "UserId" bigint NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_Report" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Report_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-07 21:37:13.876 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Report" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(100) NOT NULL,
    "Description" character varying(2000) NOT NULL,
    "UserId" bigint NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "CreatedBy" bigint NOT NULL,
    "UpdatedAt" timestamp with time zone,
    "UpdatedBy" bigint,
    CONSTRAINT "PK_Report" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Report_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-07 21:37:13.876 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-07 21:37:13.876 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:37:13.876 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:37:13.876 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserRole" (
    "UserId" bigint NOT NULL,
    "RoleId" bigint NOT NULL,
    CONSTRAINT "PK_UserRole" PRIMARY KEY ("RoleId", "UserId"),
    CONSTRAINT "FK_UserRole_Role_RoleId" FOREIGN KEY ("RoleId") REFERENCES "Role" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_UserRole_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-07 21:37:13.883 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserRole" (
    "UserId" bigint NOT NULL,
    "RoleId" bigint NOT NULL,
    CONSTRAINT "PK_UserRole" PRIMARY KEY ("RoleId", "UserId"),
    CONSTRAINT "FK_UserRole_Role_RoleId" FOREIGN KEY ("RoleId") REFERENCES "Role" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_UserRole_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-07 21:37:13.883 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-07 21:37:13.883 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:37:13.883 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:37:13.883 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserToken" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "RefreshToken" text NOT NULL,
    "RefreshTokenExpiryTime" timestamp with time zone NOT NULL,
    "UserId" bigint NOT NULL,
    CONSTRAINT "PK_UserToken" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_UserToken_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-07 21:37:13.898 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserToken" (
    "Id" bigint GENERATED BY DEFAULT AS IDENTITY,
    "RefreshToken" text NOT NULL,
    "RefreshTokenExpiryTime" timestamp with time zone NOT NULL,
    "UserId" bigint NOT NULL,
    CONSTRAINT "PK_UserToken" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_UserToken_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2024-05-07 21:37:13.898 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-07 21:37:13.898 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:37:13.898 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:37:13.898 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Role" ("Id", "Name")
VALUES (1, 'User');
INSERT INTO "Role" ("Id", "Name")
VALUES (2, 'Admin');
INSERT INTO "Role" ("Id", "Name")
VALUES (3, 'Moderator');
2024-05-07 21:37:13.901 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Role" ("Id", "Name")
VALUES (1, 'User');
INSERT INTO "Role" ("Id", "Name")
VALUES (2, 'Admin');
INSERT INTO "Role" ("Id", "Name")
VALUES (3, 'Moderator');
2024-05-07 21:37:13.901 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-07 21:37:13.901 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:37:13.901 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:37:13.901 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "User" ("Id", "CreatedAt", "CreatedBy", "Login", "Password", "UpdatedAt", "UpdatedBy")
VALUES (1, TIMESTAMPTZ '2024-05-07T18:36:17.958378Z', 0, 'svyatmtk', 'password', NULL, NULL);
2024-05-07 21:37:13.903 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "User" ("Id", "CreatedAt", "CreatedBy", "Login", "Password", "UpdatedAt", "UpdatedBy")
VALUES (1, TIMESTAMPTZ '2024-05-07T18:36:17.958378Z', 0, 'svyatmtk', 'password', NULL, NULL);
2024-05-07 21:37:13.903 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-07 21:37:13.903 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:37:13.903 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:37:13.903 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("Id", "CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (1, TIMESTAMPTZ '2024-05-07T18:36:17.955094Z', 0, 'First rep description', 'First repository', NULL, NULL, 1);
2024-05-07 21:37:13.906 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("Id", "CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (1, TIMESTAMPTZ '2024-05-07T18:36:17.955094Z', 0, 'First rep description', 'First repository', NULL, NULL, 1);
2024-05-07 21:37:13.907 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-07 21:37:13.907 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:37:13.907 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:37:13.907 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserRole" ("RoleId", "UserId")
VALUES (1, 1);
2024-05-07 21:37:13.908 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserRole" ("RoleId", "UserId")
VALUES (1, 1);
2024-05-07 21:37:13.909 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-07 21:37:13.909 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:37:13.909 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:37:13.909 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserToken" ("Id", "RefreshToken", "RefreshTokenExpiryTime", "UserId")
VALUES (1, 'kjfsdojk(*@#(23o', TIMESTAMPTZ '2024-05-14T18:36:17.95877Z', 1);
2024-05-07 21:37:13.911 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserToken" ("Id", "RefreshToken", "RefreshTokenExpiryTime", "UserId")
VALUES (1, 'kjfsdojk(*@#(23o', TIMESTAMPTZ '2024-05-14T18:36:17.95877Z', 1);
2024-05-07 21:37:13.911 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-07 21:37:13.911 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:37:13.911 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:37:13.912 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Report_UserId" ON "Report" ("UserId");
2024-05-07 21:37:13.916 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Report_UserId" ON "Report" ("UserId");
2024-05-07 21:37:13.916 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-07 21:37:13.916 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:37:13.916 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:37:13.916 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_UserRole_UserId" ON "UserRole" ("UserId");
2024-05-07 21:37:13.921 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_UserRole_UserId" ON "UserRole" ("UserId");
2024-05-07 21:37:13.922 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-07 21:37:13.922 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:37:13.922 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:37:13.922 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_UserToken_UserId" ON "UserToken" ("UserId");
2024-05-07 21:37:13.926 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_UserToken_UserId" ON "UserToken" ("UserId");
2024-05-07 21:37:13.927 +03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-05-07 21:37:13.927 +03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:37:13.927 +03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-05-07 21:37:13.927 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT setval(
    pg_get_serial_sequence('"Role"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "Role") + 1,
        nextval(pg_get_serial_sequence('"Role"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"User"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "User") + 1,
        nextval(pg_get_serial_sequence('"User"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"Report"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "Report") + 1,
        nextval(pg_get_serial_sequence('"Report"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"UserToken"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "UserToken") + 1,
        nextval(pg_get_serial_sequence('"UserToken"', 'Id'))),
    false);
2024-05-07 21:37:13.930 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT setval(
    pg_get_serial_sequence('"Role"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "Role") + 1,
        nextval(pg_get_serial_sequence('"Role"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"User"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "User") + 1,
        nextval(pg_get_serial_sequence('"User"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"Report"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "Report") + 1,
        nextval(pg_get_serial_sequence('"Report"', 'Id'))),
    false);
SELECT setval(
    pg_get_serial_sequence('"UserToken"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "UserToken") + 1,
        nextval(pg_get_serial_sequence('"UserToken"', 'Id'))),
    false);
2024-05-07 21:37:13.930 +03:00 [DBG] Committing transaction.
2024-05-07 21:37:13.934 +03:00 [DBG] Committed transaction.
2024-05-07 21:37:13.935 +03:00 [DBG] Disposing transaction.
2024-05-07 21:37:13.935 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:37:13.935 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-07 21:37:13.936 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.RoleController (Diary.Api)
2024-05-07 21:37:13.936 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.RoleDto.UpdateRoleDto' ...
2024-05-07 21:37:13.936 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.RoleDto.UpdateRoleDto' using the name '' in request data ...
2024-05-07 21:37:13.936 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-07 21:37:13.937 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.RoleDto.UpdateRoleDto'
2024-05-07 21:37:13.937 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.RoleDto.UpdateRoleDto'.
2024-05-07 21:37:13.937 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.RoleDto.UpdateRoleDto'.
2024-05-07 21:37:13.937 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.RoleDto.UpdateRoleDto' ...
2024-05-07 21:37:13.937 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.RoleDto.UpdateRoleDto'.
2024-05-07 21:37:13.937 +03:00 [INF] Executing action method Diary.Api.Controllers.RoleController.CreateRole (Diary.Api) - Validation state: "Valid"
2024-05-07 21:37:18.309 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:37:18.309 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:37:18.309 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-07 21:37:18.309 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-07 21:37:18.309 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-07 21:37:18.309 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Role" AS r
WHERE r."Id" = @__p_0
LIMIT 1
2024-05-07 21:37:18.326 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Role" AS r
WHERE r."Id" = @__p_0
LIMIT 1
2024-05-07 21:37:18.337 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:37:18.339 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 12ms reading results.
2024-05-07 21:37:18.339 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:37:18.339 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-07 21:37:48.410 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-07 21:37:48.547 +03:00 [DBG] Hosting starting
2024-05-07 21:37:48.602 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-07 21:37:48.635 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-07 21:37:48.640 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-07 21:37:48.641 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-07 21:37:48.644 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-07 21:37:48.650 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-07 21:37:48.651 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-07 21:37:48.658 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-07 21:37:48.662 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-07 21:37:48.664 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-07 21:37:48.666 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-07 21:37:48.670 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-07 21:37:48.671 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-07 21:37:48.672 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-07 21:37:48.673 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-07 21:37:48.830 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-07 21:37:48.831 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-07 21:37:48.831 +03:00 [INF] Hosting environment: Development
2024-05-07 21:37:48.831 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-07 21:37:48.831 +03:00 [DBG] Hosting started
2024-05-07 21:37:48.904 +03:00 [DBG] Connection ID "18374686498462105746" disconnecting.
2024-05-07 21:37:48.929 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-07 21:37:48.932 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-07 21:37:48.985 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-07 21:37:48.986 +03:00 [DBG] Request did not match any endpoints
2024-05-07 21:37:49.196 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-07 21:37:49.242 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-07 21:37:49.245 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 499 null null 322.8529ms
2024-05-07 21:37:49.249 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 499
2024-05-07 21:38:18.087 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-07 21:38:18.088 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-07 21:38:18.088 +03:00 [DBG] Request did not match any endpoints
2024-05-07 21:38:18.090 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-07 21:38:18.208 +03:00 [DBG] Connection ID "18374686524231909485" disconnecting.
2024-05-07 21:38:18.208 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 122.9368ms
2024-05-07 21:38:18.425 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-07 21:38:18.425 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-07 21:38:18.425 +03:00 [DBG] Request did not match any endpoints
2024-05-07 21:38:18.426 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-07 21:38:18.581 +03:00 [DBG] Connection ID "18230571293206380593" disconnecting.
2024-05-07 21:38:18.581 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 156.7795ms
2024-05-07 21:38:32.300 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/api/Role?api-version=1 - application/json 26
2024-05-07 21:38:32.312 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Role'
2024-05-07 21:38:32.316 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.RoleController.CreateRole (Diary.Api)' with route pattern 'api/Role' is valid for the request path '/api/Role'
2024-05-07 21:38:32.320 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.RoleController.CreateRole (Diary.Api)'
2024-05-07 21:38:32.321 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-07 21:38:32.321 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-07 21:38:32.322 +03:00 [DBG] The request has an origin header: 'https://localhost:44308'.
2024-05-07 21:38:32.322 +03:00 [INF] CORS policy execution successful.
2024-05-07 21:38:32.323 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.RoleController.CreateRole (Diary.Api)'
2024-05-07 21:38:32.346 +03:00 [INF] Route matched with {action = "CreateRole", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.RoleDto.RoleDto]]] CreateRole(Diary.Domain.Dto.RoleDto.RoleDto) on controller Diary.Api.Controllers.RoleController (Diary.Api).
2024-05-07 21:38:32.347 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-07 21:38:32.347 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-05-07 21:38:32.348 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-07 21:38:32.348 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-07 21:38:32.348 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-07 21:38:32.350 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.RoleController (Diary.Api)
2024-05-07 21:38:32.514 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-07 21:38:33.052 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'RoleId', 'UserId'}.
2024-05-07 21:38:33.377 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-07 21:38:33.390 +03:00 [DBG] Creating DbConnection.
2024-05-07 21:38:33.443 +03:00 [DBG] Created DbConnection. (49ms).
2024-05-07 21:38:33.449 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:38:33.564 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:38:33.570 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:38:33.581 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (6ms).
2024-05-07 21:38:33.589 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-07 21:38:33.596 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2024-05-07 21:38:33.598 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (9ms).
2024-05-07 21:38:33.598 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:38:33.621 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:38:33.631 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-07 21:38:33.718 +03:00 [INF] Executed DbCommand (88ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-07 21:38:33.721 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:38:33.723 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-07 21:38:33.831 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.RoleController (Diary.Api)
2024-05-07 21:38:33.834 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.RoleDto.RoleDto' ...
2024-05-07 21:38:33.837 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.RoleDto.RoleDto' using the name '' in request data ...
2024-05-07 21:38:33.837 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-07 21:38:33.849 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.RoleDto.RoleDto'
2024-05-07 21:38:33.850 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.RoleDto.RoleDto'.
2024-05-07 21:38:33.850 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.RoleDto.RoleDto'.
2024-05-07 21:38:33.850 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.RoleDto.RoleDto' ...
2024-05-07 21:38:33.853 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.RoleDto.RoleDto'.
2024-05-07 21:38:33.859 +03:00 [INF] Executing action method Diary.Api.Controllers.RoleController.CreateRole (Diary.Api) - Validation state: "Valid"
2024-05-07 21:38:58.640 +03:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(x => x.Name == __dto_Name_0)'
2024-05-07 21:38:58.864 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: new SingleQueryingEnumerable<Role>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.Name (string) Required MaxLength(50), 1] }
            SELECT TOP(1) r.Id, r.Name
            FROM Role AS r
            WHERE r.Name == @__dto_Name_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-07 21:38:58.902 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:38:58.904 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:38:58.904 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-07 21:38:58.905 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-07 21:38:58.910 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-05-07 21:38:58.913 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_Name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Role" AS r
WHERE r."Name" = @__dto_Name_0
LIMIT 1
2024-05-07 21:38:58.951 +03:00 [INF] Executed DbCommand (40ms) [Parameters=[@__dto_Name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Role" AS r
WHERE r."Name" = @__dto_Name_0
LIMIT 1
2024-05-07 21:38:59.002 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:38:59.004 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 50ms reading results.
2024-05-07 21:38:59.009 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:38:59.010 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (1ms).
2024-05-07 21:39:03.580 +03:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'Role.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-07 21:39:03.616 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-07 21:39:03.620 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-05-07 21:39:03.624 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-07 21:39:03.631 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-07 21:39:03.633 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-07 21:39:03.634 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-07 21:39:03.698 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:39:03.699 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:39:03.701 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-07 21:39:03.701 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-07 21:39:03.701 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-07 21:39:03.701 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Role" ("Name")
VALUES (@p0)
RETURNING "Id";
2024-05-07 21:39:03.706 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Role" ("Name")
VALUES (@p0)
RETURNING "Id";
2024-05-07 21:39:03.757 +03:00 [DBG] The foreign key property 'Role.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-07 21:39:03.761 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:39:03.761 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 55ms reading results.
2024-05-07 21:39:03.762 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:39:03.762 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-07 21:39:03.774 +03:00 [DBG] An entity of type 'Role' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-07 21:39:03.776 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-05-07 21:39:08.502 +03:00 [INF] Executed action method Diary.Api.Controllers.RoleController.CreateRole (Diary.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 34639.6948ms.
2024-05-07 21:39:08.508 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-07 21:39:08.510 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-07 21:39:08.511 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-07 21:39:08.511 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-07 21:39:08.511 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-07 21:39:08.512 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-07 21:39:08.512 +03:00 [INF] Executing OkObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.RoleDto.RoleDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-07 21:39:08.522 +03:00 [INF] Executed action Diary.Api.Controllers.RoleController.CreateRole (Diary.Api) in 36170.5353ms
2024-05-07 21:39:08.523 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.RoleController.CreateRole (Diary.Api)'
2024-05-07 21:39:08.530 +03:00 [DBG] Connection ID "18374686524231909487" disconnecting.
2024-05-07 21:39:08.532 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-07 21:39:08.535 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:39:08.537 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (1ms).
2024-05-07 21:39:08.538 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44308/api/Role?api-version=1 - 200 null application/json; charset=utf-8 36237.806ms
2024-05-07 21:39:33.563 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:44308/api/Role?api-version=1 - application/json 36
2024-05-07 21:39:33.563 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Role'
2024-05-07 21:39:33.563 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.RoleController.CreateRole (Diary.Api)' with route pattern 'api/Role' is valid for the request path '/api/Role'
2024-05-07 21:39:33.563 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.RoleController.CreateRole (Diary.Api)'
2024-05-07 21:39:33.563 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-07 21:39:33.564 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-07 21:39:33.564 +03:00 [DBG] The request has an origin header: 'https://localhost:44308'.
2024-05-07 21:39:33.564 +03:00 [INF] CORS policy execution successful.
2024-05-07 21:39:33.564 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.RoleController.CreateRole (Diary.Api)'
2024-05-07 21:39:33.567 +03:00 [INF] Route matched with {action = "CreateRole", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.RoleDto.RoleDto]]] CreateRole(Diary.Domain.Dto.RoleDto.UpdateRoleDto) on controller Diary.Api.Controllers.RoleController (Diary.Api).
2024-05-07 21:39:33.568 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-07 21:39:33.568 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-05-07 21:39:33.568 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-07 21:39:33.568 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-07 21:39:33.568 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-07 21:39:33.568 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.RoleController (Diary.Api)
2024-05-07 21:39:33.597 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-07 21:39:33.599 +03:00 [DBG] Creating DbConnection.
2024-05-07 21:39:33.599 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-07 21:39:33.600 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:39:33.610 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:39:33.610 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:39:33.610 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-07 21:39:33.610 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-07 21:39:33.611 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-05-07 21:39:33.611 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-05-07 21:39:33.611 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:39:33.611 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:39:33.611 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-07 21:39:33.614 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-07 21:39:33.614 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:39:33.615 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-07 21:39:33.616 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.RoleController (Diary.Api)
2024-05-07 21:39:33.616 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.RoleDto.UpdateRoleDto' ...
2024-05-07 21:39:33.616 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.RoleDto.UpdateRoleDto' using the name '' in request data ...
2024-05-07 21:39:33.617 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-07 21:39:33.623 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.RoleDto.UpdateRoleDto'
2024-05-07 21:39:33.623 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.RoleDto.UpdateRoleDto'.
2024-05-07 21:39:33.623 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.RoleDto.UpdateRoleDto'.
2024-05-07 21:39:33.623 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.RoleDto.UpdateRoleDto' ...
2024-05-07 21:39:33.623 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.RoleDto.UpdateRoleDto'.
2024-05-07 21:39:33.624 +03:00 [INF] Executing action method Diary.Api.Controllers.RoleController.CreateRole (Diary.Api) - Validation state: "Valid"
2024-05-07 21:40:34.303 +03:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(x => x.Id == __p_0)'
2024-05-07 21:40:34.313 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: new SingleQueryingEnumerable<Role>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.Name (string) Required MaxLength(50), 1] }
            SELECT TOP(1) r.Id, r.Name
            FROM Role AS r
            WHERE r.Id == @__p_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-07 21:40:34.314 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:40:34.314 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:40:34.314 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-07 21:40:34.314 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-07 21:40:34.314 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-07 21:40:34.314 +03:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Role" AS r
WHERE r."Id" = @__p_0
LIMIT 1
2024-05-07 21:40:34.318 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Role" AS r
WHERE r."Id" = @__p_0
LIMIT 1
2024-05-07 21:40:34.370 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-07 21:40:34.371 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:40:34.371 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 44ms reading results.
2024-05-07 21:40:34.371 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:40:34.371 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-07 21:40:43.787 +03:00 [DBG] An entity of type 'Role' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-07 21:40:43.788 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-05-07 21:40:43.788 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-07 21:40:43.788 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-07 21:40:43.788 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-07 21:40:43.788 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-07 21:40:43.793 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:40:43.793 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:40:43.793 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-07 21:40:43.793 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-07 21:40:43.794 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-07 21:40:43.794 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int64), @p0='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Role" SET "Name" = @p0
WHERE "Id" = @p1;
2024-05-07 21:40:43.824 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@p1='?' (DbType = Int64), @p0='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Role" SET "Name" = @p0
WHERE "Id" = @p1;
2024-05-07 21:40:43.836 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:40:43.845 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 20ms reading results.
2024-05-07 21:40:43.846 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:40:43.846 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-07 21:40:43.846 +03:00 [DBG] An entity of type 'Role' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-07 21:40:43.846 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-05-07 21:40:52.539 +03:00 [INF] Executed action method Diary.Api.Controllers.RoleController.CreateRole (Diary.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 78914.9525ms.
2024-05-07 21:40:52.539 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-07 21:40:52.539 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-07 21:40:52.539 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-07 21:40:52.540 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-07 21:40:52.540 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-07 21:40:52.540 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-07 21:40:52.540 +03:00 [INF] Executing OkObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.RoleDto.RoleDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-07 21:40:52.540 +03:00 [INF] Executed action Diary.Api.Controllers.RoleController.CreateRole (Diary.Api) in 78972.5272ms
2024-05-07 21:40:52.541 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.RoleController.CreateRole (Diary.Api)'
2024-05-07 21:40:52.541 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-07 21:40:52.541 +03:00 [DBG] Connection ID "18374686524231909489" disconnecting.
2024-05-07 21:40:52.541 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:40:52.541 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-07 21:40:52.541 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:44308/api/Role?api-version=1 - 200 null application/json; charset=utf-8 78979.0445ms
2024-05-07 21:41:09.041 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/api/Role/4?api-version=1 - null null
2024-05-07 21:41:09.042 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Role/4'
2024-05-07 21:41:09.042 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.RoleController.CreateRole (Diary.Api)' with route pattern 'api/Role/{id:long}' is valid for the request path '/api/Role/4'
2024-05-07 21:41:09.043 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.RoleController.CreateRole (Diary.Api)'
2024-05-07 21:41:09.043 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-07 21:41:09.043 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-07 21:41:09.043 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.RoleController.CreateRole (Diary.Api)'
2024-05-07 21:41:09.051 +03:00 [INF] Route matched with {action = "CreateRole", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.RoleDto.RoleDto]]] CreateRole(Int64) on controller Diary.Api.Controllers.RoleController (Diary.Api).
2024-05-07 21:41:09.051 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-07 21:41:09.051 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-05-07 21:41:09.051 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-07 21:41:09.051 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-07 21:41:09.051 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-07 21:41:09.051 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.RoleController (Diary.Api)
2024-05-07 21:41:09.073 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-07 21:41:09.076 +03:00 [DBG] Creating DbConnection.
2024-05-07 21:41:09.077 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-07 21:41:09.077 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:41:09.087 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:41:09.087 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:41:09.087 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-07 21:41:09.088 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-07 21:41:09.088 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-05-07 21:41:09.088 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-05-07 21:41:09.088 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:41:09.088 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:41:09.088 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-07 21:41:09.091 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-07 21:41:09.091 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:41:09.091 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-07 21:41:09.092 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.RoleController (Diary.Api)
2024-05-07 21:41:09.092 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int64' ...
2024-05-07 21:41:09.092 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int64' using the name 'id' in request data ...
2024-05-07 21:41:09.093 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int64'.
2024-05-07 21:41:09.094 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int64'.
2024-05-07 21:41:09.094 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int64' ...
2024-05-07 21:41:09.094 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int64'.
2024-05-07 21:41:09.094 +03:00 [INF] Executing action method Diary.Api.Controllers.RoleController.CreateRole (Diary.Api) - Validation state: "Valid"
2024-05-07 21:41:17.856 +03:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(x => x.Id == __id_0)'
2024-05-07 21:41:17.858 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: new SingleQueryingEnumerable<Role>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.Name (string) Required MaxLength(50), 1] }
            SELECT TOP(1) r.Id, r.Name
            FROM Role AS r
            WHERE r.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-07 21:41:17.859 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:41:17.859 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:41:17.859 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-07 21:41:17.859 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-07 21:41:17.859 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-07 21:41:17.859 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Role" AS r
WHERE r."Id" = @__id_0
LIMIT 1
2024-05-07 21:41:17.862 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Role" AS r
WHERE r."Id" = @__id_0
LIMIT 1
2024-05-07 21:41:17.872 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-07 21:41:17.873 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:41:17.873 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 10ms reading results.
2024-05-07 21:41:17.876 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:41:17.877 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-07 21:41:23.040 +03:00 [DBG] An entity of type 'Role' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-07 21:41:23.041 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-05-07 21:41:23.041 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-07 21:41:23.041 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-07 21:41:23.042 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-07 21:41:23.042 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-07 21:41:23.045 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:41:23.046 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:41:23.046 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-07 21:41:23.046 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-07 21:41:23.046 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-07 21:41:23.046 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Role"
WHERE "Id" = @p0;
2024-05-07 21:41:23.061 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Role"
WHERE "Id" = @p0;
2024-05-07 21:41:23.061 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:41:23.071 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 9ms reading results.
2024-05-07 21:41:23.072 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:41:23.072 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-07 21:41:23.096 +03:00 [DBG] An entity of type 'Role' tracked by 'ApplicationDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-07 21:41:23.096 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-05-07 21:41:25.856 +03:00 [INF] Executed action method Diary.Api.Controllers.RoleController.CreateRole (Diary.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 16761.4103ms.
2024-05-07 21:41:25.856 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-07 21:41:25.857 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-07 21:41:25.857 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-07 21:41:25.857 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-07 21:41:25.857 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-07 21:41:25.857 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-07 21:41:25.857 +03:00 [INF] Executing OkObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.RoleDto.RoleDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-07 21:41:25.857 +03:00 [INF] Executed action Diary.Api.Controllers.RoleController.CreateRole (Diary.Api) in 16806.275ms
2024-05-07 21:41:25.857 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.RoleController.CreateRole (Diary.Api)'
2024-05-07 21:41:25.858 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-07 21:41:25.858 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-07 21:41:25.858 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-07 21:41:25.859 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/api/Role/4?api-version=1 - 200 null application/json; charset=utf-8 16817.203ms
2024-05-07 21:41:25.862 +03:00 [DBG] Connection ID "18374686528526876741" disconnecting.
2024-05-08 03:55:28.406 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-08 03:55:28.625 +03:00 [DBG] Hosting starting
2024-05-08 03:55:28.685 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-08 03:55:28.725 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-08 03:55:28.749 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-08 03:55:28.766 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-08 03:55:28.788 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-08 03:55:28.793 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-08 03:55:28.794 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-08 03:55:28.801 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-08 03:55:28.805 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-08 03:55:28.808 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-08 03:55:28.809 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-08 03:55:28.815 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-08 03:55:28.816 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-08 03:55:28.818 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-08 03:55:28.820 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-08 03:55:29.039 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-08 03:55:29.040 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-08 03:55:29.040 +03:00 [INF] Hosting environment: Development
2024-05-08 03:55:29.040 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-08 03:55:29.040 +03:00 [DBG] Hosting started
2024-05-08 03:55:29.187 +03:00 [DBG] Connection ID "18374686489872171128" disconnecting.
2024-05-08 03:55:29.239 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-08 03:55:29.239 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-08 03:55:29.242 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-08 03:55:29.242 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-08 03:55:29.308 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-08 03:55:29.308 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-08 03:55:29.308 +03:00 [DBG] Request did not match any endpoints
2024-05-08 03:55:29.308 +03:00 [DBG] Request did not match any endpoints
2024-05-08 03:55:29.471 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-08 03:55:29.471 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-08 03:55:29.554 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-08 03:55:29.559 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 499 null null 328.0335ms
2024-05-08 03:55:29.563 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 499
2024-05-08 03:55:29.743 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 512.0633ms
2024-05-08 03:55:29.743 +03:00 [DBG] Connection ID "18374686515641974924" disconnecting.
2024-05-08 03:55:29.882 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger-ui-standalone-preset.js - null null
2024-05-08 03:55:29.882 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger-ui.css - null null
2024-05-08 03:55:29.883 +03:00 [DBG] No candidates found for the request path '/swagger-ui.css'
2024-05-08 03:55:29.883 +03:00 [DBG] No candidates found for the request path '/swagger-ui-standalone-preset.js'
2024-05-08 03:55:29.883 +03:00 [DBG] Request did not match any endpoints
2024-05-08 03:55:29.883 +03:00 [DBG] Request did not match any endpoints
2024-05-08 03:55:29.884 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-08 03:55:29.884 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-08 03:55:29.907 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-05-08 03:55:29.908 +03:00 [DBG] Connection ID "18302628891539275838" disconnecting.
2024-05-08 03:55:29.912 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-05-08 03:55:29.912 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger-ui.css - 200 143943 text/css 29.875ms
2024-05-08 03:55:29.920 +03:00 [DBG] Connection ID "18230571318976184351" disconnecting.
2024-05-08 03:55:29.923 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger-ui-standalone-preset.js - 200 339486 text/javascript 43.1893ms
2024-05-08 03:55:30.133 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-08 03:55:30.134 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-08 03:55:30.134 +03:00 [DBG] Request did not match any endpoints
2024-05-08 03:55:30.134 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-08 03:55:30.328 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 194.856ms
2024-05-08 03:55:30.328 +03:00 [DBG] Connection ID "18374686494167138359" disconnecting.
2024-05-08 04:00:02.335 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-08 04:00:02.335 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-08 04:00:02.335 +03:00 [DBG] Request did not match any endpoints
2024-05-08 04:00:02.335 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-08 04:00:02.336 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 1.6662ms
2024-05-08 04:00:02.336 +03:00 [DBG] Connection ID "18230571293206380602" disconnecting.
2024-05-08 04:00:02.476 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-08 04:00:02.476 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-08 04:00:02.476 +03:00 [DBG] Request did not match any endpoints
2024-05-08 04:00:02.477 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-08 04:00:02.498 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 21.5674ms
2024-05-08 04:00:02.502 +03:00 [DBG] Connection ID "18230571318976184353" disconnecting.
2024-05-08 04:00:17.777 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-08 04:00:17.913 +03:00 [DBG] Hosting starting
2024-05-08 04:00:17.965 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-08 04:00:17.997 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-08 04:00:18.002 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-08 04:00:18.003 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-08 04:00:18.006 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-08 04:00:18.009 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-08 04:00:18.010 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-08 04:00:18.016 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-08 04:00:18.019 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-08 04:00:18.021 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-08 04:00:18.023 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-08 04:00:18.027 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-08 04:00:18.028 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-08 04:00:18.030 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-08 04:00:18.031 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-08 04:00:18.096 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-08 04:00:18.096 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-08 04:00:18.096 +03:00 [INF] Hosting environment: Development
2024-05-08 04:00:18.097 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-08 04:00:18.097 +03:00 [DBG] Hosting started
2024-05-08 04:00:18.147 +03:00 [DBG] Connection ID "18374686502757072983" disconnecting.
2024-05-08 04:00:18.165 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-08 04:00:18.168 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-08 04:00:18.224 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-08 04:00:18.225 +03:00 [DBG] Request did not match any endpoints
2024-05-08 04:00:18.337 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-08 04:00:18.392 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-08 04:00:18.396 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 499 null null 236.5884ms
2024-05-08 04:00:18.400 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 499
2024-05-08 04:00:18.604 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-08 04:00:18.604 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-08 04:00:18.604 +03:00 [DBG] Request did not match any endpoints
2024-05-08 04:00:18.606 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-08 04:00:18.730 +03:00 [DBG] Connection ID "18302628891539275841" disconnecting.
2024-05-08 04:00:18.730 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 124.6738ms
2024-05-08 04:00:18.849 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-08 04:00:18.849 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-08 04:00:18.849 +03:00 [DBG] Request did not match any endpoints
2024-05-08 04:00:18.851 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-08 04:00:19.007 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 157.7361ms
2024-05-08 04:00:19.010 +03:00 [DBG] Connection ID "18302628895834243121" disconnecting.
2024-05-08 04:01:15.018 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/api/Role/addRole?api-version=1 - application/json 48
2024-05-08 04:01:15.030 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Role/addRole'
2024-05-08 04:01:15.034 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.RoleController.AddUserRoleAsync (Diary.Api)' with route pattern 'api/Role/addRole' is valid for the request path '/api/Role/addRole'
2024-05-08 04:01:15.037 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.RoleController.AddUserRoleAsync (Diary.Api)'
2024-05-08 04:01:15.038 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-08 04:01:15.039 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-08 04:01:15.044 +03:00 [DBG] The request has an origin header: 'https://localhost:44308'.
2024-05-08 04:01:15.046 +03:00 [INF] CORS policy execution successful.
2024-05-08 04:01:15.048 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.RoleController.AddUserRoleAsync (Diary.Api)'
2024-05-08 04:01:15.077 +03:00 [INF] Route matched with {action = "AddUserRole", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.RoleDto.RoleDto]]] AddUserRoleAsync(Diary.Domain.Dto.ReportDto.UserRole.UserRoleDto) on controller Diary.Api.Controllers.RoleController (Diary.Api).
2024-05-08 04:01:15.078 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-08 04:01:15.078 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-05-08 04:01:15.079 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-08 04:01:15.079 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-08 04:01:15.079 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-08 04:01:15.082 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.RoleController (Diary.Api)
2024-05-08 04:01:15.609 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-08 04:01:16.380 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'RoleId', 'UserId'}.
2024-05-08 04:01:16.734 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-08 04:01:16.752 +03:00 [DBG] Creating DbConnection.
2024-05-08 04:01:16.837 +03:00 [DBG] Created DbConnection. (82ms).
2024-05-08 04:01:16.844 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:01:17.049 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:01:17.057 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:01:17.072 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (11ms).
2024-05-08 04:01:17.082 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-08 04:01:17.091 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2024-05-08 04:01:17.093 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (11ms).
2024-05-08 04:01:17.093 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:01:17.152 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:01:17.168 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-08 04:01:17.335 +03:00 [INF] Executed DbCommand (171ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-08 04:01:17.339 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:01:17.342 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-08 04:01:17.487 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.RoleController (Diary.Api)
2024-05-08 04:01:17.492 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UserRole.UserRoleDto' ...
2024-05-08 04:01:17.495 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UserRole.UserRoleDto' using the name '' in request data ...
2024-05-08 04:01:17.497 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-08 04:01:17.511 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.ReportDto.UserRole.UserRoleDto'
2024-05-08 04:01:17.512 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UserRole.UserRoleDto'.
2024-05-08 04:01:17.512 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UserRole.UserRoleDto'.
2024-05-08 04:01:17.512 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UserRole.UserRoleDto' ...
2024-05-08 04:01:17.519 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.UserRole.UserRoleDto'.
2024-05-08 04:01:17.526 +03:00 [INF] Executing action method Diary.Api.Controllers.RoleController.AddUserRoleAsync (Diary.Api) - Validation state: "Valid"
2024-05-08 04:01:31.054 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Include(x => x.Roles)
    .FirstOrDefault(x => x.Login == __dto_Login_0)'
2024-05-08 04:01:31.121 +03:00 [DBG] Including navigation: 'User.Roles'.
2024-05-08 04:01:31.459 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: User.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedAt (DateTime) Required, 1], [Property: User.CreatedBy (long) Required, 2], [Property: User.Login (string) Required MaxLength(100), 3], [Property: User.Password (string) Required, 4], [Property: User.UpdatedAt (DateTime?), 5], [Property: User.UpdatedBy (long?), 6] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: UserRole.RoleId (long) Required PK FK AfterSave:Throw, 7], [Property: UserRole.UserId (long) Required PK FK Index AfterSave:Throw, 8] }
                3 -> Dictionary<IProperty, int> { [Property: Role.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Role.Name (string) Required MaxLength(50), 10] }
                4 -> 7
                5 -> 8
                6 -> 9
            SELECT u1.Id, u1.CreatedAt, u1.CreatedBy, u1.Login, u1.Password, u1.UpdatedAt, u1.UpdatedBy, s.RoleId, s.UserId, s.Id, s.Name
            FROM 
            (
                SELECT TOP(1) u.Id, u.CreatedAt, u.CreatedBy, u.Login, u.Password, u.UpdatedAt, u.UpdatedBy
                FROM User AS u
                WHERE u.Login == @__dto_Login_0
            ) AS u1
            LEFT JOIN 
            (
                SELECT u0.RoleId, u0.UserId, r.Id, r.Name
                FROM UserRole AS u0
                INNER JOIN Role AS r ON u0.RoleId == r.Id
            ) AS s ON u1.Id == s.UserId
            ORDER BY u1.Id ASC, s.RoleId ASC, s.UserId ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-08 04:01:31.511 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:01:31.514 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:01:31.514 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-08 04:01:31.514 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-08 04:01:31.522 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-05-08 04:01:31.525 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u1."Id", u1."CreatedAt", u1."CreatedBy", u1."Login", u1."Password", u1."UpdatedAt", u1."UpdatedBy", s."RoleId", s."UserId", s."Id", s."Name"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
    FROM "User" AS u
    WHERE u."Login" = @__dto_Login_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."RoleId", u0."UserId", r."Id", r."Name"
    FROM "UserRole" AS u0
    INNER JOIN "Role" AS r ON u0."RoleId" = r."Id"
) AS s ON u1."Id" = s."UserId"
ORDER BY u1."Id", s."RoleId", s."UserId"
2024-05-08 04:01:31.567 +03:00 [INF] Executed DbCommand (44ms) [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u1."Id", u1."CreatedAt", u1."CreatedBy", u1."Login", u1."Password", u1."UpdatedAt", u1."UpdatedBy", s."RoleId", s."UserId", s."Id", s."Name"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
    FROM "User" AS u
    WHERE u."Login" = @__dto_Login_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."RoleId", u0."UserId", r."Id", r."Name"
    FROM "UserRole" AS u0
    INNER JOIN "Role" AS r ON u0."RoleId" = r."Id"
) AS s ON u1."Id" = s."UserId"
ORDER BY u1."Id", s."RoleId", s."UserId"
2024-05-08 04:01:31.662 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-08 04:01:31.710 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'UserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-08 04:01:31.719 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-08 04:01:31.726 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:01:31.728 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 158ms reading results.
2024-05-08 04:01:31.732 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:01:31.732 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-08 04:01:57.588 +03:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(x => x.Name == __dto_RoleName_0)'
2024-05-08 04:01:57.591 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: new SingleQueryingEnumerable<Role>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.Name (string) Required MaxLength(50), 1] }
            SELECT TOP(1) r.Id, r.Name
            FROM Role AS r
            WHERE r.Name == @__dto_RoleName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-08 04:01:57.592 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:01:57.592 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:01:57.592 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-08 04:01:57.593 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-08 04:01:57.593 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-08 04:01:57.593 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_RoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Role" AS r
WHERE r."Name" = @__dto_RoleName_0
LIMIT 1
2024-05-08 04:01:57.616 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__dto_RoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Role" AS r
WHERE r."Name" = @__dto_RoleName_0
LIMIT 1
2024-05-08 04:01:57.625 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-08 04:01:57.627 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:01:57.634 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 9ms reading results.
2024-05-08 04:01:57.634 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:01:57.634 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-08 04:02:23.586 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'UserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-08 04:02:23.590 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-05-08 04:02:23.598 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-08 04:02:23.622 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-08 04:02:23.625 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-08 04:02:23.626 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-08 04:02:23.693 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:02:23.693 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:02:23.695 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-08 04:02:23.695 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-08 04:02:23.695 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-08 04:02:23.695 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserRole" ("RoleId", "UserId")
VALUES (@p0, @p1);
2024-05-08 04:02:23.709 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserRole" ("RoleId", "UserId")
VALUES (@p0, @p1);
2024-05-08 04:02:23.735 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:02:23.736 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 26ms reading results.
2024-05-08 04:02:23.755 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:02:23.756 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-08 04:02:23.764 +03:00 [DBG] An entity of type 'UserRole' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-08 04:02:23.767 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-05-08 04:03:28.972 +03:00 [INF] Executed action method Diary.Api.Controllers.RoleController.AddUserRoleAsync (Diary.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 131442.1844ms.
2024-05-08 04:03:28.978 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-08 04:03:28.981 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-08 04:03:28.982 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-08 04:03:28.983 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-08 04:03:28.983 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-08 04:03:28.983 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-08 04:03:28.984 +03:00 [INF] Executing OkObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.ReportDto.UserRole.UserRoleDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-08 04:03:28.994 +03:00 [INF] Executed action Diary.Api.Controllers.RoleController.AddUserRoleAsync (Diary.Api) in 133911.435ms
2024-05-08 04:03:28.995 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.RoleController.AddUserRoleAsync (Diary.Api)'
2024-05-08 04:03:29.002 +03:00 [DBG] Connection ID "18374686519936942154" disconnecting.
2024-05-08 04:03:29.004 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-08 04:03:29.008 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:03:29.010 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (1ms).
2024-05-08 04:03:29.010 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44308/api/Role/addRole?api-version=1 - 200 null application/json; charset=utf-8 133992.4902ms
2024-05-08 04:04:04.771 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/register - application/json 72
2024-05-08 04:04:04.771 +03:00 [DBG] 1 candidate(s) found for the request path '/register'
2024-05-08 04:04:04.772 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.AuthController.Register (Diary.Api)' with route pattern 'register' is valid for the request path '/register'
2024-05-08 04:04:04.772 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.AuthController.Register (Diary.Api)'
2024-05-08 04:04:04.772 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-08 04:04:04.772 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-08 04:04:04.773 +03:00 [DBG] The request has an origin header: 'https://localhost:44308'.
2024-05-08 04:04:04.773 +03:00 [INF] CORS policy execution successful.
2024-05-08 04:04:04.773 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.AuthController.Register (Diary.Api)'
2024-05-08 04:04:04.776 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult]] Register(Diary.Domain.Dto.UserDto.RegisterUserDto) on controller Diary.Api.Controllers.AuthController (Diary.Api).
2024-05-08 04:04:04.776 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-08 04:04:04.776 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-08 04:04:04.776 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-08 04:04:04.777 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-08 04:04:04.777 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-08 04:04:04.777 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-08 04:04:04.804 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-08 04:04:04.806 +03:00 [DBG] Creating DbConnection.
2024-05-08 04:04:04.806 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-08 04:04:04.806 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:04:04.825 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:04:04.826 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:04:04.826 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-08 04:04:04.826 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-08 04:04:04.826 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-05-08 04:04:04.826 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-05-08 04:04:04.827 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:04:04.827 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:04:04.827 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-08 04:04:04.829 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-08 04:04:04.830 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:04:04.830 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-08 04:04:04.832 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-08 04:04:04.832 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.RegisterUserDto' ...
2024-05-08 04:04:04.832 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.RegisterUserDto' using the name '' in request data ...
2024-05-08 04:04:04.833 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-08 04:04:04.834 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.UserDto.RegisterUserDto'
2024-05-08 04:04:04.834 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.RegisterUserDto'.
2024-05-08 04:04:04.834 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.RegisterUserDto'.
2024-05-08 04:04:04.834 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.RegisterUserDto' ...
2024-05-08 04:04:04.835 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.RegisterUserDto'.
2024-05-08 04:04:04.835 +03:00 [INF] Executing action method Diary.Api.Controllers.AuthController.Register (Diary.Api) - Validation state: "Valid"
2024-05-08 04:04:18.705 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(x => x.Login == __dto_Login_0)'
2024-05-08 04:04:18.708 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedAt (DateTime) Required, 1], [Property: User.CreatedBy (long) Required, 2], [Property: User.Login (string) Required MaxLength(100), 3], [Property: User.Password (string) Required, 4], [Property: User.UpdatedAt (DateTime?), 5], [Property: User.UpdatedBy (long?), 6] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.CreatedBy, u.Login, u.Password, u.UpdatedAt, u.UpdatedBy
            FROM User AS u
            WHERE u.Login == @__dto_Login_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-08 04:04:18.708 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:04:18.709 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:04:18.709 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-08 04:04:18.709 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-08 04:04:18.709 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-08 04:04:18.709 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Login" = @__dto_Login_0
LIMIT 1
2024-05-08 04:04:18.712 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Login" = @__dto_Login_0
LIMIT 1
2024-05-08 04:04:18.722 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:04:18.723 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 1ms reading results.
2024-05-08 04:04:18.723 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:04:18.723 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-08 04:04:28.120 +03:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'User.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-08 04:04:28.125 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-08 04:04:28.125 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-05-08 04:04:28.125 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-08 04:04:28.126 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-08 04:04:28.132 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-08 04:04:28.132 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-08 04:04:28.136 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:04:28.136 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:04:28.136 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-08 04:04:28.136 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-08 04:04:28.136 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-08 04:04:28.137 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "User" ("CreatedAt", "CreatedBy", "Login", "Password", "UpdatedAt", "UpdatedBy")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2024-05-08 04:04:28.152 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "User" ("CreatedAt", "CreatedBy", "Login", "Password", "UpdatedAt", "UpdatedBy")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2024-05-08 04:04:28.191 +03:00 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-08 04:04:28.196 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:04:28.196 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 42ms reading results.
2024-05-08 04:04:28.196 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:04:28.196 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-08 04:04:28.199 +03:00 [DBG] An entity of type 'User' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-08 04:04:28.199 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-05-08 04:04:47.928 +03:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(x => x.Name == "User")'
2024-05-08 04:04:47.932 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: new SingleQueryingEnumerable<Role>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.Name (string) Required MaxLength(50), 1] }
            SELECT TOP(1) r.Id, r.Name
            FROM Role AS r
            WHERE r.Name == 'User'), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-08 04:04:47.933 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:04:47.933 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:04:47.933 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-08 04:04:47.933 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-08 04:04:47.933 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-08 04:04:47.933 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Role" AS r
WHERE r."Name" = 'User'
LIMIT 1
2024-05-08 04:04:47.936 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Role" AS r
WHERE r."Name" = 'User'
LIMIT 1
2024-05-08 04:04:47.949 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-08 04:04:47.949 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:04:47.950 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 13ms reading results.
2024-05-08 04:04:47.951 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:04:47.951 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-08 04:05:13.268 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'UserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-08 04:05:13.268 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-05-08 04:05:13.268 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-08 04:05:13.268 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-08 04:05:13.268 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-08 04:05:13.268 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-08 04:05:13.268 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:05:13.268 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:05:13.269 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-08 04:05:13.269 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-08 04:05:13.269 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-08 04:05:13.269 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserRole" ("RoleId", "UserId")
VALUES (@p0, @p1);
2024-05-08 04:05:13.286 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserRole" ("RoleId", "UserId")
VALUES (@p0, @p1);
2024-05-08 04:05:13.286 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:05:13.286 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 0ms reading results.
2024-05-08 04:05:13.286 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:05:13.288 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (1ms).
2024-05-08 04:05:13.289 +03:00 [DBG] An entity of type 'UserRole' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-08 04:05:13.316 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-05-08 04:05:20.733 +03:00 [INF] Executed action method Diary.Api.Controllers.AuthController.Register (Diary.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 75897.6234ms.
2024-05-08 04:05:20.733 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-08 04:05:20.733 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-08 04:05:20.734 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-08 04:05:20.734 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-08 04:05:20.734 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-08 04:05:20.734 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-08 04:05:20.734 +03:00 [INF] Executing OkObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.UserDto.UserDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-08 04:05:20.736 +03:00 [INF] Executed action Diary.Api.Controllers.AuthController.Register (Diary.Api) in 75959.7465ms
2024-05-08 04:05:20.737 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.AuthController.Register (Diary.Api)'
2024-05-08 04:05:20.737 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-08 04:05:20.737 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:05:20.737 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-08 04:05:20.738 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44308/register - 200 null application/json; charset=utf-8 75967.0512ms
2024-05-08 04:05:20.741 +03:00 [DBG] Connection ID "18374686498462105749" disconnecting.
2024-05-08 04:05:45.272 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/login - application/json 44
2024-05-08 04:05:45.272 +03:00 [DBG] 1 candidate(s) found for the request path '/login'
2024-05-08 04:05:45.272 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)' with route pattern 'login' is valid for the request path '/login'
2024-05-08 04:05:45.272 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)'
2024-05-08 04:05:45.272 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-08 04:05:45.272 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-08 04:05:45.272 +03:00 [DBG] The request has an origin header: 'https://localhost:44308'.
2024-05-08 04:05:45.272 +03:00 [INF] CORS policy execution successful.
2024-05-08 04:05:45.272 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)'
2024-05-08 04:05:45.275 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.TokenDto]]] Login(Diary.Domain.Dto.UserDto.LoginUserDto) on controller Diary.Api.Controllers.AuthController (Diary.Api).
2024-05-08 04:05:45.275 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-08 04:05:45.275 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-08 04:05:45.275 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-08 04:05:45.275 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-08 04:05:45.275 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-08 04:05:45.275 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-08 04:05:45.304 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-08 04:05:45.308 +03:00 [DBG] Creating DbConnection.
2024-05-08 04:05:45.308 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-08 04:05:45.308 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:05:45.317 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:05:45.317 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:05:45.317 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-08 04:05:45.318 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-08 04:05:45.318 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-05-08 04:05:45.318 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-05-08 04:05:45.318 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:05:45.318 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:05:45.318 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-08 04:05:45.321 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-08 04:05:45.321 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:05:45.321 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-08 04:05:45.322 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-08 04:05:45.322 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' ...
2024-05-08 04:05:45.322 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' using the name '' in request data ...
2024-05-08 04:05:45.322 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-08 04:05:45.323 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.UserDto.LoginUserDto'
2024-05-08 04:05:45.323 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-08 04:05:45.324 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-08 04:05:45.324 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto' ...
2024-05-08 04:05:45.325 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.LoginUserDto'.
2024-05-08 04:05:45.325 +03:00 [INF] Executing action method Diary.Api.Controllers.AuthController.Login (Diary.Api) - Validation state: "Valid"
2024-05-08 04:06:02.451 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:06:02.451 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:06:02.451 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-08 04:06:02.451 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-08 04:06:02.451 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-08 04:06:02.451 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u1."Id", u1."CreatedAt", u1."CreatedBy", u1."Login", u1."Password", u1."UpdatedAt", u1."UpdatedBy", s."RoleId", s."UserId", s."Id", s."Name"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
    FROM "User" AS u
    WHERE u."Login" = @__dto_Login_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."RoleId", u0."UserId", r."Id", r."Name"
    FROM "UserRole" AS u0
    INNER JOIN "Role" AS r ON u0."RoleId" = r."Id"
) AS s ON u1."Id" = s."UserId"
ORDER BY u1."Id", s."RoleId", s."UserId"
2024-05-08 04:06:02.464 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u1."Id", u1."CreatedAt", u1."CreatedBy", u1."Login", u1."Password", u1."UpdatedAt", u1."UpdatedBy", s."RoleId", s."UserId", s."Id", s."Name"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
    FROM "User" AS u
    WHERE u."Login" = @__dto_Login_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."RoleId", u0."UserId", r."Id", r."Name"
    FROM "UserRole" AS u0
    INNER JOIN "Role" AS r ON u0."RoleId" = r."Id"
) AS s ON u1."Id" = s."UserId"
ORDER BY u1."Id", s."RoleId", s."UserId"
2024-05-08 04:06:02.465 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-08 04:06:02.476 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'UserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-08 04:06:02.477 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-08 04:06:02.480 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:06:02.480 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 15ms reading results.
2024-05-08 04:06:02.490 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:06:02.491 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-08 04:06:22.431 +03:00 [DBG] Compiling query expression: 
'DbSet<UserToken>()
    .FirstOrDefault(x => x.UserId == __user_Id_0)'
2024-05-08 04:06:22.434 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserToken>(
    asyncEnumerable: new SingleQueryingEnumerable<UserToken>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserToken.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserToken.RefreshToken (string) Required, 1], [Property: UserToken.RefreshTokenExpiryTime (DateTime) Required, 2], [Property: UserToken.UserId (long) Required FK Index, 3] }
            SELECT TOP(1) u.Id, u.RefreshToken, u.RefreshTokenExpiryTime, u.UserId
            FROM UserToken AS u
            WHERE u.UserId == @__user_Id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserToken>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-08 04:06:22.435 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:06:22.435 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:06:22.435 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-08 04:06:22.435 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-08 04:06:22.435 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-08 04:06:22.435 +03:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."RefreshToken", u."RefreshTokenExpiryTime", u."UserId"
FROM "UserToken" AS u
WHERE u."UserId" = @__user_Id_0
LIMIT 1
2024-05-08 04:06:22.445 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__user_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."RefreshToken", u."RefreshTokenExpiryTime", u."UserId"
FROM "UserToken" AS u
WHERE u."UserId" = @__user_Id_0
LIMIT 1
2024-05-08 04:06:22.446 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:06:22.453 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 6ms reading results.
2024-05-08 04:06:22.454 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:06:22.454 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-08 04:07:29.872 +03:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'UserToken.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-08 04:07:29.880 +03:00 [DBG] The navigation 'UserToken.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-08 04:07:29.882 +03:00 [DBG] The navigation 'User.UserToken' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-08 04:07:29.883 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'UserToken' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-08 04:07:29.884 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-05-08 04:07:29.884 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-08 04:07:29.885 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-08 04:07:29.885 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-08 04:07:29.886 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-08 04:07:29.886 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:07:29.886 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:07:29.886 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-08 04:07:29.886 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-08 04:07:29.886 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-08 04:07:29.887 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserToken" ("RefreshToken", "RefreshTokenExpiryTime", "UserId")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2024-05-08 04:07:29.897 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?', @p1='?' (DbType = DateTime), @p2='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserToken" ("RefreshToken", "RefreshTokenExpiryTime", "UserId")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2024-05-08 04:07:29.911 +03:00 [DBG] The foreign key property 'UserToken.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-08 04:07:29.925 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:07:29.925 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 26ms reading results.
2024-05-08 04:07:29.925 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:07:29.925 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-08 04:07:29.926 +03:00 [DBG] An entity of type 'UserToken' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-08 04:07:29.926 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-05-08 04:07:36.964 +03:00 [INF] Executed action method Diary.Api.Controllers.AuthController.Login (Diary.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 111639.4865ms.
2024-05-08 04:07:36.965 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-08 04:07:36.965 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-08 04:07:36.965 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-08 04:07:36.965 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-08 04:07:36.965 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-08 04:07:36.965 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-08 04:07:36.965 +03:00 [INF] Executing OkObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.TokenDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-08 04:07:36.967 +03:00 [INF] Executed action Diary.Api.Controllers.AuthController.Login (Diary.Api) in 111691.7307ms
2024-05-08 04:07:36.967 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.AuthController.Login (Diary.Api)'
2024-05-08 04:07:36.967 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-08 04:07:36.967 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-08 04:07:36.967 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-08 04:07:36.967 +03:00 [DBG] Connection ID "18374686502757072985" disconnecting.
2024-05-08 04:07:36.967 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44308/login - 200 null application/json; charset=utf-8 111695.8598ms
2024-05-09 00:17:12.456 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-09 00:17:12.678 +03:00 [DBG] Hosting starting
2024-05-09 00:17:12.957 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-09 00:17:13.031 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-09 00:17:13.051 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-09 00:17:13.065 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-09 00:17:13.088 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-09 00:17:13.093 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-09 00:17:13.093 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-09 00:17:13.103 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-09 00:17:13.107 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-09 00:17:13.111 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-09 00:17:13.113 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-09 00:17:13.120 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-09 00:17:13.122 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-09 00:17:13.123 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-09 00:17:13.124 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-09 00:17:13.342 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-09 00:17:13.342 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-09 00:17:13.342 +03:00 [INF] Hosting environment: Development
2024-05-09 00:17:13.342 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-09 00:17:13.343 +03:00 [DBG] Hosting started
2024-05-09 00:17:13.557 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-09 00:17:13.560 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-09 00:17:13.622 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-09 00:17:13.622 +03:00 [DBG] Request did not match any endpoints
2024-05-09 00:17:13.807 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 00:17:13.894 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-09 00:17:13.959 +03:00 [DBG] Connection ID "18374686519936942158" disconnecting.
2024-05-09 00:17:13.961 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 404 null null 412.2668ms
2024-05-09 00:17:13.966 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 404
2024-05-09 00:17:41.455 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-09 00:17:41.456 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-09 00:17:41.456 +03:00 [DBG] Request did not match any endpoints
2024-05-09 00:17:41.458 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 00:17:41.474 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-09 00:17:41.481 +03:00 [DBG] Connection ID "18374686485577203749" disconnecting.
2024-05-09 00:17:41.482 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 404 null null 30.0409ms
2024-05-09 00:17:41.482 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 404
2024-05-09 00:17:43.613 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/ - null null
2024-05-09 00:17:43.613 +03:00 [DBG] No candidates found for the request path '/'
2024-05-09 00:17:43.613 +03:00 [DBG] Request did not match any endpoints
2024-05-09 00:17:43.615 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 00:17:43.619 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/ - 301 null null 6.7914ms
2024-05-09 00:17:43.623 +03:00 [DBG] Connection ID "18374686524231909495" disconnecting.
2024-05-09 00:17:43.633 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-09 00:17:43.633 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-09 00:17:43.633 +03:00 [DBG] Request did not match any endpoints
2024-05-09 00:17:43.634 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 00:17:43.734 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 100.5193ms
2024-05-09 00:17:43.737 +03:00 [DBG] Connection ID "18302628917309079608" disconnecting.
2024-05-09 00:17:43.896 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger-ui.css - null null
2024-05-09 00:17:43.896 +03:00 [DBG] No candidates found for the request path '/swagger-ui.css'
2024-05-09 00:17:43.896 +03:00 [DBG] Request did not match any endpoints
2024-05-09 00:17:43.896 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 00:17:43.898 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger-ui-bundle.js - null null
2024-05-09 00:17:43.898 +03:00 [DBG] No candidates found for the request path '/swagger-ui-bundle.js'
2024-05-09 00:17:43.898 +03:00 [DBG] Request did not match any endpoints
2024-05-09 00:17:43.898 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 00:17:43.902 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger-ui-standalone-preset.js - null null
2024-05-09 00:17:43.902 +03:00 [DBG] No candidates found for the request path '/swagger-ui-standalone-preset.js'
2024-05-09 00:17:43.902 +03:00 [DBG] Request did not match any endpoints
2024-05-09 00:17:43.903 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 00:17:43.924 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-05-09 00:17:43.926 +03:00 [DBG] Connection ID "18230571293206380613" disconnecting.
2024-05-09 00:17:43.927 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-05-09 00:17:43.930 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger-ui.css - 200 143943 text/css 34.5914ms
2024-05-09 00:17:43.936 +03:00 [DBG] Connection ID "18374686502757072989" disconnecting.
2024-05-09 00:17:43.942 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger-ui-standalone-preset.js - 200 339486 text/javascript 40.7637ms
2024-05-09 00:17:43.947 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-05-09 00:17:43.966 +03:00 [DBG] Connection ID "18374686528526876748" disconnecting.
2024-05-09 00:17:43.967 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger-ui-bundle.js - 200 1096145 text/javascript 68.9744ms
2024-05-09 00:17:44.195 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-09 00:17:44.195 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-09 00:17:44.195 +03:00 [DBG] Request did not match any endpoints
2024-05-09 00:17:44.196 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 00:17:44.212 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/favicon-32x32.png - null null
2024-05-09 00:17:44.212 +03:00 [DBG] No candidates found for the request path '/favicon-32x32.png'
2024-05-09 00:17:44.212 +03:00 [DBG] Request did not match any endpoints
2024-05-09 00:17:44.212 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 00:17:44.213 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-05-09 00:17:44.213 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/favicon-32x32.png - 200 628 image/png 1.1369ms
2024-05-09 00:17:44.213 +03:00 [DBG] Connection ID "18302628895834243128" disconnecting.
2024-05-09 00:17:44.351 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 155.5011ms
2024-05-09 00:17:44.354 +03:00 [DBG] Connection ID "18302628921604046875" disconnecting.
2024-05-09 00:18:33.200 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/register - application/json 78
2024-05-09 00:18:33.206 +03:00 [DBG] 1 candidate(s) found for the request path '/register'
2024-05-09 00:18:33.210 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.AuthController.Register (Diary.Api)' with route pattern 'register' is valid for the request path '/register'
2024-05-09 00:18:33.211 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.AuthController.Register (Diary.Api)'
2024-05-09 00:18:33.211 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 00:18:33.212 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-09 00:18:33.213 +03:00 [DBG] The request has an origin header: 'https://localhost:44308'.
2024-05-09 00:18:33.213 +03:00 [INF] CORS policy execution successful.
2024-05-09 00:18:33.215 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.AuthController.Register (Diary.Api)'
2024-05-09 00:18:33.241 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult]] Register(Diary.Domain.Dto.UserDto.RegisterUserDto) on controller Diary.Api.Controllers.AuthController (Diary.Api).
2024-05-09 00:18:33.243 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-09 00:18:33.243 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-09 00:18:33.244 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-09 00:18:33.244 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-09 00:18:33.244 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-09 00:18:33.246 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-09 00:18:33.796 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-09 00:18:34.646 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'RoleId', 'UserId'}.
2024-05-09 00:18:35.034 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-09 00:18:35.052 +03:00 [DBG] Creating DbConnection.
2024-05-09 00:18:35.173 +03:00 [DBG] Created DbConnection. (118ms).
2024-05-09 00:18:35.179 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 00:18:35.349 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 00:18:35.356 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 00:18:35.369 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (7ms).
2024-05-09 00:18:35.379 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-09 00:18:35.387 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2024-05-09 00:18:35.388 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (10ms).
2024-05-09 00:18:35.388 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 00:18:35.419 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 00:18:35.432 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-09 00:18:35.588 +03:00 [INF] Executed DbCommand (149ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-09 00:18:35.599 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 00:18:35.604 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (5ms).
2024-05-09 00:19:45.269 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-09 00:19:45.761 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.RegisterUserDto' ...
2024-05-09 00:19:45.764 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.RegisterUserDto' using the name '' in request data ...
2024-05-09 00:19:45.765 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-09 00:19:45.780 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.UserDto.RegisterUserDto'
2024-05-09 00:19:45.780 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.RegisterUserDto'.
2024-05-09 00:19:45.781 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.RegisterUserDto'.
2024-05-09 00:19:45.781 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.RegisterUserDto' ...
2024-05-09 00:19:45.785 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.RegisterUserDto'.
2024-05-09 00:19:51.576 +03:00 [INF] Executing action method Diary.Api.Controllers.AuthController.Register (Diary.Api) - Validation state: "Valid"
2024-05-09 00:19:57.238 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(x => x.Login == __dto_Login_0)'
2024-05-09 00:19:57.507 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedAt (DateTime) Required, 1], [Property: User.CreatedBy (long) Required, 2], [Property: User.Login (string) Required MaxLength(100), 3], [Property: User.Password (string) Required, 4], [Property: User.UpdatedAt (DateTime?), 5], [Property: User.UpdatedBy (long?), 6] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.CreatedBy, u.Login, u.Password, u.UpdatedAt, u.UpdatedBy
            FROM User AS u
            WHERE u.Login == @__dto_Login_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-09 00:19:57.550 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 00:19:57.552 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 00:19:57.553 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 00:19:57.553 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 00:19:57.559 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-05-09 00:19:57.562 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Login" = @__dto_Login_0
LIMIT 1
2024-05-09 00:19:57.620 +03:00 [INF] Executed DbCommand (60ms) [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Login" = @__dto_Login_0
LIMIT 1
2024-05-09 00:19:57.687 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 00:19:57.688 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 66ms reading results.
2024-05-09 00:19:57.694 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 00:19:57.694 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 00:20:01.319 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 00:20:01.320 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 00:20:01.322 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-09 00:20:01.331 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-09 00:20:07.753 +03:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'User.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 00:20:07.803 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 00:20:09.367 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-05-09 00:20:09.375 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-09 00:20:09.392 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-09 00:20:09.400 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-09 00:20:09.400 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-09 00:20:09.471 +03:00 [DBG] Creating transaction savepoint.
2024-05-09 00:20:09.479 +03:00 [DBG] Created transaction savepoint.
2024-05-09 00:20:09.483 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 00:20:09.483 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 00:20:09.484 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-09 00:20:09.484 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "User" ("CreatedAt", "CreatedBy", "Login", "Password", "UpdatedAt", "UpdatedBy")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2024-05-09 00:20:09.540 +03:00 [INF] Executed DbCommand (56ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "User" ("CreatedAt", "CreatedBy", "Login", "Password", "UpdatedAt", "UpdatedBy")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2024-05-09 00:20:09.552 +03:00 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-09 00:20:09.557 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 00:20:09.557 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 16ms reading results.
2024-05-09 00:20:09.560 +03:00 [DBG] Releasing transaction savepoint.
2024-05-09 00:20:09.564 +03:00 [DBG] Released transaction savepoint.
2024-05-09 00:20:09.579 +03:00 [DBG] An entity of type 'User' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 00:20:09.581 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-05-09 00:20:15.331 +03:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(x => x.Name == "User")'
2024-05-09 00:20:15.337 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: new SingleQueryingEnumerable<Role>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.Name (string) Required MaxLength(50), 1] }
            SELECT TOP(1) r.Id, r.Name
            FROM Role AS r
            WHERE r.Name == 'User'), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-09 00:20:15.338 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 00:20:15.339 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 00:20:15.339 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-09 00:20:15.339 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Role" AS r
WHERE r."Name" = 'User'
LIMIT 1
2024-05-09 00:20:15.353 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Role" AS r
WHERE r."Name" = 'User'
LIMIT 1
2024-05-09 00:20:15.392 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 00:20:15.395 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 00:20:15.396 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 40ms reading results.
2024-05-09 00:20:23.665 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'UserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 00:20:24.125 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-05-09 00:20:24.126 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-09 00:20:24.130 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-09 00:20:24.130 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-09 00:20:24.130 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-09 00:20:24.135 +03:00 [DBG] Creating transaction savepoint.
2024-05-09 00:20:24.139 +03:00 [DBG] Created transaction savepoint.
2024-05-09 00:20:24.149 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 00:20:24.150 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 00:20:24.151 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-09 00:20:24.151 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserRole" ("RoleId", "UserId")
VALUES (@p0, @p1);
2024-05-09 00:20:24.174 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserRole" ("RoleId", "UserId")
VALUES (@p0, @p1);
2024-05-09 00:20:24.187 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 00:20:24.191 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 14ms reading results.
2024-05-09 00:20:24.191 +03:00 [DBG] Releasing transaction savepoint.
2024-05-09 00:20:24.193 +03:00 [DBG] Released transaction savepoint.
2024-05-09 00:20:24.193 +03:00 [DBG] An entity of type 'UserRole' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 00:20:24.193 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-05-09 00:20:24.659 +03:00 [DBG] Committing transaction.
2024-05-09 00:20:24.715 +03:00 [DBG] Committed transaction.
2024-05-09 00:20:24.718 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 00:20:24.718 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 00:20:26.706 +03:00 [DBG] Disposing transaction.
2024-05-09 00:20:29.122 +03:00 [INF] Executed action method Diary.Api.Controllers.AuthController.Register (Diary.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 37543.0419ms.
2024-05-09 00:20:29.128 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-09 00:20:29.130 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-09 00:20:29.131 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-09 00:20:29.131 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-09 00:20:29.132 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-09 00:20:29.132 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-09 00:20:29.133 +03:00 [INF] Executing OkObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.UserDto.UserDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-09 00:20:29.142 +03:00 [INF] Executed action Diary.Api.Controllers.AuthController.Register (Diary.Api) in 115894.9818ms
2024-05-09 00:20:29.143 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.AuthController.Register (Diary.Api)'
2024-05-09 00:20:29.150 +03:00 [DBG] Connection ID "18374686494167138361" disconnecting.
2024-05-09 00:20:29.152 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-09 00:20:29.156 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 00:20:29.157 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (1ms).
2024-05-09 00:20:29.158 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44308/register - 200 null application/json; charset=utf-8 115957.7961ms
2024-05-09 01:40:27.096 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-09 01:40:27.251 +03:00 [DBG] Hosting starting
2024-05-09 01:40:27.310 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-09 01:40:27.341 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-09 01:40:27.347 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-09 01:40:27.348 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-09 01:40:27.354 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-09 01:40:27.359 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-09 01:40:27.359 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-09 01:40:27.366 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-09 01:40:27.369 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-09 01:40:27.371 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-09 01:40:27.373 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-09 01:40:27.377 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-09 01:40:27.378 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-09 01:40:27.379 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-09 01:40:27.380 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-09 01:40:27.456 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-09 01:40:27.456 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-09 01:40:27.457 +03:00 [INF] Hosting environment: Development
2024-05-09 01:40:27.457 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-09 01:40:27.457 +03:00 [DBG] Hosting started
2024-05-09 01:40:27.551 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-09 01:40:27.554 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-09 01:40:27.609 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-09 01:40:27.609 +03:00 [DBG] Request did not match any endpoints
2024-05-09 01:40:27.743 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 01:40:27.792 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-09 01:40:27.824 +03:00 [DBG] Connection ID "18374686502757072991" disconnecting.
2024-05-09 01:40:27.826 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 404 null null 284.7222ms
2024-05-09 01:40:27.831 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 404
2024-05-09 01:41:32.799 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/ - null null
2024-05-09 01:41:32.799 +03:00 [DBG] No candidates found for the request path '/'
2024-05-09 01:41:32.799 +03:00 [DBG] Request did not match any endpoints
2024-05-09 01:41:32.801 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 01:41:32.822 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/ - 301 null null 23.9059ms
2024-05-09 01:41:32.826 +03:00 [DBG] Connection ID "18230571318976184356" disconnecting.
2024-05-09 01:41:32.870 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-09 01:41:32.871 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-09 01:41:32.871 +03:00 [DBG] Request did not match any endpoints
2024-05-09 01:41:32.872 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 01:41:32.984 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 114.1343ms
2024-05-09 01:41:32.984 +03:00 [DBG] Connection ID "18374686519936942160" disconnecting.
2024-05-09 01:41:33.124 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger-ui.css - null null
2024-05-09 01:41:33.124 +03:00 [DBG] No candidates found for the request path '/swagger-ui.css'
2024-05-09 01:41:33.124 +03:00 [DBG] Request did not match any endpoints
2024-05-09 01:41:33.125 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 01:41:33.126 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger-ui-standalone-preset.js - null null
2024-05-09 01:41:33.126 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger-ui-bundle.js - null null
2024-05-09 01:41:33.126 +03:00 [DBG] No candidates found for the request path '/swagger-ui-standalone-preset.js'
2024-05-09 01:41:33.126 +03:00 [DBG] No candidates found for the request path '/swagger-ui-bundle.js'
2024-05-09 01:41:33.126 +03:00 [DBG] Request did not match any endpoints
2024-05-09 01:41:33.126 +03:00 [DBG] Request did not match any endpoints
2024-05-09 01:41:33.127 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 01:41:33.127 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 01:41:33.155 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-05-09 01:41:33.157 +03:00 [DBG] Connection ID "18230571293206380615" disconnecting.
2024-05-09 01:41:33.158 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-05-09 01:41:33.160 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger-ui.css - 200 143943 text/css 36.4061ms
2024-05-09 01:41:33.165 +03:00 [DBG] Connection ID "18302628895834243130" disconnecting.
2024-05-09 01:41:33.165 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger-ui-standalone-preset.js - 200 339486 text/javascript 39.0672ms
2024-05-09 01:41:33.173 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-05-09 01:41:33.194 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger-ui-bundle.js - 200 1096145 text/javascript 66.9533ms
2024-05-09 01:41:33.198 +03:00 [DBG] Connection ID "18374686489872171137" disconnecting.
2024-05-09 01:41:33.436 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-09 01:41:33.436 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-09 01:41:33.436 +03:00 [DBG] Request did not match any endpoints
2024-05-09 01:41:33.437 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 01:41:33.603 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 167.4161ms
2024-05-09 01:41:33.603 +03:00 [DBG] Connection ID "18374686524231909497" disconnecting.
2024-05-09 01:41:57.415 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-09 01:41:57.549 +03:00 [DBG] Hosting starting
2024-05-09 01:41:57.606 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-09 01:41:57.639 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-09 01:41:57.644 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-09 01:41:57.644 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-09 01:41:57.648 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-09 01:41:57.651 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-09 01:41:57.651 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-09 01:41:57.657 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-09 01:41:57.660 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-09 01:41:57.663 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-09 01:41:57.664 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-09 01:41:57.668 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-09 01:41:57.670 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-09 01:41:57.671 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-09 01:41:57.671 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-09 01:41:57.750 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-09 01:41:57.762 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-09 01:41:57.762 +03:00 [INF] Hosting environment: Development
2024-05-09 01:41:57.762 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-09 01:41:57.762 +03:00 [DBG] Hosting started
2024-05-09 01:41:57.809 +03:00 [DBG] Connection ID "18302628917309079610" disconnecting.
2024-05-09 01:41:57.829 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-09 01:41:57.829 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-09 01:41:57.832 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-09 01:41:57.832 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-09 01:41:57.889 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-09 01:41:57.889 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-09 01:41:57.889 +03:00 [DBG] Request did not match any endpoints
2024-05-09 01:41:57.889 +03:00 [DBG] Request did not match any endpoints
2024-05-09 01:41:58.069 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 01:41:58.069 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 01:41:58.124 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-09 01:41:58.130 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 499 null null 307.3956ms
2024-05-09 01:41:58.135 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 499
2024-05-09 01:41:58.248 +03:00 [DBG] Connection ID "18302628917309079612" disconnecting.
2024-05-09 01:41:58.248 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 423.6947ms
2024-05-09 01:41:58.484 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-09 01:41:58.485 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-09 01:41:58.485 +03:00 [DBG] Request did not match any endpoints
2024-05-09 01:41:58.487 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 01:41:58.516 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/favicon-32x32.png - null null
2024-05-09 01:41:58.516 +03:00 [DBG] No candidates found for the request path '/favicon-32x32.png'
2024-05-09 01:41:58.516 +03:00 [DBG] Request did not match any endpoints
2024-05-09 01:41:58.516 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 01:41:58.524 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-05-09 01:41:58.525 +03:00 [DBG] Connection ID "18374686494167138363" disconnecting.
2024-05-09 01:41:58.525 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/favicon-32x32.png - 200 628 image/png 8.8653ms
2024-05-09 01:41:58.664 +03:00 [DBG] Connection ID "18230571310386249745" disconnecting.
2024-05-09 01:41:58.664 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 180.505ms
2024-05-09 01:42:16.305 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:44308/api/Role/remove-role?api-version=1 - application/json 40
2024-05-09 01:42:16.323 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Role/remove-role'
2024-05-09 01:42:16.327 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.RoleController.RemoveUserRoleAsync (Diary.Api)' with route pattern 'api/Role/remove-role' is valid for the request path '/api/Role/remove-role'
2024-05-09 01:42:16.331 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.RoleController.RemoveUserRoleAsync (Diary.Api)'
2024-05-09 01:42:16.332 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 01:42:16.332 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-09 01:42:16.334 +03:00 [DBG] The request has an origin header: 'https://localhost:44308'.
2024-05-09 01:42:16.334 +03:00 [INF] CORS policy execution successful.
2024-05-09 01:42:16.337 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.RoleController.RemoveUserRoleAsync (Diary.Api)'
2024-05-09 01:42:16.369 +03:00 [INF] Route matched with {action = "RemoveUserRole", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.RoleDto.RoleDto]]] RemoveUserRoleAsync(Diary.Domain.Dto.UserRole.RemoveUserRole) on controller Diary.Api.Controllers.RoleController (Diary.Api).
2024-05-09 01:42:16.371 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-09 01:42:16.371 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-05-09 01:42:16.372 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-09 01:42:16.372 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-09 01:42:16.372 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-09 01:42:16.376 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.RoleController (Diary.Api)
2024-05-09 01:42:16.630 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-09 01:42:17.251 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'RoleId', 'UserId'}.
2024-05-09 01:42:17.582 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-09 01:42:17.600 +03:00 [DBG] Creating DbConnection.
2024-05-09 01:42:17.662 +03:00 [DBG] Created DbConnection. (59ms).
2024-05-09 01:42:17.669 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:42:17.880 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:42:17.887 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:42:17.898 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (7ms).
2024-05-09 01:42:17.907 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-09 01:42:17.914 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2024-05-09 01:42:17.916 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (9ms).
2024-05-09 01:42:17.916 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:42:17.957 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:42:17.968 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-09 01:42:18.063 +03:00 [INF] Executed DbCommand (99ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-09 01:42:18.066 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:42:18.068 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-09 01:42:18.186 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.RoleController (Diary.Api)
2024-05-09 01:42:18.190 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserRole.RemoveUserRole' ...
2024-05-09 01:42:18.193 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserRole.RemoveUserRole' using the name '' in request data ...
2024-05-09 01:42:18.194 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-09 01:42:18.217 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.UserRole.RemoveUserRole'
2024-05-09 01:42:18.218 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserRole.RemoveUserRole'.
2024-05-09 01:42:18.218 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserRole.RemoveUserRole'.
2024-05-09 01:42:18.218 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserRole.RemoveUserRole' ...
2024-05-09 01:42:18.222 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserRole.RemoveUserRole'.
2024-05-09 01:42:18.235 +03:00 [INF] Executing action method Diary.Api.Controllers.RoleController.RemoveUserRoleAsync (Diary.Api) - Validation state: "Valid"
2024-05-09 01:42:23.903 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Include(x => x.Roles)
    .FirstOrDefault(x => x.Login == __dto_Login_0)'
2024-05-09 01:42:23.965 +03:00 [DBG] Including navigation: 'User.Roles'.
2024-05-09 01:42:24.251 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: User.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedAt (DateTime) Required, 1], [Property: User.CreatedBy (long) Required, 2], [Property: User.Login (string) Required MaxLength(100), 3], [Property: User.Password (string) Required, 4], [Property: User.UpdatedAt (DateTime?), 5], [Property: User.UpdatedBy (long?), 6] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: UserRole.RoleId (long) Required PK FK AfterSave:Throw, 7], [Property: UserRole.UserId (long) Required PK FK Index AfterSave:Throw, 8] }
                3 -> Dictionary<IProperty, int> { [Property: Role.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Role.Name (string) Required MaxLength(50), 10] }
                4 -> 7
                5 -> 8
                6 -> 9
            SELECT u1.Id, u1.CreatedAt, u1.CreatedBy, u1.Login, u1.Password, u1.UpdatedAt, u1.UpdatedBy, s.RoleId, s.UserId, s.Id, s.Name
            FROM 
            (
                SELECT TOP(1) u.Id, u.CreatedAt, u.CreatedBy, u.Login, u.Password, u.UpdatedAt, u.UpdatedBy
                FROM User AS u
                WHERE u.Login == @__dto_Login_0
            ) AS u1
            LEFT JOIN 
            (
                SELECT u0.RoleId, u0.UserId, r.Id, r.Name
                FROM UserRole AS u0
                INNER JOIN Role AS r ON u0.RoleId == r.Id
            ) AS s ON u1.Id == s.UserId
            ORDER BY u1.Id ASC, s.RoleId ASC, s.UserId ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-09 01:42:24.297 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:42:24.299 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:42:24.299 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 01:42:24.299 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 01:42:24.305 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-05-09 01:42:24.308 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u1."Id", u1."CreatedAt", u1."CreatedBy", u1."Login", u1."Password", u1."UpdatedAt", u1."UpdatedBy", s."RoleId", s."UserId", s."Id", s."Name"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
    FROM "User" AS u
    WHERE u."Login" = @__dto_Login_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."RoleId", u0."UserId", r."Id", r."Name"
    FROM "UserRole" AS u0
    INNER JOIN "Role" AS r ON u0."RoleId" = r."Id"
) AS s ON u1."Id" = s."UserId"
ORDER BY u1."Id", s."RoleId", s."UserId"
2024-05-09 01:42:24.347 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u1."Id", u1."CreatedAt", u1."CreatedBy", u1."Login", u1."Password", u1."UpdatedAt", u1."UpdatedBy", s."RoleId", s."UserId", s."Id", s."Name"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
    FROM "User" AS u
    WHERE u."Login" = @__dto_Login_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."RoleId", u0."UserId", r."Id", r."Name"
    FROM "UserRole" AS u0
    INNER JOIN "Role" AS r ON u0."RoleId" = r."Id"
) AS s ON u1."Id" = s."UserId"
ORDER BY u1."Id", s."RoleId", s."UserId"
2024-05-09 01:42:24.438 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 01:42:24.481 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'UserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 01:42:24.490 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 01:42:24.492 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'UserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 01:42:24.492 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 01:42:24.497 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:42:24.498 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 149ms reading results.
2024-05-09 01:42:24.502 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:42:24.503 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 01:42:24.505 +03:00 [DBG] Compiling query expression: 
'DbSet<UserRole>()
    .Where(x => x.RoleId == __dto_RoleId_0)
    .FirstOrDefault(x => x.UserId == __user_Id_1)'
2024-05-09 01:42:24.509 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserRole>(
    asyncEnumerable: new SingleQueryingEnumerable<UserRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserRole.RoleId (long) Required PK FK AfterSave:Throw, 0], [Property: UserRole.UserId (long) Required PK FK Index AfterSave:Throw, 1] }
            SELECT TOP(1) u.RoleId, u.UserId
            FROM UserRole AS u
            WHERE (u.RoleId == @__dto_RoleId_0) && (u.UserId == @__user_Id_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserRole>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-09 01:42:24.512 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:42:24.512 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:42:24.512 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 01:42:24.512 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 01:42:24.512 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-09 01:42:24.512 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_RoleId_0='?' (DbType = Int64), @__user_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT u."RoleId", u."UserId"
FROM "UserRole" AS u
WHERE u."RoleId" = @__dto_RoleId_0 AND u."UserId" = @__user_Id_1
LIMIT 1
2024-05-09 01:42:24.516 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__dto_RoleId_0='?' (DbType = Int64), @__user_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT u."RoleId", u."UserId"
FROM "UserRole" AS u
WHERE u."RoleId" = @__dto_RoleId_0 AND u."UserId" = @__user_Id_1
LIMIT 1
2024-05-09 01:42:24.517 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:42:24.517 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 0ms reading results.
2024-05-09 01:42:24.517 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:42:24.518 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 01:42:24.528 +03:00 [DBG] An entity of type 'UserRole' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 01:42:24.534 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-05-09 01:42:24.537 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-09 01:42:24.565 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-09 01:42:24.568 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-09 01:42:24.569 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-09 01:42:24.636 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:42:24.636 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:42:24.638 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 01:42:24.638 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 01:42:24.638 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-09 01:42:24.638 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "UserRole"
WHERE "RoleId" = @p0 AND "UserId" = @p1;
2024-05-09 01:42:24.649 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "UserRole"
WHERE "RoleId" = @p0 AND "UserId" = @p1;
2024-05-09 01:42:24.653 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:42:24.653 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 3ms reading results.
2024-05-09 01:42:24.654 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:42:24.654 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 01:42:24.660 +03:00 [DBG] An entity of type 'UserRole' tracked by 'ApplicationDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 01:42:24.662 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-05-09 01:42:31.798 +03:00 [INF] Executed action method Diary.Api.Controllers.RoleController.RemoveUserRoleAsync (Diary.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 13559.6817ms.
2024-05-09 01:42:31.804 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-09 01:42:31.807 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-09 01:42:31.807 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-09 01:42:31.808 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-09 01:42:31.808 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-09 01:42:31.808 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-09 01:42:31.809 +03:00 [INF] Executing OkObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.UserRole.UserRoleDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-09 01:42:31.825 +03:00 [INF] Executed action Diary.Api.Controllers.RoleController.RemoveUserRoleAsync (Diary.Api) in 15449.1478ms
2024-05-09 01:42:31.825 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.RoleController.RemoveUserRoleAsync (Diary.Api)'
2024-05-09 01:42:31.828 +03:00 [DBG] Connection ID "18374686489872171139" disconnecting.
2024-05-09 01:42:31.830 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-09 01:42:31.834 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:42:31.836 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (1ms).
2024-05-09 01:42:31.836 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:44308/api/Role/remove-role?api-version=1 - 200 null application/json; charset=utf-8 15533.1343ms
2024-05-09 01:42:57.715 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/api/Role/add-role - application/json 44
2024-05-09 01:42:57.716 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Role/add-role'
2024-05-09 01:42:57.716 +03:00 [DBG] Request matched endpoint '400 Unspecified API Version'
2024-05-09 01:42:57.716 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 01:42:57.716 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-09 01:42:57.717 +03:00 [DBG] The request has an origin header: 'https://localhost:44308'.
2024-05-09 01:42:57.717 +03:00 [INF] CORS policy execution successful.
2024-05-09 01:42:57.717 +03:00 [INF] Executing endpoint '400 Unspecified API Version'
2024-05-09 01:42:57.718 +03:00 [INF] Request did not specify an API version
2024-05-09 01:42:57.719 +03:00 [INF] Executed endpoint '400 Unspecified API Version'
2024-05-09 01:42:57.720 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44308/api/Role/add-role - 400 null null 5.3756ms
2024-05-09 01:42:57.721 +03:00 [DBG] Connection ID "18230571293206380617" disconnecting.
2024-05-09 01:42:59.118 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/api/Role/add-role - application/json 44
2024-05-09 01:42:59.118 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Role/add-role'
2024-05-09 01:42:59.118 +03:00 [DBG] Request matched endpoint '400 Unspecified API Version'
2024-05-09 01:42:59.118 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 01:42:59.118 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-09 01:42:59.118 +03:00 [DBG] The request has an origin header: 'https://localhost:44308'.
2024-05-09 01:42:59.118 +03:00 [INF] CORS policy execution successful.
2024-05-09 01:42:59.118 +03:00 [INF] Executing endpoint '400 Unspecified API Version'
2024-05-09 01:42:59.119 +03:00 [INF] Request did not specify an API version
2024-05-09 01:42:59.119 +03:00 [INF] Executed endpoint '400 Unspecified API Version'
2024-05-09 01:42:59.119 +03:00 [DBG] Connection ID "18374686524231909499" disconnecting.
2024-05-09 01:42:59.119 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44308/api/Role/add-role - 400 null null 1.5818ms
2024-05-09 01:43:09.465 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/api/Role/add-role?api-version=1 - application/json 44
2024-05-09 01:43:09.465 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Role/add-role'
2024-05-09 01:43:09.465 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.RoleController.AddUserRoleAsync (Diary.Api)' with route pattern 'api/Role/add-role' is valid for the request path '/api/Role/add-role'
2024-05-09 01:43:09.465 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.RoleController.AddUserRoleAsync (Diary.Api)'
2024-05-09 01:43:09.465 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 01:43:09.466 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-09 01:43:09.466 +03:00 [DBG] The request has an origin header: 'https://localhost:44308'.
2024-05-09 01:43:09.466 +03:00 [INF] CORS policy execution successful.
2024-05-09 01:43:09.466 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.RoleController.AddUserRoleAsync (Diary.Api)'
2024-05-09 01:43:09.469 +03:00 [INF] Route matched with {action = "AddUserRole", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.RoleDto.RoleDto]]] AddUserRoleAsync(Diary.Domain.Dto.UserRole.UserRoleDto) on controller Diary.Api.Controllers.RoleController (Diary.Api).
2024-05-09 01:43:09.469 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-09 01:43:09.469 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-05-09 01:43:09.470 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-09 01:43:09.470 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-09 01:43:09.470 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-09 01:43:09.470 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.RoleController (Diary.Api)
2024-05-09 01:43:09.527 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-09 01:43:09.529 +03:00 [DBG] Creating DbConnection.
2024-05-09 01:43:09.529 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-09 01:43:09.529 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:43:09.546 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:43:09.546 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:43:09.546 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 01:43:09.546 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-09 01:43:09.547 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-05-09 01:43:09.547 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-05-09 01:43:09.547 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:43:09.547 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:43:09.547 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-09 01:43:09.551 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-09 01:43:09.551 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:43:09.551 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 01:43:09.552 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.RoleController (Diary.Api)
2024-05-09 01:43:09.552 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserRole.UserRoleDto' ...
2024-05-09 01:43:09.553 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserRole.UserRoleDto' using the name '' in request data ...
2024-05-09 01:43:09.553 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-09 01:43:09.554 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.UserRole.UserRoleDto'
2024-05-09 01:43:09.554 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserRole.UserRoleDto'.
2024-05-09 01:43:09.554 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserRole.UserRoleDto'.
2024-05-09 01:43:09.554 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserRole.UserRoleDto' ...
2024-05-09 01:43:09.555 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserRole.UserRoleDto'.
2024-05-09 01:43:09.555 +03:00 [INF] Executing action method Diary.Api.Controllers.RoleController.AddUserRoleAsync (Diary.Api) - Validation state: "Valid"
2024-05-09 01:43:09.560 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:43:09.561 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:43:09.561 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 01:43:09.561 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 01:43:09.561 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-09 01:43:09.561 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u1."Id", u1."CreatedAt", u1."CreatedBy", u1."Login", u1."Password", u1."UpdatedAt", u1."UpdatedBy", s."RoleId", s."UserId", s."Id", s."Name"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
    FROM "User" AS u
    WHERE u."Login" = @__dto_Login_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."RoleId", u0."UserId", r."Id", r."Name"
    FROM "UserRole" AS u0
    INNER JOIN "Role" AS r ON u0."RoleId" = r."Id"
) AS s ON u1."Id" = s."UserId"
ORDER BY u1."Id", s."RoleId", s."UserId"
2024-05-09 01:43:09.565 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u1."Id", u1."CreatedAt", u1."CreatedBy", u1."Login", u1."Password", u1."UpdatedAt", u1."UpdatedBy", s."RoleId", s."UserId", s."Id", s."Name"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
    FROM "User" AS u
    WHERE u."Login" = @__dto_Login_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."RoleId", u0."UserId", r."Id", r."Name"
    FROM "UserRole" AS u0
    INNER JOIN "Role" AS r ON u0."RoleId" = r."Id"
) AS s ON u1."Id" = s."UserId"
ORDER BY u1."Id", s."RoleId", s."UserId"
2024-05-09 01:43:09.566 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 01:43:09.566 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'UserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 01:43:09.567 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 01:43:09.567 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:43:09.567 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 1ms reading results.
2024-05-09 01:43:09.567 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:43:09.567 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 01:43:09.569 +03:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(x => x.Name == __dto_RoleName_0)'
2024-05-09 01:43:09.572 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: new SingleQueryingEnumerable<Role>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.Name (string) Required MaxLength(50), 1] }
            SELECT TOP(1) r.Id, r.Name
            FROM Role AS r
            WHERE r.Name == @__dto_RoleName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-09 01:43:09.573 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:43:09.573 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:43:09.573 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 01:43:09.573 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 01:43:09.573 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-09 01:43:09.573 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_RoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Role" AS r
WHERE r."Name" = @__dto_RoleName_0
LIMIT 1
2024-05-09 01:43:09.576 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__dto_RoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Role" AS r
WHERE r."Name" = @__dto_RoleName_0
LIMIT 1
2024-05-09 01:43:09.576 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:43:09.576 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 0ms reading results.
2024-05-09 01:43:09.576 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:43:09.576 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 01:43:09.578 +03:00 [INF] Executed action method Diary.Api.Controllers.RoleController.AddUserRoleAsync (Diary.Api), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 22.1324ms.
2024-05-09 01:43:09.578 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-09 01:43:09.578 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-09 01:43:09.579 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-09 01:43:09.579 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-09 01:43:09.579 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-09 01:43:09.579 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-09 01:43:09.579 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.UserRole.UserRoleDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-09 01:43:09.581 +03:00 [INF] Executed action Diary.Api.Controllers.RoleController.AddUserRoleAsync (Diary.Api) in 111.1595ms
2024-05-09 01:43:09.581 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.RoleController.AddUserRoleAsync (Diary.Api)'
2024-05-09 01:43:09.582 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-09 01:43:09.582 +03:00 [DBG] Connection ID "18230571318976184358" disconnecting.
2024-05-09 01:43:09.582 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:43:09.582 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 01:43:09.582 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44308/api/Role/add-role?api-version=1 - 400 null application/json; charset=utf-8 117.4783ms
2024-05-09 01:43:17.006 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/api/Role/add-role?api-version=1 - application/json 48
2024-05-09 01:43:17.006 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Role/add-role'
2024-05-09 01:43:17.006 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.RoleController.AddUserRoleAsync (Diary.Api)' with route pattern 'api/Role/add-role' is valid for the request path '/api/Role/add-role'
2024-05-09 01:43:17.006 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.RoleController.AddUserRoleAsync (Diary.Api)'
2024-05-09 01:43:17.006 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 01:43:17.006 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-09 01:43:17.006 +03:00 [DBG] The request has an origin header: 'https://localhost:44308'.
2024-05-09 01:43:17.006 +03:00 [INF] CORS policy execution successful.
2024-05-09 01:43:17.007 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.RoleController.AddUserRoleAsync (Diary.Api)'
2024-05-09 01:43:17.007 +03:00 [INF] Route matched with {action = "AddUserRole", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.RoleDto.RoleDto]]] AddUserRoleAsync(Diary.Domain.Dto.UserRole.UserRoleDto) on controller Diary.Api.Controllers.RoleController (Diary.Api).
2024-05-09 01:43:17.007 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-09 01:43:17.007 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-05-09 01:43:17.007 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-09 01:43:17.007 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-09 01:43:17.007 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-09 01:43:17.007 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.RoleController (Diary.Api)
2024-05-09 01:43:17.030 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-09 01:43:17.033 +03:00 [DBG] Creating DbConnection.
2024-05-09 01:43:17.033 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-09 01:43:17.033 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:43:17.044 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:43:17.044 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:43:17.044 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 01:43:17.044 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-09 01:43:17.044 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-05-09 01:43:17.045 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-05-09 01:43:17.045 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:43:17.045 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:43:17.045 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-09 01:43:17.048 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-09 01:43:17.048 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:43:17.048 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 01:43:17.049 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.RoleController (Diary.Api)
2024-05-09 01:43:17.049 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserRole.UserRoleDto' ...
2024-05-09 01:43:17.049 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserRole.UserRoleDto' using the name '' in request data ...
2024-05-09 01:43:17.049 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-09 01:43:17.050 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.UserRole.UserRoleDto'
2024-05-09 01:43:17.050 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserRole.UserRoleDto'.
2024-05-09 01:43:17.050 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserRole.UserRoleDto'.
2024-05-09 01:43:17.050 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserRole.UserRoleDto' ...
2024-05-09 01:43:17.050 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserRole.UserRoleDto'.
2024-05-09 01:43:17.050 +03:00 [INF] Executing action method Diary.Api.Controllers.RoleController.AddUserRoleAsync (Diary.Api) - Validation state: "Valid"
2024-05-09 01:43:17.051 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:43:17.051 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:43:17.051 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 01:43:17.051 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 01:43:17.051 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-09 01:43:17.051 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u1."Id", u1."CreatedAt", u1."CreatedBy", u1."Login", u1."Password", u1."UpdatedAt", u1."UpdatedBy", s."RoleId", s."UserId", s."Id", s."Name"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
    FROM "User" AS u
    WHERE u."Login" = @__dto_Login_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."RoleId", u0."UserId", r."Id", r."Name"
    FROM "UserRole" AS u0
    INNER JOIN "Role" AS r ON u0."RoleId" = r."Id"
) AS s ON u1."Id" = s."UserId"
ORDER BY u1."Id", s."RoleId", s."UserId"
2024-05-09 01:43:17.055 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u1."Id", u1."CreatedAt", u1."CreatedBy", u1."Login", u1."Password", u1."UpdatedAt", u1."UpdatedBy", s."RoleId", s."UserId", s."Id", s."Name"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
    FROM "User" AS u
    WHERE u."Login" = @__dto_Login_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."RoleId", u0."UserId", r."Id", r."Name"
    FROM "UserRole" AS u0
    INNER JOIN "Role" AS r ON u0."RoleId" = r."Id"
) AS s ON u1."Id" = s."UserId"
ORDER BY u1."Id", s."RoleId", s."UserId"
2024-05-09 01:43:17.056 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 01:43:17.056 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'UserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 01:43:17.057 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 01:43:17.057 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:43:17.057 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 1ms reading results.
2024-05-09 01:43:17.058 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:43:17.058 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 01:43:17.058 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:43:17.059 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:43:17.059 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 01:43:17.059 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 01:43:17.059 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-09 01:43:17.059 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_RoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Role" AS r
WHERE r."Name" = @__dto_RoleName_0
LIMIT 1
2024-05-09 01:43:17.061 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__dto_RoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Role" AS r
WHERE r."Name" = @__dto_RoleName_0
LIMIT 1
2024-05-09 01:43:17.062 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 01:43:17.065 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:43:17.066 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 4ms reading results.
2024-05-09 01:43:17.068 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:43:17.068 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 01:43:17.086 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'UserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 01:43:17.086 +03:00 [INF] Executed action method Diary.Api.Controllers.RoleController.AddUserRoleAsync (Diary.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 36.1784ms.
2024-05-09 01:43:17.086 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-09 01:43:17.086 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-09 01:43:17.086 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-09 01:43:17.087 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-09 01:43:17.087 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-09 01:43:17.087 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-09 01:43:17.087 +03:00 [INF] Executing OkObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.UserRole.UserRoleDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-09 01:43:17.088 +03:00 [INF] Executed action Diary.Api.Controllers.RoleController.AddUserRoleAsync (Diary.Api) in 80.4893ms
2024-05-09 01:43:17.088 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.RoleController.AddUserRoleAsync (Diary.Api)'
2024-05-09 01:43:17.089 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-09 01:43:17.089 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:43:17.089 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 01:43:17.090 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44308/api/Role/add-role?api-version=1 - 200 null application/json; charset=utf-8 84.4413ms
2024-05-09 01:43:17.093 +03:00 [DBG] Connection ID "18374686524231909501" disconnecting.
2024-05-09 01:44:13.470 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/api/Role/add-role?api-version=1 - application/json 46
2024-05-09 01:44:13.470 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Role/add-role'
2024-05-09 01:44:13.470 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.RoleController.AddUserRoleAsync (Diary.Api)' with route pattern 'api/Role/add-role' is valid for the request path '/api/Role/add-role'
2024-05-09 01:44:13.470 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.RoleController.AddUserRoleAsync (Diary.Api)'
2024-05-09 01:44:13.470 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 01:44:13.470 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-09 01:44:13.471 +03:00 [DBG] The request has an origin header: 'https://localhost:44308'.
2024-05-09 01:44:13.471 +03:00 [INF] CORS policy execution successful.
2024-05-09 01:44:13.471 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.RoleController.AddUserRoleAsync (Diary.Api)'
2024-05-09 01:44:13.471 +03:00 [INF] Route matched with {action = "AddUserRole", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.RoleDto.RoleDto]]] AddUserRoleAsync(Diary.Domain.Dto.UserRole.UserRoleDto) on controller Diary.Api.Controllers.RoleController (Diary.Api).
2024-05-09 01:44:13.471 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-09 01:44:13.471 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-05-09 01:44:13.471 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-09 01:44:13.471 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-09 01:44:13.471 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-09 01:44:13.471 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.RoleController (Diary.Api)
2024-05-09 01:44:13.473 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-09 01:44:13.473 +03:00 [DBG] Creating DbConnection.
2024-05-09 01:44:13.473 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-09 01:44:13.474 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:44:13.485 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:44:13.485 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:44:13.486 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 01:44:13.486 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-09 01:44:13.486 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-05-09 01:44:13.486 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-05-09 01:44:13.486 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:44:13.486 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:44:13.486 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-09 01:44:13.489 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-09 01:44:13.489 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:44:13.489 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 01:44:13.489 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.RoleController (Diary.Api)
2024-05-09 01:44:13.490 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserRole.UserRoleDto' ...
2024-05-09 01:44:13.490 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserRole.UserRoleDto' using the name '' in request data ...
2024-05-09 01:44:13.490 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-09 01:44:13.490 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.UserRole.UserRoleDto'
2024-05-09 01:44:13.490 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserRole.UserRoleDto'.
2024-05-09 01:44:13.490 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserRole.UserRoleDto'.
2024-05-09 01:44:13.490 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserRole.UserRoleDto' ...
2024-05-09 01:44:13.490 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserRole.UserRoleDto'.
2024-05-09 01:44:13.490 +03:00 [INF] Executing action method Diary.Api.Controllers.RoleController.AddUserRoleAsync (Diary.Api) - Validation state: "Valid"
2024-05-09 01:44:17.245 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:44:17.245 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:44:17.246 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 01:44:17.246 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 01:44:17.250 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-09 01:44:17.253 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u1."Id", u1."CreatedAt", u1."CreatedBy", u1."Login", u1."Password", u1."UpdatedAt", u1."UpdatedBy", s."RoleId", s."UserId", s."Id", s."Name"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
    FROM "User" AS u
    WHERE u."Login" = @__dto_Login_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."RoleId", u0."UserId", r."Id", r."Name"
    FROM "UserRole" AS u0
    INNER JOIN "Role" AS r ON u0."RoleId" = r."Id"
) AS s ON u1."Id" = s."UserId"
ORDER BY u1."Id", s."RoleId", s."UserId"
2024-05-09 01:44:17.267 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u1."Id", u1."CreatedAt", u1."CreatedBy", u1."Login", u1."Password", u1."UpdatedAt", u1."UpdatedBy", s."RoleId", s."UserId", s."Id", s."Name"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
    FROM "User" AS u
    WHERE u."Login" = @__dto_Login_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."RoleId", u0."UserId", r."Id", r."Name"
    FROM "UserRole" AS u0
    INNER JOIN "Role" AS r ON u0."RoleId" = r."Id"
) AS s ON u1."Id" = s."UserId"
ORDER BY u1."Id", s."RoleId", s."UserId"
2024-05-09 01:44:17.270 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 01:44:17.271 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'UserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 01:44:17.281 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 01:44:17.282 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:44:17.282 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 14ms reading results.
2024-05-09 01:44:17.292 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:44:17.293 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 01:44:32.932 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:44:32.932 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:44:32.932 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 01:44:32.932 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 01:44:32.932 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-09 01:44:32.932 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_RoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Role" AS r
WHERE r."Name" = @__dto_RoleName_0
LIMIT 1
2024-05-09 01:44:32.935 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__dto_RoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Role" AS r
WHERE r."Name" = @__dto_RoleName_0
LIMIT 1
2024-05-09 01:44:32.941 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 01:44:32.942 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:44:32.942 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 1ms reading results.
2024-05-09 01:44:32.948 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:44:32.949 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (1ms).
2024-05-09 01:44:55.507 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'UserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 01:48:01.231 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-09 01:48:01.352 +03:00 [DBG] Hosting starting
2024-05-09 01:48:01.397 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-09 01:48:01.428 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-09 01:48:01.432 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-09 01:48:01.433 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-09 01:48:01.436 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-09 01:48:01.440 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-09 01:48:01.440 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-09 01:48:01.446 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-09 01:48:01.449 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-09 01:48:01.451 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-09 01:48:01.453 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-09 01:48:01.456 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-09 01:48:01.458 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-09 01:48:01.459 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-09 01:48:01.459 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-09 01:48:01.522 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-09 01:48:01.522 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-09 01:48:01.522 +03:00 [INF] Hosting environment: Development
2024-05-09 01:48:01.522 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-09 01:48:01.523 +03:00 [DBG] Hosting started
2024-05-09 01:48:01.595 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-09 01:48:01.599 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-09 01:48:01.651 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-09 01:48:01.652 +03:00 [DBG] Request did not match any endpoints
2024-05-09 01:48:01.758 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 01:48:01.794 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-09 01:48:01.818 +03:00 [DBG] Connection ID "18374686498462105767" disconnecting.
2024-05-09 01:48:01.820 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 404 null null 232.7519ms
2024-05-09 01:48:01.824 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 404
2024-05-09 01:48:05.797 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-09 01:48:05.797 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-09 01:48:05.797 +03:00 [DBG] Request did not match any endpoints
2024-05-09 01:48:05.799 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 01:48:05.893 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 96.9113ms
2024-05-09 01:48:05.894 +03:00 [DBG] Connection ID "18374686524231909503" disconnecting.
2024-05-09 01:48:06.100 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-09 01:48:06.100 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-09 01:48:06.100 +03:00 [DBG] Request did not match any endpoints
2024-05-09 01:48:06.101 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 01:48:06.276 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 176.1243ms
2024-05-09 01:48:06.279 +03:00 [DBG] Connection ID "18302628917309079614" disconnecting.
2024-05-09 01:48:22.792 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/api/Role/add-role?api-version=1 - application/json 48
2024-05-09 01:48:22.804 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Role/add-role'
2024-05-09 01:48:22.808 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.RoleController.AddUserRoleAsync (Diary.Api)' with route pattern 'api/Role/add-role' is valid for the request path '/api/Role/add-role'
2024-05-09 01:48:22.811 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.RoleController.AddUserRoleAsync (Diary.Api)'
2024-05-09 01:48:22.812 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 01:48:22.812 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-09 01:48:22.813 +03:00 [DBG] The request has an origin header: 'https://localhost:44308'.
2024-05-09 01:48:22.813 +03:00 [INF] CORS policy execution successful.
2024-05-09 01:48:22.815 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.RoleController.AddUserRoleAsync (Diary.Api)'
2024-05-09 01:48:22.837 +03:00 [INF] Route matched with {action = "AddUserRole", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.RoleDto.RoleDto]]] AddUserRoleAsync(Diary.Domain.Dto.UserRole.UserRoleDto) on controller Diary.Api.Controllers.RoleController (Diary.Api).
2024-05-09 01:48:22.838 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-09 01:48:22.838 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-05-09 01:48:22.839 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-09 01:48:22.839 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-09 01:48:22.839 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-09 01:48:22.841 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.RoleController (Diary.Api)
2024-05-09 01:48:23.012 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-09 01:48:23.563 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'RoleId', 'UserId'}.
2024-05-09 01:48:23.890 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-09 01:48:23.904 +03:00 [DBG] Creating DbConnection.
2024-05-09 01:48:23.955 +03:00 [DBG] Created DbConnection. (49ms).
2024-05-09 01:48:23.961 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:48:24.082 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:48:24.088 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:48:24.099 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (6ms).
2024-05-09 01:48:24.107 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-09 01:48:24.114 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2024-05-09 01:48:24.115 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (9ms).
2024-05-09 01:48:24.115 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:48:24.140 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:48:24.150 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-09 01:48:24.247 +03:00 [INF] Executed DbCommand (99ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-09 01:48:24.250 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:48:24.253 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-09 01:48:24.370 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.RoleController (Diary.Api)
2024-05-09 01:48:24.374 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserRole.UserRoleDto' ...
2024-05-09 01:48:24.376 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserRole.UserRoleDto' using the name '' in request data ...
2024-05-09 01:48:24.377 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-09 01:48:24.390 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.UserRole.UserRoleDto'
2024-05-09 01:48:24.390 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserRole.UserRoleDto'.
2024-05-09 01:48:24.390 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserRole.UserRoleDto'.
2024-05-09 01:48:24.390 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserRole.UserRoleDto' ...
2024-05-09 01:48:24.395 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserRole.UserRoleDto'.
2024-05-09 01:48:24.401 +03:00 [INF] Executing action method Diary.Api.Controllers.RoleController.AddUserRoleAsync (Diary.Api) - Validation state: "Valid"
2024-05-09 01:48:32.963 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Include(x => x.Roles)
    .FirstOrDefault(x => x.Login == __dto_Login_0)'
2024-05-09 01:48:33.024 +03:00 [DBG] Including navigation: 'User.Roles'.
2024-05-09 01:48:33.309 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: User.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedAt (DateTime) Required, 1], [Property: User.CreatedBy (long) Required, 2], [Property: User.Login (string) Required MaxLength(100), 3], [Property: User.Password (string) Required, 4], [Property: User.UpdatedAt (DateTime?), 5], [Property: User.UpdatedBy (long?), 6] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: UserRole.RoleId (long) Required PK FK AfterSave:Throw, 7], [Property: UserRole.UserId (long) Required PK FK Index AfterSave:Throw, 8] }
                3 -> Dictionary<IProperty, int> { [Property: Role.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Role.Name (string) Required MaxLength(50), 10] }
                4 -> 7
                5 -> 8
                6 -> 9
            SELECT u1.Id, u1.CreatedAt, u1.CreatedBy, u1.Login, u1.Password, u1.UpdatedAt, u1.UpdatedBy, s.RoleId, s.UserId, s.Id, s.Name
            FROM 
            (
                SELECT TOP(1) u.Id, u.CreatedAt, u.CreatedBy, u.Login, u.Password, u.UpdatedAt, u.UpdatedBy
                FROM User AS u
                WHERE u.Login == @__dto_Login_0
            ) AS u1
            LEFT JOIN 
            (
                SELECT u0.RoleId, u0.UserId, r.Id, r.Name
                FROM UserRole AS u0
                INNER JOIN Role AS r ON u0.RoleId == r.Id
            ) AS s ON u1.Id == s.UserId
            ORDER BY u1.Id ASC, s.RoleId ASC, s.UserId ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-09 01:48:33.347 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:48:33.349 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:48:33.350 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 01:48:33.350 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 01:48:33.355 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-05-09 01:48:33.358 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u1."Id", u1."CreatedAt", u1."CreatedBy", u1."Login", u1."Password", u1."UpdatedAt", u1."UpdatedBy", s."RoleId", s."UserId", s."Id", s."Name"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
    FROM "User" AS u
    WHERE u."Login" = @__dto_Login_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."RoleId", u0."UserId", r."Id", r."Name"
    FROM "UserRole" AS u0
    INNER JOIN "Role" AS r ON u0."RoleId" = r."Id"
) AS s ON u1."Id" = s."UserId"
ORDER BY u1."Id", s."RoleId", s."UserId"
2024-05-09 01:48:33.387 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u1."Id", u1."CreatedAt", u1."CreatedBy", u1."Login", u1."Password", u1."UpdatedAt", u1."UpdatedBy", s."RoleId", s."UserId", s."Id", s."Name"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
    FROM "User" AS u
    WHERE u."Login" = @__dto_Login_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."RoleId", u0."UserId", r."Id", r."Name"
    FROM "UserRole" AS u0
    INNER JOIN "Role" AS r ON u0."RoleId" = r."Id"
) AS s ON u1."Id" = s."UserId"
ORDER BY u1."Id", s."RoleId", s."UserId"
2024-05-09 01:48:33.474 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 01:48:33.516 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'UserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 01:48:33.524 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 01:48:33.530 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:48:33.531 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 141ms reading results.
2024-05-09 01:48:33.535 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:48:33.535 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 01:48:44.441 +03:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(x => x.Name == __dto_RoleName_0)'
2024-05-09 01:48:44.444 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: new SingleQueryingEnumerable<Role>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.Name (string) Required MaxLength(50), 1] }
            SELECT TOP(1) r.Id, r.Name
            FROM Role AS r
            WHERE r.Name == @__dto_RoleName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-09 01:48:44.445 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:48:44.445 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:48:44.445 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 01:48:44.445 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 01:48:44.445 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-09 01:48:44.445 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_RoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Role" AS r
WHERE r."Name" = @__dto_RoleName_0
LIMIT 1
2024-05-09 01:48:44.466 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__dto_RoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Role" AS r
WHERE r."Name" = @__dto_RoleName_0
LIMIT 1
2024-05-09 01:48:44.474 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 01:48:44.476 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:48:44.476 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 9ms reading results.
2024-05-09 01:48:44.482 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:48:44.482 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 01:48:57.973 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'UserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 01:49:48.522 +03:00 [INF] Executed action method Diary.Api.Controllers.RoleController.AddUserRoleAsync (Diary.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 84117.0126ms.
2024-05-09 01:49:48.527 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-09 01:49:48.529 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-09 01:49:48.530 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-09 01:49:48.530 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-09 01:49:48.530 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-09 01:49:48.531 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-09 01:49:48.531 +03:00 [INF] Executing OkObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.UserRole.UserRoleDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-09 01:49:48.541 +03:00 [INF] Executed action Diary.Api.Controllers.RoleController.AddUserRoleAsync (Diary.Api) in 85698.4565ms
2024-05-09 01:49:48.542 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.RoleController.AddUserRoleAsync (Diary.Api)'
2024-05-09 01:49:48.549 +03:00 [DBG] Connection ID "18374686515641974937" disconnecting.
2024-05-09 01:49:48.551 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-09 01:49:48.554 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:49:48.556 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (1ms).
2024-05-09 01:49:48.556 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44308/api/Role/add-role?api-version=1 - 200 null application/json; charset=utf-8 85764.7804ms
2024-05-09 01:50:19.561 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/register - application/json 78
2024-05-09 01:50:19.562 +03:00 [DBG] 1 candidate(s) found for the request path '/register'
2024-05-09 01:50:19.562 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.AuthController.Register (Diary.Api)' with route pattern 'register' is valid for the request path '/register'
2024-05-09 01:50:19.562 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.AuthController.Register (Diary.Api)'
2024-05-09 01:50:19.563 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 01:50:19.563 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-09 01:50:19.563 +03:00 [DBG] The request has an origin header: 'https://localhost:44308'.
2024-05-09 01:50:19.563 +03:00 [INF] CORS policy execution successful.
2024-05-09 01:50:19.563 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.AuthController.Register (Diary.Api)'
2024-05-09 01:50:19.566 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult]] Register(Diary.Domain.Dto.UserDto.RegisterUserDto) on controller Diary.Api.Controllers.AuthController (Diary.Api).
2024-05-09 01:50:19.567 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-09 01:50:19.567 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-09 01:50:19.567 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2024-05-09 01:50:19.567 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-09 01:50:19.567 +03:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2024-05-09 01:50:19.567 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-09 01:50:19.614 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-09 01:50:19.623 +03:00 [DBG] Creating DbConnection.
2024-05-09 01:50:19.623 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-09 01:50:19.623 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:50:19.634 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:50:19.634 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:50:19.634 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 01:50:19.635 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-09 01:50:19.635 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-05-09 01:50:19.635 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-05-09 01:50:19.635 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:50:19.635 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:50:19.635 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-09 01:50:19.637 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-09 01:50:19.638 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:50:19.638 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 01:50:19.641 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.AuthController (Diary.Api)
2024-05-09 01:50:19.641 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.RegisterUserDto' ...
2024-05-09 01:50:19.642 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.RegisterUserDto' using the name '' in request data ...
2024-05-09 01:50:19.642 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-09 01:50:19.643 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.UserDto.RegisterUserDto'
2024-05-09 01:50:19.643 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.RegisterUserDto'.
2024-05-09 01:50:19.643 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserDto.RegisterUserDto'.
2024-05-09 01:50:19.643 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.RegisterUserDto' ...
2024-05-09 01:50:19.644 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserDto.RegisterUserDto'.
2024-05-09 01:50:19.644 +03:00 [INF] Executing action method Diary.Api.Controllers.AuthController.Register (Diary.Api) - Validation state: "Valid"
2024-05-09 01:50:19.648 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(x => x.Login == __dto_Login_0)'
2024-05-09 01:50:19.651 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedAt (DateTime) Required, 1], [Property: User.CreatedBy (long) Required, 2], [Property: User.Login (string) Required MaxLength(100), 3], [Property: User.Password (string) Required, 4], [Property: User.UpdatedAt (DateTime?), 5], [Property: User.UpdatedBy (long?), 6] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.CreatedBy, u.Login, u.Password, u.UpdatedAt, u.UpdatedBy
            FROM User AS u
            WHERE u.Login == @__dto_Login_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-09 01:50:19.651 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:50:19.651 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:50:19.651 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 01:50:19.652 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 01:50:19.652 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-09 01:50:19.652 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Login" = @__dto_Login_0
LIMIT 1
2024-05-09 01:50:19.655 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Login" = @__dto_Login_0
LIMIT 1
2024-05-09 01:50:19.656 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:50:19.657 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 0ms reading results.
2024-05-09 01:50:19.657 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:50:19.657 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 01:50:19.661 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:50:19.661 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:50:19.664 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-09 01:50:19.670 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-09 01:50:19.683 +03:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'User.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 01:50:19.691 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 01:50:19.695 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-05-09 01:50:19.698 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-09 01:50:19.715 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-09 01:50:19.723 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-09 01:50:19.724 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-09 01:50:19.789 +03:00 [DBG] Creating transaction savepoint.
2024-05-09 01:50:19.796 +03:00 [DBG] Created transaction savepoint.
2024-05-09 01:50:19.800 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 01:50:19.800 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 01:50:19.800 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-09 01:50:19.801 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "User" ("CreatedAt", "CreatedBy", "Login", "Password", "UpdatedAt", "UpdatedBy")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2024-05-09 01:50:19.809 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "User" ("CreatedAt", "CreatedBy", "Login", "Password", "UpdatedAt", "UpdatedBy")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2024-05-09 01:50:19.819 +03:00 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-09 01:50:19.823 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:50:19.823 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 13ms reading results.
2024-05-09 01:50:19.826 +03:00 [DBG] Releasing transaction savepoint.
2024-05-09 01:50:19.830 +03:00 [DBG] Released transaction savepoint.
2024-05-09 01:50:19.840 +03:00 [DBG] An entity of type 'User' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 01:50:19.842 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-05-09 01:50:19.843 +03:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(x => x.Name == "User")'
2024-05-09 01:50:19.847 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: new SingleQueryingEnumerable<Role>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.Name (string) Required MaxLength(50), 1] }
            SELECT TOP(1) r.Id, r.Name
            FROM Role AS r
            WHERE r.Name == 'User'), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-09 01:50:19.847 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 01:50:19.847 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 01:50:19.847 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-09 01:50:19.847 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Role" AS r
WHERE r."Name" = 'User'
LIMIT 1
2024-05-09 01:50:19.849 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Role" AS r
WHERE r."Name" = 'User'
LIMIT 1
2024-05-09 01:50:19.850 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 01:50:19.850 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:50:19.850 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 0ms reading results.
2024-05-09 01:50:19.851 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'UserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 01:50:19.852 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-05-09 01:50:19.852 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-09 01:50:19.857 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-09 01:50:19.857 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-09 01:50:19.857 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-09 01:50:19.863 +03:00 [DBG] Creating transaction savepoint.
2024-05-09 01:50:19.865 +03:00 [DBG] Created transaction savepoint.
2024-05-09 01:50:19.866 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 01:50:19.866 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 01:50:19.866 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-09 01:50:19.866 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserRole" ("RoleId", "UserId")
VALUES (@p0, @p1);
2024-05-09 01:50:19.870 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserRole" ("RoleId", "UserId")
VALUES (@p0, @p1);
2024-05-09 01:50:19.871 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:50:19.871 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 0ms reading results.
2024-05-09 01:50:19.871 +03:00 [DBG] Releasing transaction savepoint.
2024-05-09 01:50:19.873 +03:00 [DBG] Released transaction savepoint.
2024-05-09 01:50:19.873 +03:00 [DBG] An entity of type 'UserRole' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 01:50:19.873 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-05-09 01:50:19.876 +03:00 [DBG] Committing transaction.
2024-05-09 01:50:19.886 +03:00 [DBG] Committed transaction.
2024-05-09 01:50:19.889 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:50:19.889 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 01:50:19.891 +03:00 [DBG] Disposing transaction.
2024-05-09 01:50:19.900 +03:00 [INF] Executed action method Diary.Api.Controllers.AuthController.Register (Diary.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 256.1688ms.
2024-05-09 01:50:19.901 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-09 01:50:19.901 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-09 01:50:19.901 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-09 01:50:19.901 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-09 01:50:19.902 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-09 01:50:19.902 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-09 01:50:19.902 +03:00 [INF] Executing OkObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.UserDto.UserDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-09 01:50:19.905 +03:00 [INF] Executed action Diary.Api.Controllers.AuthController.Register (Diary.Api) in 337.742ms
2024-05-09 01:50:19.905 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.AuthController.Register (Diary.Api)'
2024-05-09 01:50:19.905 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-09 01:50:19.906 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:50:19.906 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 01:50:19.907 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44308/register - 200 null application/json; charset=utf-8 345.4154ms
2024-05-09 01:50:19.910 +03:00 [DBG] Connection ID "18230571293206380619" disconnecting.
2024-05-09 01:53:10.682 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/api/Role/add-role?api-version=1 - application/json 48
2024-05-09 01:53:10.683 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Role/add-role'
2024-05-09 01:53:10.683 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.RoleController.AddUserRoleAsync (Diary.Api)' with route pattern 'api/Role/add-role' is valid for the request path '/api/Role/add-role'
2024-05-09 01:53:10.684 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.RoleController.AddUserRoleAsync (Diary.Api)'
2024-05-09 01:53:10.684 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 01:53:10.684 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-09 01:53:10.684 +03:00 [DBG] The request has an origin header: 'https://localhost:44308'.
2024-05-09 01:53:10.684 +03:00 [INF] CORS policy execution successful.
2024-05-09 01:53:10.684 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.RoleController.AddUserRoleAsync (Diary.Api)'
2024-05-09 01:53:10.685 +03:00 [INF] Route matched with {action = "AddUserRole", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.RoleDto.RoleDto]]] AddUserRoleAsync(Diary.Domain.Dto.UserRole.UserRoleDto) on controller Diary.Api.Controllers.RoleController (Diary.Api).
2024-05-09 01:53:10.685 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-09 01:53:10.685 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-05-09 01:53:10.685 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-09 01:53:10.685 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-09 01:53:10.685 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-09 01:53:10.686 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.RoleController (Diary.Api)
2024-05-09 01:53:10.718 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-09 01:53:10.722 +03:00 [DBG] Creating DbConnection.
2024-05-09 01:53:10.723 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-09 01:53:10.723 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:53:10.733 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:53:10.734 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:53:10.734 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 01:53:10.734 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-09 01:53:10.734 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-05-09 01:53:10.734 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-05-09 01:53:10.734 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:53:10.735 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:53:10.735 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-09 01:53:10.737 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-09 01:53:10.738 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:53:10.738 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 01:53:10.738 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.RoleController (Diary.Api)
2024-05-09 01:53:10.738 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserRole.UserRoleDto' ...
2024-05-09 01:53:10.739 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserRole.UserRoleDto' using the name '' in request data ...
2024-05-09 01:53:10.739 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-09 01:53:10.739 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.UserRole.UserRoleDto'
2024-05-09 01:53:10.739 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserRole.UserRoleDto'.
2024-05-09 01:53:10.739 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserRole.UserRoleDto'.
2024-05-09 01:53:10.739 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserRole.UserRoleDto' ...
2024-05-09 01:53:10.739 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserRole.UserRoleDto'.
2024-05-09 01:53:10.739 +03:00 [INF] Executing action method Diary.Api.Controllers.RoleController.AddUserRoleAsync (Diary.Api) - Validation state: "Valid"
2024-05-09 01:53:16.229 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:53:16.229 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:53:16.229 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 01:53:16.229 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 01:53:16.229 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-09 01:53:16.229 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u1."Id", u1."CreatedAt", u1."CreatedBy", u1."Login", u1."Password", u1."UpdatedAt", u1."UpdatedBy", s."RoleId", s."UserId", s."Id", s."Name"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
    FROM "User" AS u
    WHERE u."Login" = @__dto_Login_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."RoleId", u0."UserId", r."Id", r."Name"
    FROM "UserRole" AS u0
    INNER JOIN "Role" AS r ON u0."RoleId" = r."Id"
) AS s ON u1."Id" = s."UserId"
ORDER BY u1."Id", s."RoleId", s."UserId"
2024-05-09 01:53:16.232 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u1."Id", u1."CreatedAt", u1."CreatedBy", u1."Login", u1."Password", u1."UpdatedAt", u1."UpdatedBy", s."RoleId", s."UserId", s."Id", s."Name"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
    FROM "User" AS u
    WHERE u."Login" = @__dto_Login_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."RoleId", u0."UserId", r."Id", r."Name"
    FROM "UserRole" AS u0
    INNER JOIN "Role" AS r ON u0."RoleId" = r."Id"
) AS s ON u1."Id" = s."UserId"
ORDER BY u1."Id", s."RoleId", s."UserId"
2024-05-09 01:53:16.242 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 01:53:16.244 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'UserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 01:53:16.247 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 01:53:16.257 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:53:16.257 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 24ms reading results.
2024-05-09 01:53:16.257 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:53:16.257 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 01:53:17.900 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:53:17.900 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:53:17.900 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 01:53:17.900 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 01:53:17.900 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-09 01:53:17.900 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_RoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Role" AS r
WHERE r."Name" = @__dto_RoleName_0
LIMIT 1
2024-05-09 01:53:17.903 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__dto_RoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Role" AS r
WHERE r."Name" = @__dto_RoleName_0
LIMIT 1
2024-05-09 01:53:17.904 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 01:53:17.914 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:53:17.915 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 10ms reading results.
2024-05-09 01:53:17.915 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:53:17.915 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 01:53:36.225 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'RoleId', 'UserId'}.
2024-05-09 01:54:26.612 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-09 01:54:26.748 +03:00 [DBG] Hosting starting
2024-05-09 01:54:26.788 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-09 01:54:26.823 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-09 01:54:26.827 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-09 01:54:26.828 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-09 01:54:26.831 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-09 01:54:26.834 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-09 01:54:26.835 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-09 01:54:26.840 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-09 01:54:26.843 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-09 01:54:26.845 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-09 01:54:26.847 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-09 01:54:26.850 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-09 01:54:26.852 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-09 01:54:26.853 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-09 01:54:26.853 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-09 01:54:26.909 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-09 01:54:26.909 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-09 01:54:26.910 +03:00 [INF] Hosting environment: Development
2024-05-09 01:54:26.910 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-09 01:54:26.910 +03:00 [DBG] Hosting started
2024-05-09 01:54:26.973 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-09 01:54:26.976 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-09 01:54:27.024 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-09 01:54:27.024 +03:00 [DBG] Request did not match any endpoints
2024-05-09 01:54:27.125 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 01:54:27.161 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-09 01:54:27.184 +03:00 [DBG] Connection ID "18374686485577203751" disconnecting.
2024-05-09 01:54:27.186 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 404 null null 219.8308ms
2024-05-09 01:54:27.190 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 404
2024-05-09 01:58:32.971 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-09 01:58:33.105 +03:00 [DBG] Hosting starting
2024-05-09 01:58:33.153 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-09 01:58:33.195 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-09 01:58:33.200 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-09 01:58:33.201 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-09 01:58:33.205 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-09 01:58:33.208 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-09 01:58:33.208 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-09 01:58:33.216 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-09 01:58:33.220 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-09 01:58:33.222 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-09 01:58:33.224 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-09 01:58:33.229 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-09 01:58:33.230 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-09 01:58:33.231 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-09 01:58:33.232 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-09 01:58:33.310 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-09 01:58:33.310 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-09 01:58:33.311 +03:00 [INF] Hosting environment: Development
2024-05-09 01:58:33.311 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-09 01:58:33.311 +03:00 [DBG] Hosting started
2024-05-09 01:58:33.370 +03:00 [DBG] Connection ID "18374686481282236562" disconnecting.
2024-05-09 01:58:33.391 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-09 01:58:33.391 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-09 01:58:33.395 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-09 01:58:33.395 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-09 01:58:33.457 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-09 01:58:33.457 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-09 01:58:33.458 +03:00 [DBG] Request did not match any endpoints
2024-05-09 01:58:33.458 +03:00 [DBG] Request did not match any endpoints
2024-05-09 01:58:33.603 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 01:58:33.603 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 01:58:33.654 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-09 01:58:33.654 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-09 01:58:33.669 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 499 null null 286.5613ms
2024-05-09 01:58:33.674 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 499
2024-05-09 01:58:33.694 +03:00 [DBG] Connection ID "18302628917309079616" disconnecting.
2024-05-09 01:58:33.694 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 404 null null 311.3206ms
2024-05-09 01:58:33.694 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 404
2024-05-09 01:58:40.141 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-09 01:58:40.141 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-09 01:58:40.141 +03:00 [DBG] Request did not match any endpoints
2024-05-09 01:58:40.142 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 01:58:40.236 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 95.9391ms
2024-05-09 01:58:40.241 +03:00 [DBG] Connection ID "18302628930193981492" disconnecting.
2024-05-09 01:58:40.555 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-09 01:58:40.555 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-09 01:58:40.555 +03:00 [DBG] Request did not match any endpoints
2024-05-09 01:58:40.556 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 01:58:40.721 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 165.6738ms
2024-05-09 01:58:40.725 +03:00 [DBG] Connection ID "18374686498462105769" disconnecting.
2024-05-09 01:58:57.284 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/api/Role/add-role?api-version=1 - application/json 48
2024-05-09 01:58:57.308 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Role/add-role'
2024-05-09 01:58:57.311 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.RoleController.AddUserRoleAsync (Diary.Api)' with route pattern 'api/Role/add-role' is valid for the request path '/api/Role/add-role'
2024-05-09 01:58:57.315 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.RoleController.AddUserRoleAsync (Diary.Api)'
2024-05-09 01:58:57.316 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 01:58:57.316 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-09 01:58:57.317 +03:00 [DBG] The request has an origin header: 'https://localhost:44308'.
2024-05-09 01:58:57.317 +03:00 [INF] CORS policy execution successful.
2024-05-09 01:58:57.319 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.RoleController.AddUserRoleAsync (Diary.Api)'
2024-05-09 01:58:57.343 +03:00 [INF] Route matched with {action = "AddUserRole", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.RoleDto.RoleDto]]] AddUserRoleAsync(Diary.Domain.Dto.UserRole.UserRoleDto) on controller Diary.Api.Controllers.RoleController (Diary.Api).
2024-05-09 01:58:57.344 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-09 01:58:57.344 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-05-09 01:58:57.345 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-09 01:58:57.345 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-09 01:58:57.345 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-09 01:58:57.347 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.RoleController (Diary.Api)
2024-05-09 01:58:57.514 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-09 01:58:58.068 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'RoleId', 'UserId'}.
2024-05-09 01:58:58.401 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-09 01:58:58.414 +03:00 [DBG] Creating DbConnection.
2024-05-09 01:58:58.467 +03:00 [DBG] Created DbConnection. (50ms).
2024-05-09 01:58:58.473 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:58:58.587 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:58:58.593 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:58:58.603 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (6ms).
2024-05-09 01:58:58.611 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-09 01:58:58.618 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2024-05-09 01:58:58.620 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (9ms).
2024-05-09 01:58:58.620 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:58:58.648 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:58:58.659 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-09 01:58:58.747 +03:00 [INF] Executed DbCommand (90ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-09 01:58:58.749 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:58:58.752 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-09 01:58:58.886 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.RoleController (Diary.Api)
2024-05-09 01:58:58.892 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserRole.UserRoleDto' ...
2024-05-09 01:58:58.895 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserRole.UserRoleDto' using the name '' in request data ...
2024-05-09 01:58:58.897 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-09 01:58:58.914 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.UserRole.UserRoleDto'
2024-05-09 01:58:58.915 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserRole.UserRoleDto'.
2024-05-09 01:58:58.916 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserRole.UserRoleDto'.
2024-05-09 01:58:58.916 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserRole.UserRoleDto' ...
2024-05-09 01:58:58.922 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserRole.UserRoleDto'.
2024-05-09 01:58:58.928 +03:00 [INF] Executing action method Diary.Api.Controllers.RoleController.AddUserRoleAsync (Diary.Api) - Validation state: "Valid"
2024-05-09 01:59:21.973 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Include(x => x.Roles)
    .FirstOrDefault(x => x.Login == __dto_Login_0)'
2024-05-09 01:59:22.034 +03:00 [DBG] Including navigation: 'User.Roles'.
2024-05-09 01:59:22.323 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: User.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedAt (DateTime) Required, 1], [Property: User.CreatedBy (long) Required, 2], [Property: User.Login (string) Required MaxLength(100), 3], [Property: User.Password (string) Required, 4], [Property: User.UpdatedAt (DateTime?), 5], [Property: User.UpdatedBy (long?), 6] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: UserRole.RoleId (long) Required PK FK AfterSave:Throw, 7], [Property: UserRole.UserId (long) Required PK FK Index AfterSave:Throw, 8] }
                3 -> Dictionary<IProperty, int> { [Property: Role.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Role.Name (string) Required MaxLength(50), 10] }
                4 -> 7
                5 -> 8
                6 -> 9
            SELECT u1.Id, u1.CreatedAt, u1.CreatedBy, u1.Login, u1.Password, u1.UpdatedAt, u1.UpdatedBy, s.RoleId, s.UserId, s.Id, s.Name
            FROM 
            (
                SELECT TOP(1) u.Id, u.CreatedAt, u.CreatedBy, u.Login, u.Password, u.UpdatedAt, u.UpdatedBy
                FROM User AS u
                WHERE u.Login == @__dto_Login_0
            ) AS u1
            LEFT JOIN 
            (
                SELECT u0.RoleId, u0.UserId, r.Id, r.Name
                FROM UserRole AS u0
                INNER JOIN Role AS r ON u0.RoleId == r.Id
            ) AS s ON u1.Id == s.UserId
            ORDER BY u1.Id ASC, s.RoleId ASC, s.UserId ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-09 01:59:22.360 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:59:22.362 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:59:22.362 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 01:59:22.362 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 01:59:22.367 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-05-09 01:59:22.370 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u1."Id", u1."CreatedAt", u1."CreatedBy", u1."Login", u1."Password", u1."UpdatedAt", u1."UpdatedBy", s."RoleId", s."UserId", s."Id", s."Name"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
    FROM "User" AS u
    WHERE u."Login" = @__dto_Login_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."RoleId", u0."UserId", r."Id", r."Name"
    FROM "UserRole" AS u0
    INNER JOIN "Role" AS r ON u0."RoleId" = r."Id"
) AS s ON u1."Id" = s."UserId"
ORDER BY u1."Id", s."RoleId", s."UserId"
2024-05-09 01:59:22.405 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u1."Id", u1."CreatedAt", u1."CreatedBy", u1."Login", u1."Password", u1."UpdatedAt", u1."UpdatedBy", s."RoleId", s."UserId", s."Id", s."Name"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
    FROM "User" AS u
    WHERE u."Login" = @__dto_Login_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."RoleId", u0."UserId", r."Id", r."Name"
    FROM "UserRole" AS u0
    INNER JOIN "Role" AS r ON u0."RoleId" = r."Id"
) AS s ON u1."Id" = s."UserId"
ORDER BY u1."Id", s."RoleId", s."UserId"
2024-05-09 01:59:22.486 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 01:59:22.529 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'UserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 01:59:22.537 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 01:59:22.543 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:59:22.545 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 138ms reading results.
2024-05-09 01:59:22.549 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:59:22.549 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 01:59:24.907 +03:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(x => x.Name == __dto_RoleName_0)'
2024-05-09 01:59:24.909 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: new SingleQueryingEnumerable<Role>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.Name (string) Required MaxLength(50), 1] }
            SELECT TOP(1) r.Id, r.Name
            FROM Role AS r
            WHERE r.Name == @__dto_RoleName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-09 01:59:24.910 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:59:24.910 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:59:24.910 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 01:59:24.911 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 01:59:24.911 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-09 01:59:24.911 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_RoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Role" AS r
WHERE r."Name" = @__dto_RoleName_0
LIMIT 1
2024-05-09 01:59:24.923 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__dto_RoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Role" AS r
WHERE r."Name" = @__dto_RoleName_0
LIMIT 1
2024-05-09 01:59:24.932 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 01:59:24.939 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:59:24.939 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 8ms reading results.
2024-05-09 01:59:24.940 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:59:24.941 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (1ms).
2024-05-09 01:59:26.699 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'UserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 01:59:27.384 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-05-09 01:59:27.387 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-09 01:59:27.411 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-09 01:59:27.414 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-09 01:59:27.414 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-09 01:59:27.480 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:59:27.480 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:59:27.482 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 01:59:27.482 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 01:59:27.483 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-09 01:59:27.483 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserRole" ("RoleId", "UserId")
VALUES (@p0, @p1);
2024-05-09 01:59:27.493 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserRole" ("RoleId", "UserId")
VALUES (@p0, @p1);
2024-05-09 01:59:27.558 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:59:27.559 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 65ms reading results.
2024-05-09 01:59:27.560 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:59:27.560 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 01:59:27.568 +03:00 [DBG] An entity of type 'UserRole' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 01:59:27.571 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-05-09 01:59:35.054 +03:00 [INF] Executed action method Diary.Api.Controllers.RoleController.AddUserRoleAsync (Diary.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 36123.0928ms.
2024-05-09 01:59:35.060 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-09 01:59:35.064 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-09 01:59:35.064 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-09 01:59:35.065 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-09 01:59:35.065 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-09 01:59:35.065 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-09 01:59:35.066 +03:00 [INF] Executing OkObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.UserRole.UserRoleDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-09 01:59:35.076 +03:00 [INF] Executed action Diary.Api.Controllers.RoleController.AddUserRoleAsync (Diary.Api) in 37727.6575ms
2024-05-09 01:59:35.077 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.RoleController.AddUserRoleAsync (Diary.Api)'
2024-05-09 01:59:35.079 +03:00 [DBG] Connection ID "18374686515641974940" disconnecting.
2024-05-09 01:59:35.081 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-09 01:59:35.084 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 01:59:35.086 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (1ms).
2024-05-09 01:59:35.087 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44308/api/Role/add-role?api-version=1 - 200 null application/json; charset=utf-8 37802.7678ms
2024-05-09 02:04:41.019 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-09 02:04:41.148 +03:00 [DBG] Hosting starting
2024-05-09 02:04:41.194 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-09 02:04:41.227 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-09 02:04:41.232 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-09 02:04:41.232 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-09 02:04:41.235 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-09 02:04:41.239 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-09 02:04:41.239 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-09 02:04:41.245 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-09 02:04:41.248 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-09 02:04:41.250 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-09 02:04:41.251 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-09 02:04:41.255 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-09 02:04:41.256 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-09 02:04:41.257 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-09 02:04:41.257 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-09 02:04:41.321 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-09 02:04:41.322 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-09 02:04:41.322 +03:00 [INF] Hosting environment: Development
2024-05-09 02:04:41.322 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-09 02:04:41.322 +03:00 [DBG] Hosting started
2024-05-09 02:04:41.371 +03:00 [DBG] Connection ID "18230571301796315155" disconnecting.
2024-05-09 02:04:41.388 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-09 02:04:41.391 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-09 02:04:41.440 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-09 02:04:41.440 +03:00 [DBG] Request did not match any endpoints
2024-05-09 02:04:41.541 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 02:04:41.586 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-09 02:04:41.588 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 499 null null 205.7111ms
2024-05-09 02:04:41.592 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 499
2024-05-09 02:04:42.006 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-09 02:04:42.007 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-09 02:04:42.007 +03:00 [DBG] Request did not match any endpoints
2024-05-09 02:04:42.008 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 02:04:42.138 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 131.9867ms
2024-05-09 02:04:42.141 +03:00 [DBG] Connection ID "18374686502757072993" disconnecting.
2024-05-09 02:04:42.349 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-09 02:04:42.349 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-09 02:04:42.349 +03:00 [DBG] Request did not match any endpoints
2024-05-09 02:04:42.350 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 02:04:42.519 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 170.2773ms
2024-05-09 02:04:42.522 +03:00 [DBG] Connection ID "18230571301796315157" disconnecting.
2024-05-09 02:04:57.457 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/api/Role/add-role?api-version=1 - application/json 38
2024-05-09 02:04:57.469 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Role/add-role'
2024-05-09 02:04:57.473 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.RoleController.AddUserRoleAsync (Diary.Api)' with route pattern 'api/Role/add-role' is valid for the request path '/api/Role/add-role'
2024-05-09 02:04:57.476 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.RoleController.AddUserRoleAsync (Diary.Api)'
2024-05-09 02:04:57.477 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 02:04:57.478 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-09 02:04:57.479 +03:00 [DBG] The request has an origin header: 'https://localhost:44308'.
2024-05-09 02:04:57.479 +03:00 [INF] CORS policy execution successful.
2024-05-09 02:04:57.480 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.RoleController.AddUserRoleAsync (Diary.Api)'
2024-05-09 02:04:57.502 +03:00 [INF] Route matched with {action = "AddUserRole", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.RoleDto.RoleDto]]] AddUserRoleAsync(Diary.Domain.Dto.UserRole.CreateUserRole) on controller Diary.Api.Controllers.RoleController (Diary.Api).
2024-05-09 02:04:57.503 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-09 02:04:57.503 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-05-09 02:04:57.504 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-09 02:04:57.504 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-09 02:04:57.504 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-09 02:04:57.506 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.RoleController (Diary.Api)
2024-05-09 02:04:57.703 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-09 02:04:58.253 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'RoleId', 'UserId'}.
2024-05-09 02:04:58.577 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-09 02:04:58.590 +03:00 [DBG] Creating DbConnection.
2024-05-09 02:04:58.646 +03:00 [DBG] Created DbConnection. (53ms).
2024-05-09 02:04:58.654 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:04:58.775 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:04:58.782 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:04:58.793 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (7ms).
2024-05-09 02:04:58.801 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-09 02:04:58.808 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2024-05-09 02:04:58.809 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (9ms).
2024-05-09 02:04:58.809 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:04:58.833 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:04:58.843 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-09 02:04:58.932 +03:00 [INF] Executed DbCommand (92ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-09 02:04:58.935 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:04:58.937 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-09 02:04:59.044 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.RoleController (Diary.Api)
2024-05-09 02:04:59.048 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserRole.CreateUserRole' ...
2024-05-09 02:04:59.051 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserRole.CreateUserRole' using the name '' in request data ...
2024-05-09 02:04:59.052 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-09 02:04:59.070 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.UserRole.CreateUserRole'
2024-05-09 02:04:59.071 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserRole.CreateUserRole'.
2024-05-09 02:04:59.071 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserRole.CreateUserRole'.
2024-05-09 02:04:59.071 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserRole.CreateUserRole' ...
2024-05-09 02:04:59.075 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserRole.CreateUserRole'.
2024-05-09 02:04:59.081 +03:00 [INF] Executing action method Diary.Api.Controllers.RoleController.AddUserRoleAsync (Diary.Api) - Validation state: "Valid"
2024-05-09 02:04:59.167 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Include(x => x.Roles)
    .FirstOrDefault(x => x.Login == __dto_Login_0)'
2024-05-09 02:04:59.229 +03:00 [DBG] Including navigation: 'User.Roles'.
2024-05-09 02:04:59.515 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: User.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedAt (DateTime) Required, 1], [Property: User.CreatedBy (long) Required, 2], [Property: User.Login (string) Required MaxLength(100), 3], [Property: User.Password (string) Required, 4], [Property: User.UpdatedAt (DateTime?), 5], [Property: User.UpdatedBy (long?), 6] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: UserRole.RoleId (long) Required PK FK AfterSave:Throw, 7], [Property: UserRole.UserId (long) Required PK FK Index AfterSave:Throw, 8] }
                3 -> Dictionary<IProperty, int> { [Property: Role.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Role.Name (string) Required MaxLength(50), 10] }
                4 -> 7
                5 -> 8
                6 -> 9
            SELECT u1.Id, u1.CreatedAt, u1.CreatedBy, u1.Login, u1.Password, u1.UpdatedAt, u1.UpdatedBy, s.RoleId, s.UserId, s.Id, s.Name
            FROM 
            (
                SELECT TOP(1) u.Id, u.CreatedAt, u.CreatedBy, u.Login, u.Password, u.UpdatedAt, u.UpdatedBy
                FROM User AS u
                WHERE u.Login == @__dto_Login_0
            ) AS u1
            LEFT JOIN 
            (
                SELECT u0.RoleId, u0.UserId, r.Id, r.Name
                FROM UserRole AS u0
                INNER JOIN Role AS r ON u0.RoleId == r.Id
            ) AS s ON u1.Id == s.UserId
            ORDER BY u1.Id ASC, s.RoleId ASC, s.UserId ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-09 02:04:59.553 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:04:59.555 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:04:59.555 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 02:04:59.555 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 02:04:59.560 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-05-09 02:04:59.564 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u1."Id", u1."CreatedAt", u1."CreatedBy", u1."Login", u1."Password", u1."UpdatedAt", u1."UpdatedBy", s."RoleId", s."UserId", s."Id", s."Name"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
    FROM "User" AS u
    WHERE u."Login" = @__dto_Login_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."RoleId", u0."UserId", r."Id", r."Name"
    FROM "UserRole" AS u0
    INNER JOIN "Role" AS r ON u0."RoleId" = r."Id"
) AS s ON u1."Id" = s."UserId"
ORDER BY u1."Id", s."RoleId", s."UserId"
2024-05-09 02:04:59.596 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u1."Id", u1."CreatedAt", u1."CreatedBy", u1."Login", u1."Password", u1."UpdatedAt", u1."UpdatedBy", s."RoleId", s."UserId", s."Id", s."Name"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
    FROM "User" AS u
    WHERE u."Login" = @__dto_Login_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."RoleId", u0."UserId", r."Id", r."Name"
    FROM "UserRole" AS u0
    INNER JOIN "Role" AS r ON u0."RoleId" = r."Id"
) AS s ON u1."Id" = s."UserId"
ORDER BY u1."Id", s."RoleId", s."UserId"
2024-05-09 02:04:59.640 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 02:04:59.684 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'UserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 02:04:59.693 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 02:04:59.699 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:04:59.701 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 103ms reading results.
2024-05-09 02:04:59.704 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:04:59.705 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 02:04:59.709 +03:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(x => x.Id == __dto_RoleId_0)'
2024-05-09 02:04:59.711 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: new SingleQueryingEnumerable<Role>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.Name (string) Required MaxLength(50), 1] }
            SELECT TOP(1) r.Id, r.Name
            FROM Role AS r
            WHERE r.Id == @__dto_RoleId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-09 02:04:59.712 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:04:59.712 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:04:59.712 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 02:04:59.713 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 02:04:59.713 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-09 02:04:59.713 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_RoleId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Role" AS r
WHERE r."Id" = @__dto_RoleId_0
LIMIT 1
2024-05-09 02:04:59.717 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__dto_RoleId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Role" AS r
WHERE r."Id" = @__dto_RoleId_0
LIMIT 1
2024-05-09 02:04:59.718 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 02:04:59.718 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:04:59.718 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 0ms reading results.
2024-05-09 02:04:59.718 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:04:59.718 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 02:04:59.739 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'UserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 02:04:59.743 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-05-09 02:04:59.747 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-09 02:04:59.773 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-09 02:04:59.776 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-09 02:04:59.777 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-09 02:04:59.848 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:04:59.848 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:04:59.850 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 02:04:59.850 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 02:04:59.850 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-09 02:04:59.850 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserRole" ("RoleId", "UserId")
VALUES (@p0, @p1);
2024-05-09 02:04:59.855 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserRole" ("RoleId", "UserId")
VALUES (@p0, @p1);
2024-05-09 02:04:59.860 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:04:59.860 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 5ms reading results.
2024-05-09 02:04:59.861 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:04:59.861 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 02:04:59.869 +03:00 [DBG] An entity of type 'UserRole' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 02:04:59.872 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-05-09 02:04:59.878 +03:00 [INF] Executed action method Diary.Api.Controllers.RoleController.AddUserRoleAsync (Diary.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 793.1103ms.
2024-05-09 02:04:59.884 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-09 02:04:59.886 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-09 02:04:59.887 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-09 02:04:59.887 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-09 02:04:59.887 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-09 02:04:59.888 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-09 02:04:59.888 +03:00 [INF] Executing OkObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.UserRole.UserRoleDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-09 02:04:59.900 +03:00 [INF] Executed action Diary.Api.Controllers.RoleController.AddUserRoleAsync (Diary.Api) in 2392.2138ms
2024-05-09 02:04:59.901 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.RoleController.AddUserRoleAsync (Diary.Api)'
2024-05-09 02:04:59.904 +03:00 [DBG] Connection ID "18374686515641974942" disconnecting.
2024-05-09 02:04:59.906 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-09 02:04:59.910 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:04:59.912 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (1ms).
2024-05-09 02:04:59.912 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44308/api/Role/add-role?api-version=1 - 200 null application/json; charset=utf-8 2455.2539ms
2024-05-09 02:05:26.331 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/api/Role?api-version=1 - application/json 25
2024-05-09 02:05:26.332 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Role'
2024-05-09 02:05:26.332 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.RoleController.CreateRoleAsync (Diary.Api)' with route pattern 'api/Role' is valid for the request path '/api/Role'
2024-05-09 02:05:26.332 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.RoleController.CreateRoleAsync (Diary.Api)'
2024-05-09 02:05:26.332 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 02:05:26.333 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-09 02:05:26.333 +03:00 [DBG] The request has an origin header: 'https://localhost:44308'.
2024-05-09 02:05:26.333 +03:00 [INF] CORS policy execution successful.
2024-05-09 02:05:26.333 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.RoleController.CreateRoleAsync (Diary.Api)'
2024-05-09 02:05:26.337 +03:00 [INF] Route matched with {action = "CreateRole", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.RoleDto.RoleDto]]] CreateRoleAsync(Diary.Domain.Dto.RoleDto.RoleDto) on controller Diary.Api.Controllers.RoleController (Diary.Api).
2024-05-09 02:05:26.337 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-09 02:05:26.337 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-05-09 02:05:26.337 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-09 02:05:26.337 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-09 02:05:26.337 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-09 02:05:26.337 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.RoleController (Diary.Api)
2024-05-09 02:05:26.360 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-09 02:05:26.368 +03:00 [DBG] Creating DbConnection.
2024-05-09 02:05:26.368 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-09 02:05:26.368 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:05:26.382 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:05:26.382 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:05:26.383 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 02:05:26.383 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-09 02:05:26.383 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-05-09 02:05:26.383 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-05-09 02:05:26.383 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:05:26.383 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:05:26.383 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-09 02:05:26.386 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-09 02:05:26.386 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:05:26.386 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 02:05:26.387 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.RoleController (Diary.Api)
2024-05-09 02:05:26.387 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.RoleDto.RoleDto' ...
2024-05-09 02:05:26.388 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.RoleDto.RoleDto' using the name '' in request data ...
2024-05-09 02:05:26.388 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-09 02:05:26.389 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.RoleDto.RoleDto'
2024-05-09 02:05:26.389 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.RoleDto.RoleDto'.
2024-05-09 02:05:26.389 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.RoleDto.RoleDto'.
2024-05-09 02:05:26.389 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.RoleDto.RoleDto' ...
2024-05-09 02:05:26.390 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.RoleDto.RoleDto'.
2024-05-09 02:05:26.390 +03:00 [INF] Executing action method Diary.Api.Controllers.RoleController.CreateRoleAsync (Diary.Api) - Validation state: "Valid"
2024-05-09 02:05:26.393 +03:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(x => x.Name == __dto_Name_0)'
2024-05-09 02:05:26.395 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: new SingleQueryingEnumerable<Role>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.Name (string) Required MaxLength(50), 1] }
            SELECT TOP(1) r.Id, r.Name
            FROM Role AS r
            WHERE r.Name == @__dto_Name_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-09 02:05:26.395 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:05:26.395 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:05:26.395 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 02:05:26.395 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 02:05:26.395 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-09 02:05:26.395 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_Name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Role" AS r
WHERE r."Name" = @__dto_Name_0
LIMIT 1
2024-05-09 02:05:26.398 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__dto_Name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Role" AS r
WHERE r."Name" = @__dto_Name_0
LIMIT 1
2024-05-09 02:05:26.399 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:05:26.399 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 0ms reading results.
2024-05-09 02:05:26.400 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:05:26.400 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 02:05:26.411 +03:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'Role.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 02:05:26.416 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 02:05:26.416 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-05-09 02:05:26.416 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-09 02:05:26.417 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-09 02:05:26.417 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-09 02:05:26.417 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-09 02:05:26.419 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:05:26.420 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:05:26.420 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 02:05:26.420 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 02:05:26.420 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-09 02:05:26.420 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Role" ("Name")
VALUES (@p0)
RETURNING "Id";
2024-05-09 02:05:26.425 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Role" ("Name")
VALUES (@p0)
RETURNING "Id";
2024-05-09 02:05:26.432 +03:00 [DBG] The foreign key property 'Role.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-09 02:05:26.436 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:05:26.436 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 11ms reading results.
2024-05-09 02:05:26.437 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:05:26.437 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 02:05:26.440 +03:00 [DBG] An entity of type 'Role' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 02:05:26.441 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-05-09 02:05:26.448 +03:00 [INF] Executed action method Diary.Api.Controllers.RoleController.CreateRoleAsync (Diary.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 57.4013ms.
2024-05-09 02:05:26.448 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-09 02:05:26.449 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-09 02:05:26.449 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-09 02:05:26.449 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-09 02:05:26.449 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-09 02:05:26.449 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-09 02:05:26.449 +03:00 [INF] Executing OkObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.RoleDto.RoleDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-09 02:05:26.451 +03:00 [INF] Executed action Diary.Api.Controllers.RoleController.CreateRoleAsync (Diary.Api) in 113.5488ms
2024-05-09 02:05:26.451 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.RoleController.CreateRoleAsync (Diary.Api)'
2024-05-09 02:05:26.451 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-09 02:05:26.451 +03:00 [DBG] Connection ID "18302628934488948743" disconnecting.
2024-05-09 02:05:26.451 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:05:26.451 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 02:05:26.452 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44308/api/Role?api-version=1 - 200 null application/json; charset=utf-8 120.5204ms
2024-05-09 02:05:45.839 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/api/Role/add-role?api-version=1 - application/json 40
2024-05-09 02:05:45.840 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Role/add-role'
2024-05-09 02:05:45.840 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.RoleController.AddUserRoleAsync (Diary.Api)' with route pattern 'api/Role/add-role' is valid for the request path '/api/Role/add-role'
2024-05-09 02:05:45.840 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.RoleController.AddUserRoleAsync (Diary.Api)'
2024-05-09 02:05:45.840 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 02:05:45.840 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-09 02:05:45.840 +03:00 [DBG] The request has an origin header: 'https://localhost:44308'.
2024-05-09 02:05:45.841 +03:00 [INF] CORS policy execution successful.
2024-05-09 02:05:45.841 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.RoleController.AddUserRoleAsync (Diary.Api)'
2024-05-09 02:05:45.841 +03:00 [INF] Route matched with {action = "AddUserRole", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.RoleDto.RoleDto]]] AddUserRoleAsync(Diary.Domain.Dto.UserRole.CreateUserRole) on controller Diary.Api.Controllers.RoleController (Diary.Api).
2024-05-09 02:05:45.841 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-09 02:05:45.841 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-05-09 02:05:45.841 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-09 02:05:45.841 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-09 02:05:45.842 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-09 02:05:45.842 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.RoleController (Diary.Api)
2024-05-09 02:05:45.871 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-09 02:05:45.874 +03:00 [DBG] Creating DbConnection.
2024-05-09 02:05:45.874 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-09 02:05:45.875 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:05:45.890 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:05:45.891 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:05:45.891 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 02:05:45.891 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-09 02:05:45.891 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-05-09 02:05:45.891 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-05-09 02:05:45.891 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:05:45.891 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:05:45.891 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-09 02:05:45.894 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-09 02:05:45.894 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:05:45.894 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 02:05:45.895 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.RoleController (Diary.Api)
2024-05-09 02:05:45.895 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserRole.CreateUserRole' ...
2024-05-09 02:05:45.895 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserRole.CreateUserRole' using the name '' in request data ...
2024-05-09 02:05:45.895 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-09 02:05:45.896 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.UserRole.CreateUserRole'
2024-05-09 02:05:45.896 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserRole.CreateUserRole'.
2024-05-09 02:05:45.896 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserRole.CreateUserRole'.
2024-05-09 02:05:45.896 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserRole.CreateUserRole' ...
2024-05-09 02:05:45.896 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserRole.CreateUserRole'.
2024-05-09 02:05:45.896 +03:00 [INF] Executing action method Diary.Api.Controllers.RoleController.AddUserRoleAsync (Diary.Api) - Validation state: "Valid"
2024-05-09 02:05:45.899 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:05:45.899 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:05:45.899 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 02:05:45.899 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 02:05:45.899 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-09 02:05:45.899 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u1."Id", u1."CreatedAt", u1."CreatedBy", u1."Login", u1."Password", u1."UpdatedAt", u1."UpdatedBy", s."RoleId", s."UserId", s."Id", s."Name"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
    FROM "User" AS u
    WHERE u."Login" = @__dto_Login_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."RoleId", u0."UserId", r."Id", r."Name"
    FROM "UserRole" AS u0
    INNER JOIN "Role" AS r ON u0."RoleId" = r."Id"
) AS s ON u1."Id" = s."UserId"
ORDER BY u1."Id", s."RoleId", s."UserId"
2024-05-09 02:05:45.902 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u1."Id", u1."CreatedAt", u1."CreatedBy", u1."Login", u1."Password", u1."UpdatedAt", u1."UpdatedBy", s."RoleId", s."UserId", s."Id", s."Name"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
    FROM "User" AS u
    WHERE u."Login" = @__dto_Login_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."RoleId", u0."UserId", r."Id", r."Name"
    FROM "UserRole" AS u0
    INNER JOIN "Role" AS r ON u0."RoleId" = r."Id"
) AS s ON u1."Id" = s."UserId"
ORDER BY u1."Id", s."RoleId", s."UserId"
2024-05-09 02:05:45.904 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 02:05:45.904 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'UserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 02:05:45.905 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 02:05:45.905 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'UserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 02:05:45.905 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 02:05:45.905 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:05:45.905 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 1ms reading results.
2024-05-09 02:05:45.905 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:05:45.905 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 02:05:45.906 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:05:45.907 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:05:45.907 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 02:05:45.907 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 02:05:45.907 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-09 02:05:45.907 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_RoleId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Role" AS r
WHERE r."Id" = @__dto_RoleId_0
LIMIT 1
2024-05-09 02:05:45.909 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__dto_RoleId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Role" AS r
WHERE r."Id" = @__dto_RoleId_0
LIMIT 1
2024-05-09 02:05:45.909 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 02:05:45.909 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:05:45.909 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 0ms reading results.
2024-05-09 02:05:45.909 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:05:45.909 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 02:05:45.910 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'UserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 02:05:45.910 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-05-09 02:05:45.910 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-09 02:05:45.910 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-09 02:05:45.910 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-09 02:05:45.910 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-09 02:05:45.910 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:05:45.910 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:05:45.911 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 02:05:45.911 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 02:05:45.911 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-09 02:05:45.911 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserRole" ("RoleId", "UserId")
VALUES (@p0, @p1);
2024-05-09 02:05:45.915 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserRole" ("RoleId", "UserId")
VALUES (@p0, @p1);
2024-05-09 02:05:45.915 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:05:45.915 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 0ms reading results.
2024-05-09 02:05:45.916 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:05:45.916 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 02:05:45.916 +03:00 [DBG] An entity of type 'UserRole' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 02:05:45.916 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-05-09 02:05:45.916 +03:00 [INF] Executed action method Diary.Api.Controllers.RoleController.AddUserRoleAsync (Diary.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 19.8773ms.
2024-05-09 02:05:45.916 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-09 02:05:45.916 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-09 02:05:45.916 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-09 02:05:45.916 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-09 02:05:45.917 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-09 02:05:45.917 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-09 02:05:45.917 +03:00 [INF] Executing OkObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.UserRole.UserRoleDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-09 02:05:45.917 +03:00 [INF] Executed action Diary.Api.Controllers.RoleController.AddUserRoleAsync (Diary.Api) in 74.7742ms
2024-05-09 02:05:45.917 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.RoleController.AddUserRoleAsync (Diary.Api)'
2024-05-09 02:05:45.917 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-09 02:05:45.918 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:05:45.919 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (1ms).
2024-05-09 02:05:45.921 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44308/api/Role/add-role?api-version=1 - 200 null application/json; charset=utf-8 79.8109ms
2024-05-09 02:05:45.921 +03:00 [DBG] Connection ID "18230571301796315159" disconnecting.
2024-05-09 02:35:07.005 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-09 02:35:07.214 +03:00 [DBG] Hosting starting
2024-05-09 02:35:07.269 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-09 02:35:07.344 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-09 02:35:07.356 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-09 02:35:07.395 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-09 02:35:07.429 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-09 02:35:07.434 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-09 02:35:07.435 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-09 02:35:07.441 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-09 02:35:07.445 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-09 02:35:07.447 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-09 02:35:07.448 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-09 02:35:07.453 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-09 02:35:07.455 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-09 02:35:07.457 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-09 02:35:07.461 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-09 02:35:07.659 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-09 02:35:07.659 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-09 02:35:07.659 +03:00 [INF] Hosting environment: Development
2024-05-09 02:35:07.659 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-09 02:35:07.660 +03:00 [DBG] Hosting started
2024-05-09 02:35:07.752 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-09 02:35:07.755 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-09 02:35:07.821 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-09 02:35:07.822 +03:00 [DBG] Request did not match any endpoints
2024-05-09 02:35:08.040 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 02:35:08.130 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-09 02:35:08.188 +03:00 [DBG] Connection ID "18302628921604046877" disconnecting.
2024-05-09 02:35:08.190 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 404 null null 445.044ms
2024-05-09 02:35:08.196 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 404
2024-05-09 02:35:10.961 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-09 02:35:10.962 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-09 02:35:10.962 +03:00 [DBG] Request did not match any endpoints
2024-05-09 02:35:10.964 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 02:35:11.091 +03:00 [DBG] Connection ID "18302628921604046879" disconnecting.
2024-05-09 02:35:11.091 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 129.8272ms
2024-05-09 02:35:11.385 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-09 02:35:11.385 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-09 02:35:11.385 +03:00 [DBG] Request did not match any endpoints
2024-05-09 02:35:11.386 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 02:35:11.573 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 188.0255ms
2024-05-09 02:35:11.577 +03:00 [DBG] Connection ID "18230571318976184362" disconnecting.
2024-05-09 02:37:07.134 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-09 02:37:07.282 +03:00 [DBG] Hosting starting
2024-05-09 02:37:07.329 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-09 02:37:07.362 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-09 02:37:07.366 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-09 02:37:07.367 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-09 02:37:07.370 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-09 02:37:07.374 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-09 02:37:07.374 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-09 02:37:07.381 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-09 02:37:07.383 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-09 02:37:07.386 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-09 02:37:07.387 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-09 02:37:07.392 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-09 02:37:07.393 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-09 02:37:07.394 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-09 02:37:07.395 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-09 02:37:07.469 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-09 02:37:07.481 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-09 02:37:07.481 +03:00 [INF] Hosting environment: Development
2024-05-09 02:37:07.481 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-09 02:37:07.482 +03:00 [DBG] Hosting started
2024-05-09 02:37:07.525 +03:00 [DBG] Connection ID "18374686511347007540" disconnecting.
2024-05-09 02:37:07.544 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-09 02:37:07.544 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-09 02:37:07.546 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-09 02:37:07.546 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-09 02:37:07.605 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-09 02:37:07.605 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-09 02:37:07.606 +03:00 [DBG] Request did not match any endpoints
2024-05-09 02:37:07.606 +03:00 [DBG] Request did not match any endpoints
2024-05-09 02:37:07.757 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 02:37:07.757 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 02:37:07.809 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-09 02:37:07.814 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 499 null null 276.7491ms
2024-05-09 02:37:07.817 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 499
2024-05-09 02:37:07.927 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 388.379ms
2024-05-09 02:37:07.928 +03:00 [DBG] Connection ID "18374686524231909506" disconnecting.
2024-05-09 02:37:08.156 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-09 02:37:08.157 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-09 02:37:08.157 +03:00 [DBG] Request did not match any endpoints
2024-05-09 02:37:08.158 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 02:37:08.334 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 177.3987ms
2024-05-09 02:37:08.334 +03:00 [DBG] Connection ID "18374686524231909508" disconnecting.
2024-05-09 02:37:31.325 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-09 02:37:31.457 +03:00 [DBG] Hosting starting
2024-05-09 02:37:31.508 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-09 02:37:31.539 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-09 02:37:31.543 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-09 02:37:31.544 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-09 02:37:31.547 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-09 02:37:31.550 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-09 02:37:31.550 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-09 02:37:31.556 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-09 02:37:31.559 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-09 02:37:31.561 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-09 02:37:31.563 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-09 02:37:31.566 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-09 02:37:31.567 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-09 02:37:31.568 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-09 02:37:31.569 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-09 02:37:31.631 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-09 02:37:31.631 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-09 02:37:31.632 +03:00 [INF] Hosting environment: Development
2024-05-09 02:37:31.632 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-09 02:37:31.636 +03:00 [DBG] Hosting started
2024-05-09 02:37:31.696 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-09 02:37:31.698 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-09 02:37:31.743 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-09 02:37:31.744 +03:00 [DBG] Request did not match any endpoints
2024-05-09 02:37:31.850 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 02:37:31.889 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-09 02:37:31.914 +03:00 [DBG] Connection ID "18374686494167138366" disconnecting.
2024-05-09 02:37:31.916 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 404 null null 225.8ms
2024-05-09 02:37:31.920 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 404
2024-05-09 02:37:34.669 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-09 02:37:34.669 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-09 02:37:34.669 +03:00 [DBG] Request did not match any endpoints
2024-05-09 02:37:34.671 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 02:37:34.771 +03:00 [DBG] Connection ID "18230571318976184364" disconnecting.
2024-05-09 02:37:34.771 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 102.7717ms
2024-05-09 02:37:34.954 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-09 02:37:34.954 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-09 02:37:34.954 +03:00 [DBG] Request did not match any endpoints
2024-05-09 02:37:34.955 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 02:37:35.110 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 156.7152ms
2024-05-09 02:37:35.115 +03:00 [DBG] Connection ID "18374686498462105775" disconnecting.
2024-05-09 02:37:57.760 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:44308/api/Role/update-role?api-version=1 - application/json 59
2024-05-09 02:37:57.782 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Role/update-role'
2024-05-09 02:37:57.786 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.RoleController.UpdateUserRoleAsync (Diary.Api)' with route pattern 'api/Role/update-role' is valid for the request path '/api/Role/update-role'
2024-05-09 02:37:57.790 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.RoleController.UpdateUserRoleAsync (Diary.Api)'
2024-05-09 02:37:57.791 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 02:37:57.791 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-09 02:37:57.792 +03:00 [DBG] The request has an origin header: 'https://localhost:44308'.
2024-05-09 02:37:57.793 +03:00 [INF] CORS policy execution successful.
2024-05-09 02:37:57.796 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.RoleController.UpdateUserRoleAsync (Diary.Api)'
2024-05-09 02:37:57.827 +03:00 [INF] Route matched with {action = "UpdateUserRole", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.RoleDto.RoleDto]]] UpdateUserRoleAsync(Diary.Domain.Dto.UserRole.UpdateUserRole) on controller Diary.Api.Controllers.RoleController (Diary.Api).
2024-05-09 02:37:57.829 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-09 02:37:57.829 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-05-09 02:37:57.830 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-09 02:37:57.830 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-09 02:37:57.830 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-09 02:37:57.833 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.RoleController (Diary.Api)
2024-05-09 02:37:58.088 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-09 02:37:58.772 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'RoleId', 'UserId'}.
2024-05-09 02:37:59.159 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-09 02:37:59.180 +03:00 [DBG] Creating DbConnection.
2024-05-09 02:37:59.246 +03:00 [DBG] Created DbConnection. (64ms).
2024-05-09 02:37:59.254 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:37:59.430 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:37:59.437 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:37:59.447 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (6ms).
2024-05-09 02:37:59.455 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-09 02:37:59.462 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2024-05-09 02:37:59.464 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (9ms).
2024-05-09 02:37:59.464 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:37:59.491 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:37:59.502 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-09 02:37:59.593 +03:00 [INF] Executed DbCommand (94ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-09 02:37:59.596 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:37:59.599 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-09 02:37:59.712 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.RoleController (Diary.Api)
2024-05-09 02:37:59.718 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserRole.UpdateUserRole' ...
2024-05-09 02:37:59.721 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserRole.UpdateUserRole' using the name '' in request data ...
2024-05-09 02:37:59.730 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-09 02:37:59.753 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.UserRole.UpdateUserRole'
2024-05-09 02:37:59.753 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserRole.UpdateUserRole'.
2024-05-09 02:37:59.753 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.UserRole.UpdateUserRole'.
2024-05-09 02:37:59.754 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserRole.UpdateUserRole' ...
2024-05-09 02:37:59.757 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.UserRole.UpdateUserRole'.
2024-05-09 02:37:59.764 +03:00 [INF] Executing action method Diary.Api.Controllers.RoleController.UpdateUserRoleAsync (Diary.Api) - Validation state: "Valid"
2024-05-09 02:38:02.898 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Include(x => x.Roles)
    .FirstOrDefault(x => x.Login == __dto_Login_0)'
2024-05-09 02:38:02.964 +03:00 [DBG] Including navigation: 'User.Roles'.
2024-05-09 02:38:03.264 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: User.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedAt (DateTime) Required, 1], [Property: User.CreatedBy (long) Required, 2], [Property: User.Login (string) Required MaxLength(100), 3], [Property: User.Password (string) Required, 4], [Property: User.UpdatedAt (DateTime?), 5], [Property: User.UpdatedBy (long?), 6] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: UserRole.RoleId (long) Required PK FK AfterSave:Throw, 7], [Property: UserRole.UserId (long) Required PK FK Index AfterSave:Throw, 8] }
                3 -> Dictionary<IProperty, int> { [Property: Role.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Role.Name (string) Required MaxLength(50), 10] }
                4 -> 7
                5 -> 8
                6 -> 9
            SELECT u1.Id, u1.CreatedAt, u1.CreatedBy, u1.Login, u1.Password, u1.UpdatedAt, u1.UpdatedBy, s.RoleId, s.UserId, s.Id, s.Name
            FROM 
            (
                SELECT TOP(1) u.Id, u.CreatedAt, u.CreatedBy, u.Login, u.Password, u.UpdatedAt, u.UpdatedBy
                FROM User AS u
                WHERE u.Login == @__dto_Login_0
            ) AS u1
            LEFT JOIN 
            (
                SELECT u0.RoleId, u0.UserId, r.Id, r.Name
                FROM UserRole AS u0
                INNER JOIN Role AS r ON u0.RoleId == r.Id
            ) AS s ON u1.Id == s.UserId
            ORDER BY u1.Id ASC, s.RoleId ASC, s.UserId ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-09 02:38:03.307 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:38:03.309 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:38:03.309 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 02:38:03.309 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 02:38:03.315 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-05-09 02:38:03.317 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u1."Id", u1."CreatedAt", u1."CreatedBy", u1."Login", u1."Password", u1."UpdatedAt", u1."UpdatedBy", s."RoleId", s."UserId", s."Id", s."Name"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
    FROM "User" AS u
    WHERE u."Login" = @__dto_Login_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."RoleId", u0."UserId", r."Id", r."Name"
    FROM "UserRole" AS u0
    INNER JOIN "Role" AS r ON u0."RoleId" = r."Id"
) AS s ON u1."Id" = s."UserId"
ORDER BY u1."Id", s."RoleId", s."UserId"
2024-05-09 02:38:03.358 +03:00 [INF] Executed DbCommand (42ms) [Parameters=[@__dto_Login_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u1."Id", u1."CreatedAt", u1."CreatedBy", u1."Login", u1."Password", u1."UpdatedAt", u1."UpdatedBy", s."RoleId", s."UserId", s."Id", s."Name"
FROM (
    SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
    FROM "User" AS u
    WHERE u."Login" = @__dto_Login_0
    LIMIT 1
) AS u1
LEFT JOIN (
    SELECT u0."RoleId", u0."UserId", r."Id", r."Name"
    FROM "UserRole" AS u0
    INNER JOIN "Role" AS r ON u0."RoleId" = r."Id"
) AS s ON u1."Id" = s."UserId"
ORDER BY u1."Id", s."RoleId", s."UserId"
2024-05-09 02:38:03.507 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 02:38:03.549 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'UserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 02:38:03.557 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 02:38:03.559 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'UserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 02:38:03.559 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 02:38:03.564 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:38:03.565 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 205ms reading results.
2024-05-09 02:38:03.569 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:38:03.569 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 02:38:10.468 +03:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(x => x.Id == __dto_OldRoleId_0)'
2024-05-09 02:38:10.471 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: new SingleQueryingEnumerable<Role>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.Name (string) Required MaxLength(50), 1] }
            SELECT TOP(1) r.Id, r.Name
            FROM Role AS r
            WHERE r.Id == @__dto_OldRoleId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-09 02:38:10.471 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:38:10.472 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:38:10.472 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 02:38:10.472 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 02:38:10.472 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-09 02:38:10.472 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_OldRoleId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Role" AS r
WHERE r."Id" = @__dto_OldRoleId_0
LIMIT 1
2024-05-09 02:38:10.486 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__dto_OldRoleId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Role" AS r
WHERE r."Id" = @__dto_OldRoleId_0
LIMIT 1
2024-05-09 02:38:10.496 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:38:10.503 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 8ms reading results.
2024-05-09 02:38:10.504 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:38:10.505 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 02:38:15.489 +03:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(x => x.Id == __dto_NewRoleId_0)'
2024-05-09 02:38:15.491 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: new SingleQueryingEnumerable<Role>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.Name (string) Required MaxLength(50), 1] }
            SELECT TOP(1) r.Id, r.Name
            FROM Role AS r
            WHERE r.Id == @__dto_NewRoleId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-09 02:38:15.491 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:38:15.491 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:38:15.491 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 02:38:15.491 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 02:38:15.491 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-09 02:38:15.491 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_NewRoleId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Role" AS r
WHERE r."Id" = @__dto_NewRoleId_0
LIMIT 1
2024-05-09 02:38:15.494 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__dto_NewRoleId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Role" AS r
WHERE r."Id" = @__dto_NewRoleId_0
LIMIT 1
2024-05-09 02:38:15.503 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 02:38:15.504 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:38:15.504 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 1ms reading results.
2024-05-09 02:38:15.511 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:38:15.511 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 02:38:19.223 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:38:19.224 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:38:19.225 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-05-09 02:38:19.235 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-05-09 02:38:23.292 +03:00 [DBG] Compiling query expression: 
'DbSet<UserRole>()
    .Where(x => x.RoleId == __role_Id_0)
    .FirstOrDefault(x => x.UserId == __user_Id_1)'
2024-05-09 02:38:23.295 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserRole>(
    asyncEnumerable: new SingleQueryingEnumerable<UserRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserRole.RoleId (long) Required PK FK AfterSave:Throw, 0], [Property: UserRole.UserId (long) Required PK FK Index AfterSave:Throw, 1] }
            SELECT TOP(1) u.RoleId, u.UserId
            FROM UserRole AS u
            WHERE (u.RoleId == @__role_Id_0) && (u.UserId == @__user_Id_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserRole>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-09 02:38:23.298 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 02:38:23.298 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 02:38:23.298 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-09 02:38:23.298 +03:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='?' (DbType = Int64), @__user_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT u."RoleId", u."UserId"
FROM "UserRole" AS u
WHERE u."RoleId" = @__role_Id_0 AND u."UserId" = @__user_Id_1
LIMIT 1
2024-05-09 02:38:23.301 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (DbType = Int64), @__user_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT u."RoleId", u."UserId"
FROM "UserRole" AS u
WHERE u."RoleId" = @__role_Id_0 AND u."UserId" = @__user_Id_1
LIMIT 1
2024-05-09 02:38:23.316 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:38:23.316 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 13ms reading results.
2024-05-09 02:38:32.311 +03:00 [DBG] An entity of type 'UserRole' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 02:38:34.174 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-05-09 02:38:34.183 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-09 02:38:34.207 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-09 02:38:34.209 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-09 02:38:34.209 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-09 02:38:34.272 +03:00 [DBG] Creating transaction savepoint.
2024-05-09 02:38:34.279 +03:00 [DBG] Created transaction savepoint.
2024-05-09 02:38:34.283 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 02:38:34.283 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 02:38:34.283 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-09 02:38:34.283 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "UserRole"
WHERE "RoleId" = @p0 AND "UserId" = @p1;
2024-05-09 02:38:34.295 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "UserRole"
WHERE "RoleId" = @p0 AND "UserId" = @p1;
2024-05-09 02:38:34.329 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:38:34.329 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 33ms reading results.
2024-05-09 02:38:34.333 +03:00 [DBG] Releasing transaction savepoint.
2024-05-09 02:38:34.339 +03:00 [DBG] Released transaction savepoint.
2024-05-09 02:38:34.349 +03:00 [DBG] An entity of type 'UserRole' tracked by 'ApplicationDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 02:38:34.353 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-05-09 02:38:54.858 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'UserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 02:38:55.343 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-05-09 02:38:55.343 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-09 02:38:55.344 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-09 02:38:55.344 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-09 02:38:55.344 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-09 02:38:55.357 +03:00 [DBG] Creating transaction savepoint.
2024-05-09 02:38:55.360 +03:00 [DBG] Created transaction savepoint.
2024-05-09 02:38:55.360 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 02:38:55.370 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2024-05-09 02:38:55.381 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (20ms).
2024-05-09 02:38:55.382 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserRole" ("RoleId", "UserId")
VALUES (@p0, @p1);
2024-05-09 02:38:55.386 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserRole" ("RoleId", "UserId")
VALUES (@p0, @p1);
2024-05-09 02:38:55.394 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:38:55.395 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 1ms reading results.
2024-05-09 02:38:55.396 +03:00 [DBG] Releasing transaction savepoint.
2024-05-09 02:38:55.405 +03:00 [DBG] Released transaction savepoint.
2024-05-09 02:38:55.414 +03:00 [DBG] An entity of type 'UserRole' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 02:38:55.414 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-05-09 02:38:55.852 +03:00 [DBG] Committing transaction.
2024-05-09 02:38:55.900 +03:00 [DBG] Committed transaction.
2024-05-09 02:38:55.902 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:38:55.903 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 02:39:03.388 +03:00 [DBG] Disposing transaction.
2024-05-09 02:39:08.134 +03:00 [INF] Executed action method Diary.Api.Controllers.RoleController.UpdateUserRoleAsync (Diary.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 68366.4101ms.
2024-05-09 02:39:08.142 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-09 02:39:08.146 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-09 02:39:08.147 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-09 02:39:08.147 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-09 02:39:08.147 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-09 02:39:08.148 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-09 02:39:08.149 +03:00 [INF] Executing OkObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.UserRole.UserRoleDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-09 02:39:08.162 +03:00 [INF] Executed action Diary.Api.Controllers.RoleController.UpdateUserRoleAsync (Diary.Api) in 70329.0267ms
2024-05-09 02:39:08.163 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.RoleController.UpdateUserRoleAsync (Diary.Api)'
2024-05-09 02:39:08.167 +03:00 [DBG] Connection ID "18374686524231909510" disconnecting.
2024-05-09 02:39:08.169 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-09 02:39:08.173 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:39:08.175 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (1ms).
2024-05-09 02:39:08.175 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:44308/api/Role/update-role?api-version=1 - 200 null application/json; charset=utf-8 70415.4938ms
2024-05-09 02:40:02.524 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-09 02:40:02.677 +03:00 [DBG] Hosting starting
2024-05-09 02:40:02.739 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-09 02:40:02.786 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-09 02:40:02.792 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-09 02:40:02.792 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-09 02:40:02.796 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-09 02:40:02.801 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-09 02:40:02.801 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-09 02:40:02.808 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-09 02:40:02.812 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-09 02:40:02.816 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-09 02:40:02.817 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-09 02:40:02.822 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-09 02:40:02.824 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-09 02:40:02.826 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-09 02:40:02.827 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-09 02:40:02.903 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-09 02:40:02.904 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-09 02:40:02.904 +03:00 [INF] Hosting environment: Development
2024-05-09 02:40:02.904 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-09 02:40:02.904 +03:00 [DBG] Hosting started
2024-05-09 02:40:02.956 +03:00 [DBG] Connection ID "18374686494167138368" disconnecting.
2024-05-09 02:40:02.978 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-09 02:40:02.983 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-09 02:40:03.065 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-09 02:40:03.065 +03:00 [DBG] Request did not match any endpoints
2024-05-09 02:40:03.197 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 02:40:03.243 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-09 02:40:03.246 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 499 null null 275.5969ms
2024-05-09 02:40:03.249 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 499
2024-05-09 02:40:03.701 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-09 02:40:03.702 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-09 02:40:03.702 +03:00 [DBG] Request did not match any endpoints
2024-05-09 02:40:03.704 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 02:40:03.832 +03:00 [DBG] Connection ID "18374686498462105777" disconnecting.
2024-05-09 02:40:03.832 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 128.3765ms
2024-05-09 02:40:04.081 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-09 02:40:04.082 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-09 02:40:04.082 +03:00 [DBG] Request did not match any endpoints
2024-05-09 02:40:04.083 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 02:40:04.259 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 177.2743ms
2024-05-09 02:40:04.263 +03:00 [DBG] Connection ID "18374686489872171146" disconnecting.
2024-05-09 02:40:16.387 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:44308/api/Role/5?api-version=1 - null null
2024-05-09 02:40:16.400 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Role/5'
2024-05-09 02:40:16.404 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.RoleController.DeleteRoleAsync (Diary.Api)' with route pattern 'api/Role/{id:long}' is valid for the request path '/api/Role/5'
2024-05-09 02:40:16.407 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.RoleController.DeleteRoleAsync (Diary.Api)'
2024-05-09 02:40:16.408 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 02:40:16.409 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-09 02:40:16.410 +03:00 [DBG] The request has an origin header: 'https://localhost:44308'.
2024-05-09 02:40:16.410 +03:00 [INF] CORS policy execution successful.
2024-05-09 02:40:16.411 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.RoleController.DeleteRoleAsync (Diary.Api)'
2024-05-09 02:40:16.444 +03:00 [INF] Route matched with {action = "DeleteRole", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.RoleDto.RoleDto]]] DeleteRoleAsync(Int64) on controller Diary.Api.Controllers.RoleController (Diary.Api).
2024-05-09 02:40:16.445 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-09 02:40:16.445 +03:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2024-05-09 02:40:16.446 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-09 02:40:16.446 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-09 02:40:16.446 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-09 02:40:16.448 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.RoleController (Diary.Api)
2024-05-09 02:40:16.627 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-09 02:40:17.212 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'RoleId', 'UserId'}.
2024-05-09 02:40:17.573 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-09 02:40:17.588 +03:00 [DBG] Creating DbConnection.
2024-05-09 02:40:17.642 +03:00 [DBG] Created DbConnection. (51ms).
2024-05-09 02:40:17.649 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:40:17.765 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:40:17.772 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:40:17.782 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (6ms).
2024-05-09 02:40:17.791 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-09 02:40:17.798 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2024-05-09 02:40:17.800 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (9ms).
2024-05-09 02:40:17.800 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:40:17.830 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:40:17.839 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-09 02:40:17.935 +03:00 [INF] Executed DbCommand (96ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-09 02:40:17.937 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:40:17.940 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-09 02:40:18.050 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.RoleController (Diary.Api)
2024-05-09 02:40:18.054 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int64' ...
2024-05-09 02:40:18.056 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int64' using the name 'id' in request data ...
2024-05-09 02:40:18.057 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int64'.
2024-05-09 02:40:18.057 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int64'.
2024-05-09 02:40:18.057 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int64' ...
2024-05-09 02:40:18.059 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int64'.
2024-05-09 02:40:18.065 +03:00 [INF] Executing action method Diary.Api.Controllers.RoleController.DeleteRoleAsync (Diary.Api) - Validation state: "Valid"
2024-05-09 02:40:18.161 +03:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(x => x.Id == __id_0)'
2024-05-09 02:40:18.387 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: new SingleQueryingEnumerable<Role>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.Name (string) Required MaxLength(50), 1] }
            SELECT TOP(1) r.Id, r.Name
            FROM Role AS r
            WHERE r.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-09 02:40:18.425 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:40:18.427 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:40:18.427 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 02:40:18.427 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 02:40:18.432 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-05-09 02:40:18.435 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Role" AS r
WHERE r."Id" = @__id_0
LIMIT 1
2024-05-09 02:40:18.464 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name"
FROM "Role" AS r
WHERE r."Id" = @__id_0
LIMIT 1
2024-05-09 02:40:18.503 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 02:40:18.524 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:40:18.525 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 58ms reading results.
2024-05-09 02:40:18.529 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:40:18.530 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 02:40:18.543 +03:00 [DBG] An entity of type 'Role' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 02:40:18.550 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-05-09 02:40:18.555 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-09 02:40:18.573 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-09 02:40:18.576 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-09 02:40:18.577 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-09 02:40:18.638 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:40:18.638 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:40:18.640 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 02:40:18.640 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 02:40:18.640 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-09 02:40:18.640 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Role"
WHERE "Id" = @p0;
2024-05-09 02:40:18.646 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Role"
WHERE "Id" = @p0;
2024-05-09 02:40:18.651 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:40:18.651 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 4ms reading results.
2024-05-09 02:40:18.652 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:40:18.653 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 02:40:18.658 +03:00 [DBG] An entity of type 'Role' tracked by 'ApplicationDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 02:40:18.660 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-05-09 02:40:18.673 +03:00 [INF] Executed action method Diary.Api.Controllers.RoleController.DeleteRoleAsync (Diary.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 604.8816ms.
2024-05-09 02:40:18.681 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-09 02:40:18.683 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-09 02:40:18.685 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-09 02:40:18.685 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-09 02:40:18.685 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-09 02:40:18.686 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-09 02:40:18.686 +03:00 [INF] Executing OkObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.RoleDto.RoleDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-09 02:40:18.702 +03:00 [INF] Executed action Diary.Api.Controllers.RoleController.DeleteRoleAsync (Diary.Api) in 2251.8518ms
2024-05-09 02:40:18.703 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.RoleController.DeleteRoleAsync (Diary.Api)'
2024-05-09 02:40:18.710 +03:00 [DBG] Connection ID "18374686507052040252" disconnecting.
2024-05-09 02:40:18.711 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-09 02:40:18.715 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 02:40:18.717 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (1ms).
2024-05-09 02:40:18.717 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:44308/api/Role/5?api-version=1 - 200 null application/json; charset=utf-8 2330.045ms
2024-05-09 20:34:38.547 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-09 20:34:38.772 +03:00 [DBG] Hosting starting
2024-05-09 20:34:39.026 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-09 20:34:39.501 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-09 20:34:39.529 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-09 20:34:39.549 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-09 20:34:39.579 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-09 20:34:39.585 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-09 20:34:39.585 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-09 20:34:39.593 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-09 20:34:39.597 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-09 20:34:39.602 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-09 20:34:39.604 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-09 20:34:39.611 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-09 20:34:39.613 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-09 20:34:39.615 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-09 20:34:39.616 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-09 20:35:13.784 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-09 20:35:13.784 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-09 20:35:13.784 +03:00 [INF] Hosting environment: Development
2024-05-09 20:35:13.784 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-09 20:35:13.784 +03:00 [DBG] Hosting started
2024-05-09 20:35:13.890 +03:00 [DBG] Connection ID "18158513724938256467" disconnecting.
2024-05-09 20:35:13.890 +03:00 [DBG] Connection ID "18374686519936942163" disconnecting.
2024-05-09 20:35:13.936 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-09 20:35:13.936 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/ - null null
2024-05-09 20:35:13.936 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/ - null null
2024-05-09 20:35:13.939 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-09 20:35:13.939 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-09 20:35:13.939 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-09 20:35:13.992 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-09 20:35:13.992 +03:00 [DBG] No candidates found for the request path '/'
2024-05-09 20:35:13.992 +03:00 [DBG] No candidates found for the request path '/'
2024-05-09 20:35:13.993 +03:00 [DBG] Request did not match any endpoints
2024-05-09 20:35:13.993 +03:00 [DBG] Request did not match any endpoints
2024-05-09 20:35:13.993 +03:00 [DBG] Request did not match any endpoints
2024-05-09 20:35:14.148 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 20:35:14.148 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 20:35:14.148 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 20:35:14.226 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-09 20:35:14.229 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/ - 499 null null 299.8705ms
2024-05-09 20:35:14.229 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 499 null null 299.874ms
2024-05-09 20:35:14.233 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 499
2024-05-09 20:35:14.274 +03:00 [DBG] Connection ID "18158513724938256469" disconnecting.
2024-05-09 20:35:14.277 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-09 20:35:14.278 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-09 20:35:14.278 +03:00 [DBG] Request did not match any endpoints
2024-05-09 20:35:14.279 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 20:35:14.279 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/ - 301 null null 350.4791ms
2024-05-09 20:35:14.376 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 99.1069ms
2024-05-09 20:35:14.378 +03:00 [DBG] Connection ID "18374686498462105781" disconnecting.
2024-05-09 20:35:14.497 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger-ui-bundle.js - null null
2024-05-09 20:35:14.498 +03:00 [DBG] No candidates found for the request path '/swagger-ui-bundle.js'
2024-05-09 20:35:14.498 +03:00 [DBG] Request did not match any endpoints
2024-05-09 20:35:14.501 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 20:35:14.505 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger-ui-standalone-preset.js - null null
2024-05-09 20:35:14.505 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger-ui.css - null null
2024-05-09 20:35:14.505 +03:00 [DBG] No candidates found for the request path '/swagger-ui-standalone-preset.js'
2024-05-09 20:35:14.505 +03:00 [DBG] No candidates found for the request path '/swagger-ui.css'
2024-05-09 20:35:14.505 +03:00 [DBG] Request did not match any endpoints
2024-05-09 20:35:14.505 +03:00 [DBG] Request did not match any endpoints
2024-05-09 20:35:14.505 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 20:35:14.505 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 20:35:14.523 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-05-09 20:35:14.525 +03:00 [DBG] Connection ID "18374686519936942165" disconnecting.
2024-05-09 20:35:14.526 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger-ui.css - 200 143943 text/css 21.3421ms
2024-05-09 20:35:14.528 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-05-09 20:35:14.536 +03:00 [DBG] Connection ID "18302628934488948746" disconnecting.
2024-05-09 20:35:14.541 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger-ui-standalone-preset.js - 200 339486 text/javascript 36.1264ms
2024-05-09 20:35:14.547 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-05-09 20:35:14.570 +03:00 [DBG] Connection ID "18374686528526876754" disconnecting.
2024-05-09 20:35:14.571 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger-ui-bundle.js - 200 1096145 text/javascript 74.6083ms
2024-05-09 20:35:14.884 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-09 20:35:14.884 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-09 20:35:14.884 +03:00 [DBG] Request did not match any endpoints
2024-05-09 20:35:14.884 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 20:35:15.064 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 179.936ms
2024-05-09 20:35:15.068 +03:00 [DBG] Connection ID "18230571314681217027" disconnecting.
2024-05-09 20:35:31.527 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/api/v1/Report - application/json 72
2024-05-09 20:35:31.536 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report'
2024-05-09 20:35:31.541 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)' with route pattern 'api/v{version:apiVersion}/Report' is valid for the request path '/api/v1/Report'
2024-05-09 20:35:31.545 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-09 20:35:31.546 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 20:35:31.548 +03:00 [DBG] Policy authentication schemes  did not succeed
2024-05-09 20:35:31.551 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-05-09 20:35:31.555 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-05-09 20:35:31.556 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44308/api/v1/Report - 401 null null 28.3428ms
2024-05-09 20:35:31.559 +03:00 [DBG] Connection ID "18158513724938256471" disconnecting.
2024-05-09 20:35:33.881 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/api/v1/Report - application/json 72
2024-05-09 20:35:33.882 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report'
2024-05-09 20:35:33.882 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)' with route pattern 'api/v{version:apiVersion}/Report' is valid for the request path '/api/v1/Report'
2024-05-09 20:35:33.882 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-09 20:35:33.882 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 20:35:33.883 +03:00 [DBG] Policy authentication schemes  did not succeed
2024-05-09 20:35:33.884 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-05-09 20:35:33.885 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-05-09 20:35:33.887 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44308/api/v1/Report - 401 null null 6.0399ms
2024-05-09 20:36:38.036 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-09 20:36:38.207 +03:00 [DBG] Hosting starting
2024-05-09 20:36:38.255 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-09 20:36:38.480 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-09 20:36:38.485 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-09 20:36:38.485 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-09 20:36:38.489 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-09 20:36:38.493 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-09 20:36:38.493 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-09 20:36:38.499 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-09 20:36:38.502 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-09 20:36:38.504 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-09 20:36:38.505 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-09 20:36:38.509 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-09 20:36:38.510 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-09 20:36:38.512 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-09 20:36:38.512 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-09 20:36:39.641 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-09 20:36:39.642 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-09 20:36:39.651 +03:00 [INF] Hosting environment: Development
2024-05-09 20:36:39.651 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-09 20:36:39.651 +03:00 [DBG] Hosting started
2024-05-09 20:36:39.697 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-09 20:36:39.700 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-09 20:36:39.752 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-09 20:36:39.752 +03:00 [DBG] Request did not match any endpoints
2024-05-09 20:36:39.863 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 20:36:39.903 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-09 20:36:39.927 +03:00 [DBG] Connection ID "18374686489872171152" disconnecting.
2024-05-09 20:36:39.929 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 404 null null 238.4004ms
2024-05-09 20:36:39.933 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 404
2024-05-09 20:36:43.422 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-09 20:36:43.423 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-09 20:36:43.423 +03:00 [DBG] Request did not match any endpoints
2024-05-09 20:36:43.424 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 20:36:43.517 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 93.2955ms
2024-05-09 20:36:43.520 +03:00 [DBG] Connection ID "18374686489872171154" disconnecting.
2024-05-09 20:36:43.811 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-09 20:36:43.811 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-09 20:36:43.811 +03:00 [DBG] Request did not match any endpoints
2024-05-09 20:36:43.812 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 20:36:43.832 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/favicon-32x32.png - null null
2024-05-09 20:36:43.832 +03:00 [DBG] No candidates found for the request path '/favicon-32x32.png'
2024-05-09 20:36:43.832 +03:00 [DBG] Request did not match any endpoints
2024-05-09 20:36:43.832 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 20:36:43.840 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-05-09 20:36:43.841 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/favicon-32x32.png - 200 628 image/png 8.9992ms
2024-05-09 20:36:43.845 +03:00 [DBG] Connection ID "18374686528526876756" disconnecting.
2024-05-09 20:36:43.975 +03:00 [DBG] Connection ID "18374686498462105783" disconnecting.
2024-05-09 20:36:43.975 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 163.9356ms
2024-05-09 20:37:23.529 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/api/v1/Report - application/json 71
2024-05-09 20:37:23.541 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report'
2024-05-09 20:37:23.548 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)' with route pattern 'api/v{version:apiVersion}/Report' is valid for the request path '/api/v1/Report'
2024-05-09 20:37:23.553 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-09 20:37:23.553 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 20:37:23.554 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-09 20:37:23.555 +03:00 [DBG] The request has an origin header: 'https://localhost:44308'.
2024-05-09 20:37:23.555 +03:00 [INF] CORS policy execution successful.
2024-05-09 20:37:23.557 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-09 20:37:23.590 +03:00 [INF] Route matched with {action = "CreateReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] CreateReportAsync(Diary.Domain.Dto.ReportDto.CreateReportDto) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-09 20:37:23.591 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-09 20:37:23.592 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-09 20:37:23.593 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-09 20:37:23.593 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-09 20:37:23.593 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-09 20:37:23.596 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-09 20:37:24.086 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-09 20:37:24.866 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'RoleId', 'UserId'}.
2024-05-09 20:37:25.287 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-09 20:37:25.305 +03:00 [DBG] Creating DbConnection.
2024-05-09 20:37:25.377 +03:00 [DBG] Created DbConnection. (69ms).
2024-05-09 20:37:25.384 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:37:25.561 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:37:25.568 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:37:25.578 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (7ms).
2024-05-09 20:37:25.588 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-09 20:37:25.596 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2024-05-09 20:37:25.598 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (11ms).
2024-05-09 20:37:25.598 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:37:25.630 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:37:25.639 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-09 20:37:25.825 +03:00 [INF] Executed DbCommand (186ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-09 20:37:25.828 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:37:25.831 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-09 20:37:25.954 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-09 20:37:25.959 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' ...
2024-05-09 20:37:25.962 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' using the name '' in request data ...
2024-05-09 20:37:25.963 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-09 20:37:25.991 +03:00 [DBG] JSON input formatter threw an exception: 'T' is an invalid start of a value. Path: $.description | LineNumber: 2 | BytePositionInLine: 17.
2024-05-09 20:37:25.991 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-09 20:37:25.991 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-09 20:37:25.992 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' ...
2024-05-09 20:37:25.993 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-09 20:37:25.996 +03:00 [DBG] The request has model state errors, returning an error response.
2024-05-09 20:37:25.997 +03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-05-09 20:37:26.002 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-09 20:37:26.005 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-05-09 20:37:26.006 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-09 20:37:26.006 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-05-09 20:37:26.007 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-05-09 20:37:26.007 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-05-09 20:37:26.044 +03:00 [INF] Executed action Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api) in 2444.192ms
2024-05-09 20:37:26.044 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-09 20:37:26.044 +03:00 [DBG] Connection ID "18374686481282236574" disconnecting.
2024-05-09 20:37:26.048 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-09 20:37:26.056 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:37:26.062 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (5ms).
2024-05-09 20:37:26.063 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44308/api/v1/Report - 400 null application/problem+json; charset=utf-8 2534.1744ms
2024-05-09 20:37:59.005 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/api/v1/Report - application/json 71
2024-05-09 20:37:59.006 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report'
2024-05-09 20:37:59.006 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)' with route pattern 'api/v{version:apiVersion}/Report' is valid for the request path '/api/v1/Report'
2024-05-09 20:37:59.006 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-09 20:37:59.006 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 20:37:59.007 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-09 20:37:59.007 +03:00 [DBG] The request has an origin header: 'https://localhost:44308'.
2024-05-09 20:37:59.007 +03:00 [INF] CORS policy execution successful.
2024-05-09 20:37:59.008 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-09 20:37:59.008 +03:00 [INF] Route matched with {action = "CreateReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] CreateReportAsync(Diary.Domain.Dto.ReportDto.CreateReportDto) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-09 20:37:59.008 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-09 20:37:59.009 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-09 20:37:59.009 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-09 20:37:59.009 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-09 20:37:59.009 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-09 20:37:59.009 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-09 20:37:59.032 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-09 20:37:59.035 +03:00 [DBG] Creating DbConnection.
2024-05-09 20:37:59.035 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-09 20:37:59.035 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:37:59.047 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:37:59.047 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:37:59.047 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 20:37:59.048 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-09 20:37:59.048 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-05-09 20:37:59.048 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-05-09 20:37:59.048 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:37:59.049 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:37:59.049 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-09 20:37:59.055 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-09 20:37:59.055 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:37:59.056 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 20:37:59.058 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-09 20:37:59.059 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' ...
2024-05-09 20:37:59.059 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' using the name '' in request data ...
2024-05-09 20:37:59.059 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-09 20:37:59.061 +03:00 [DBG] JSON input formatter threw an exception: 'T' is an invalid start of a value. Path: $.description | LineNumber: 2 | BytePositionInLine: 17.
2024-05-09 20:37:59.061 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-09 20:37:59.061 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-09 20:37:59.061 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' ...
2024-05-09 20:37:59.061 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-09 20:37:59.062 +03:00 [DBG] The request has model state errors, returning an error response.
2024-05-09 20:37:59.062 +03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-05-09 20:37:59.062 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-09 20:37:59.062 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-05-09 20:37:59.062 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-09 20:37:59.063 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-05-09 20:37:59.063 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-05-09 20:37:59.063 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-05-09 20:37:59.064 +03:00 [INF] Executed action Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api) in 54.7432ms
2024-05-09 20:37:59.064 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-09 20:37:59.065 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-09 20:37:59.065 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:37:59.065 +03:00 [DBG] Connection ID "18230571318976184371" disconnecting.
2024-05-09 20:37:59.065 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 20:37:59.065 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44308/api/v1/Report - 400 null application/problem+json; charset=utf-8 59.6954ms
2024-05-09 20:38:02.084 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/api/v1/Report - application/json 71
2024-05-09 20:38:02.084 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report'
2024-05-09 20:38:02.084 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)' with route pattern 'api/v{version:apiVersion}/Report' is valid for the request path '/api/v1/Report'
2024-05-09 20:38:02.085 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-09 20:38:02.085 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 20:38:02.085 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-09 20:38:02.085 +03:00 [DBG] The request has an origin header: 'https://localhost:44308'.
2024-05-09 20:38:02.085 +03:00 [INF] CORS policy execution successful.
2024-05-09 20:38:02.085 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-09 20:38:02.085 +03:00 [INF] Route matched with {action = "CreateReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] CreateReportAsync(Diary.Domain.Dto.ReportDto.CreateReportDto) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-09 20:38:02.085 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-09 20:38:02.085 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-09 20:38:02.085 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-09 20:38:02.085 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-09 20:38:02.085 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-09 20:38:02.085 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-09 20:38:02.109 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-09 20:38:02.113 +03:00 [DBG] Creating DbConnection.
2024-05-09 20:38:02.113 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-09 20:38:02.113 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:38:02.123 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:38:02.123 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:38:02.123 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 20:38:02.124 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-09 20:38:02.124 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-05-09 20:38:02.124 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-05-09 20:38:02.124 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:38:02.124 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:38:02.124 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-09 20:38:02.127 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-09 20:38:02.127 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:38:02.127 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 20:38:02.128 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-09 20:38:02.128 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' ...
2024-05-09 20:38:02.128 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' using the name '' in request data ...
2024-05-09 20:38:02.128 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-09 20:38:02.130 +03:00 [DBG] JSON input formatter threw an exception: 'T' is an invalid start of a value. Path: $.description | LineNumber: 2 | BytePositionInLine: 17.
2024-05-09 20:38:02.130 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-09 20:38:02.130 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-09 20:38:02.130 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' ...
2024-05-09 20:38:02.130 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-09 20:38:02.130 +03:00 [DBG] The request has model state errors, returning an error response.
2024-05-09 20:38:02.130 +03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-05-09 20:38:02.130 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-09 20:38:02.130 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-05-09 20:38:02.130 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-09 20:38:02.130 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-05-09 20:38:02.130 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-05-09 20:38:02.131 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-05-09 20:38:02.131 +03:00 [INF] Executed action Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api) in 45.7486ms
2024-05-09 20:38:02.131 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-09 20:38:02.131 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-09 20:38:02.132 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:38:02.132 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 20:38:02.132 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44308/api/v1/Report - 400 null application/problem+json; charset=utf-8 48.3341ms
2024-05-09 20:38:02.135 +03:00 [DBG] Connection ID "18374686498462105785" disconnecting.
2024-05-09 20:38:25.194 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/api/v1/Report - application/json 71
2024-05-09 20:38:25.194 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report'
2024-05-09 20:38:25.194 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)' with route pattern 'api/v{version:apiVersion}/Report' is valid for the request path '/api/v1/Report'
2024-05-09 20:38:25.194 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-09 20:38:25.194 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 20:38:25.194 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-09 20:38:25.194 +03:00 [DBG] The request has an origin header: 'https://localhost:44308'.
2024-05-09 20:38:25.194 +03:00 [INF] CORS policy execution successful.
2024-05-09 20:38:25.195 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-09 20:38:25.195 +03:00 [INF] Route matched with {action = "CreateReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] CreateReportAsync(Diary.Domain.Dto.ReportDto.CreateReportDto) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-09 20:38:25.195 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-09 20:38:25.195 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-09 20:38:25.195 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-09 20:38:25.195 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-09 20:38:25.195 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-09 20:38:25.195 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-09 20:38:25.197 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-09 20:38:25.197 +03:00 [DBG] Creating DbConnection.
2024-05-09 20:38:25.197 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-09 20:38:25.197 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:38:25.207 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:38:25.208 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:38:25.208 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 20:38:25.208 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-09 20:38:25.208 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-05-09 20:38:25.209 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-05-09 20:38:25.209 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:38:25.209 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:38:25.209 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-09 20:38:25.212 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-09 20:38:25.212 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:38:25.213 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 20:38:25.213 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-09 20:38:25.213 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' ...
2024-05-09 20:38:25.213 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' using the name '' in request data ...
2024-05-09 20:38:25.213 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-09 20:38:25.214 +03:00 [DBG] JSON input formatter threw an exception: 'T' is an invalid start of a value. Path: $.description | LineNumber: 2 | BytePositionInLine: 17.
2024-05-09 20:38:25.215 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-09 20:38:25.215 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-09 20:38:25.215 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' ...
2024-05-09 20:38:25.215 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-09 20:38:25.215 +03:00 [DBG] The request has model state errors, returning an error response.
2024-05-09 20:38:25.215 +03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-05-09 20:38:25.215 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-09 20:38:25.215 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-05-09 20:38:25.216 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-09 20:38:25.216 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-05-09 20:38:25.216 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-05-09 20:38:25.216 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-05-09 20:38:25.216 +03:00 [INF] Executed action Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api) in 20.8738ms
2024-05-09 20:38:25.216 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-09 20:38:25.216 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-09 20:38:25.217 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:38:25.217 +03:00 [DBG] Connection ID "18374686524231909512" disconnecting.
2024-05-09 20:38:25.217 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 20:38:25.217 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44308/api/v1/Report - 400 null application/problem+json; charset=utf-8 23.341ms
2024-05-09 20:38:26.629 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/api/v1/Report - application/json 71
2024-05-09 20:38:26.629 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report'
2024-05-09 20:38:26.629 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)' with route pattern 'api/v{version:apiVersion}/Report' is valid for the request path '/api/v1/Report'
2024-05-09 20:38:26.629 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-09 20:38:26.630 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 20:38:26.630 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-09 20:38:26.630 +03:00 [DBG] The request has an origin header: 'https://localhost:44308'.
2024-05-09 20:38:26.630 +03:00 [INF] CORS policy execution successful.
2024-05-09 20:38:26.630 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-09 20:38:26.630 +03:00 [INF] Route matched with {action = "CreateReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] CreateReportAsync(Diary.Domain.Dto.ReportDto.CreateReportDto) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-09 20:38:26.630 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-09 20:38:26.630 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-09 20:38:26.630 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-09 20:38:26.630 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-09 20:38:26.630 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-09 20:38:26.630 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-09 20:38:26.632 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-09 20:38:26.633 +03:00 [DBG] Creating DbConnection.
2024-05-09 20:38:26.633 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-09 20:38:26.633 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:38:26.649 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:38:26.650 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:38:26.650 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 20:38:26.650 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-09 20:38:26.650 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-05-09 20:38:26.650 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-05-09 20:38:26.650 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:38:26.651 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:38:26.651 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-09 20:38:26.653 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-09 20:38:26.654 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:38:26.654 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 20:38:26.654 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-09 20:38:26.654 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' ...
2024-05-09 20:38:26.654 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' using the name '' in request data ...
2024-05-09 20:38:26.654 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-09 20:38:26.655 +03:00 [DBG] JSON input formatter threw an exception: 'T' is an invalid start of a value. Path: $.description | LineNumber: 2 | BytePositionInLine: 17.
2024-05-09 20:38:26.656 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-09 20:38:26.656 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-09 20:38:26.656 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' ...
2024-05-09 20:38:26.656 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-09 20:38:26.656 +03:00 [DBG] The request has model state errors, returning an error response.
2024-05-09 20:38:26.656 +03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-05-09 20:38:26.656 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-09 20:38:26.656 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-05-09 20:38:26.656 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-09 20:38:26.656 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-05-09 20:38:26.656 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-05-09 20:38:26.656 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-05-09 20:38:26.657 +03:00 [INF] Executed action Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api) in 26.5555ms
2024-05-09 20:38:26.657 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-09 20:38:26.657 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-09 20:38:26.657 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:38:26.657 +03:00 [DBG] Connection ID "18374686489872171156" disconnecting.
2024-05-09 20:38:26.657 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 20:38:26.657 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44308/api/v1/Report - 400 null application/problem+json; charset=utf-8 28.4306ms
2024-05-09 20:38:28.705 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-09 20:38:28.705 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-09 20:38:28.705 +03:00 [DBG] Request did not match any endpoints
2024-05-09 20:38:28.705 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 20:38:28.706 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 1.4568ms
2024-05-09 20:38:28.706 +03:00 [DBG] Connection ID "18230571318976184373" disconnecting.
2024-05-09 20:38:28.926 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-09 20:38:28.926 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-09 20:38:28.926 +03:00 [DBG] Request did not match any endpoints
2024-05-09 20:38:28.927 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 20:38:28.950 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 24.1162ms
2024-05-09 20:38:28.955 +03:00 [DBG] Connection ID "18374686498462105787" disconnecting.
2024-05-09 20:38:36.332 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/api/v1/Report - application/json 64
2024-05-09 20:38:36.332 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report'
2024-05-09 20:38:36.332 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)' with route pattern 'api/v{version:apiVersion}/Report' is valid for the request path '/api/v1/Report'
2024-05-09 20:38:36.332 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-09 20:38:36.332 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 20:38:36.333 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-09 20:38:36.333 +03:00 [DBG] The request has an origin header: 'https://localhost:44308'.
2024-05-09 20:38:36.333 +03:00 [INF] CORS policy execution successful.
2024-05-09 20:38:36.333 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-09 20:38:36.333 +03:00 [INF] Route matched with {action = "CreateReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] CreateReportAsync(Diary.Domain.Dto.ReportDto.CreateReportDto) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-09 20:38:36.333 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-09 20:38:36.333 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-09 20:38:36.333 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-09 20:38:36.333 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-09 20:38:36.334 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-09 20:38:36.334 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-09 20:38:36.335 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-09 20:38:36.335 +03:00 [DBG] Creating DbConnection.
2024-05-09 20:38:36.335 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-09 20:38:36.336 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:38:36.347 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:38:36.347 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:38:36.347 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 20:38:36.347 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-09 20:38:36.347 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-05-09 20:38:36.348 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-05-09 20:38:36.348 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:38:36.348 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:38:36.348 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-09 20:38:36.351 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-09 20:38:36.351 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:38:36.351 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 20:38:36.351 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-09 20:38:36.351 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' ...
2024-05-09 20:38:36.351 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' using the name '' in request data ...
2024-05-09 20:38:36.352 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-09 20:38:36.354 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.ReportDto.CreateReportDto'
2024-05-09 20:38:36.354 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-09 20:38:36.354 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-09 20:38:36.354 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' ...
2024-05-09 20:38:36.356 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-09 20:38:36.366 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api) - Validation state: "Valid"
2024-05-09 20:38:46.194 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(x => x.Id == __dto_UserId_0)'
2024-05-09 20:38:46.497 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedAt (DateTime) Required, 1], [Property: User.CreatedBy (long) Required, 2], [Property: User.Login (string) Required MaxLength(100), 3], [Property: User.Password (string) Required, 4], [Property: User.UpdatedAt (DateTime?), 5], [Property: User.UpdatedBy (long?), 6] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.CreatedBy, u.Login, u.Password, u.UpdatedAt, u.UpdatedBy
            FROM User AS u
            WHERE u.Id == @__dto_UserId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-09 20:38:46.555 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:38:46.556 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:38:46.556 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 20:38:46.556 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 20:38:46.561 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-05-09 20:38:46.565 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Id" = @__dto_UserId_0
LIMIT 1
2024-05-09 20:38:46.594 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[@__dto_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Id" = @__dto_UserId_0
LIMIT 1
2024-05-09 20:38:46.680 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 20:38:46.710 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:38:46.711 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 115ms reading results.
2024-05-09 20:38:46.715 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:38:46.715 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 20:38:50.034 +03:00 [DBG] Compiling query expression: 
'DbSet<Report>()
    .FirstOrDefault(x => x.Name == __dto_Name_0)'
2024-05-09 20:38:50.038 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Report>(
    asyncEnumerable: new SingleQueryingEnumerable<Report>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Report.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Report.CreatedAt (DateTime) Required, 1], [Property: Report.CreatedBy (long) Required, 2], [Property: Report.Description (string) Required MaxLength(2000), 3], [Property: Report.Name (string) Required MaxLength(100), 4], [Property: Report.UpdatedAt (DateTime?), 5], [Property: Report.UpdatedBy (long?), 6], [Property: Report.UserId (long) Required FK Index, 7] }
            SELECT TOP(1) r.Id, r.CreatedAt, r.CreatedBy, r.Description, r.Name, r.UpdatedAt, r.UpdatedBy, r.UserId
            FROM Report AS r
            WHERE r.Name == @__dto_Name_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Report>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-09 20:38:50.039 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:38:50.039 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:38:50.040 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 20:38:50.040 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 20:38:50.040 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-09 20:38:50.040 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_Name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Name" = @__dto_Name_0
LIMIT 1
2024-05-09 20:38:50.063 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__dto_Name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Name" = @__dto_Name_0
LIMIT 1
2024-05-09 20:38:50.065 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:38:50.065 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 0ms reading results.
2024-05-09 20:38:50.072 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:38:50.072 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 20:39:11.078 +03:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'Report.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 20:39:11.103 +03:00 [DBG] The navigation 'Report.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 20:39:11.116 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Report' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 20:39:11.537 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-05-09 20:39:11.540 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-09 20:39:11.562 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-09 20:39:11.569 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-09 20:39:11.570 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-09 20:39:11.631 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:39:11.632 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:39:11.633 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 20:39:11.633 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 20:39:11.634 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-09 20:39:11.634 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-05-09 20:39:11.654 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-05-09 20:39:11.683 +03:00 [DBG] The foreign key property 'Report.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-09 20:39:11.687 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:39:11.687 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 32ms reading results.
2024-05-09 20:39:11.688 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:39:11.688 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 20:39:11.698 +03:00 [DBG] An entity of type 'Report' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 20:39:11.700 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-05-09 20:39:40.650 +03:00 [INF] Executed action method Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 64280.9171ms.
2024-05-09 20:39:40.654 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-09 20:39:40.654 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-09 20:39:40.654 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-09 20:39:40.655 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-09 20:39:40.655 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-09 20:39:40.655 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-09 20:39:40.655 +03:00 [INF] Executing OkObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.ReportDto.ReportDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-09 20:39:40.661 +03:00 [INF] Executed action Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api) in 64327.046ms
2024-05-09 20:39:40.661 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-09 20:39:40.665 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-09 20:39:40.665 +03:00 [DBG] Connection ID "18374686498462105789" disconnecting.
2024-05-09 20:39:40.665 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:39:40.665 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 20:39:40.665 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44308/api/v1/Report - 200 null application/json; charset=utf-8 64333.1263ms
2024-05-09 20:44:44.643 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-09 20:44:44.643 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-09 20:44:44.643 +03:00 [DBG] Request did not match any endpoints
2024-05-09 20:44:44.643 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 20:44:44.644 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 1.5356ms
2024-05-09 20:44:44.649 +03:00 [DBG] Connection ID "18374686481282236576" disconnecting.
2024-05-09 20:44:44.860 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-09 20:44:44.860 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-09 20:44:44.860 +03:00 [DBG] Request did not match any endpoints
2024-05-09 20:44:44.860 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 20:44:44.882 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 22.2537ms
2024-05-09 20:44:44.882 +03:00 [DBG] Connection ID "18374686519936942167" disconnecting.
2024-05-09 20:44:52.960 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/api/v1/Report - application/json 67
2024-05-09 20:44:52.960 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report'
2024-05-09 20:44:52.960 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)' with route pattern 'api/v{version:apiVersion}/Report' is valid for the request path '/api/v1/Report'
2024-05-09 20:44:52.960 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-09 20:44:52.960 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 20:44:52.960 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-09 20:44:52.961 +03:00 [DBG] The request has an origin header: 'https://localhost:44308'.
2024-05-09 20:44:52.961 +03:00 [INF] CORS policy execution successful.
2024-05-09 20:44:52.961 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-09 20:44:52.961 +03:00 [INF] Route matched with {action = "CreateReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] CreateReportAsync(Diary.Domain.Dto.ReportDto.CreateReportDto) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-09 20:44:52.961 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-09 20:44:52.961 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-09 20:44:52.961 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-09 20:44:52.961 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-09 20:44:52.961 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-09 20:44:52.962 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-09 20:44:52.963 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-09 20:44:52.963 +03:00 [DBG] Creating DbConnection.
2024-05-09 20:44:52.963 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-09 20:44:52.963 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:44:52.974 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:44:52.974 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:44:52.974 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 20:44:52.974 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-09 20:44:52.975 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-05-09 20:44:52.975 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-05-09 20:44:52.975 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:44:52.983 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:44:52.983 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-09 20:44:52.987 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-09 20:44:52.987 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:44:52.987 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 20:44:52.987 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-09 20:44:52.988 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' ...
2024-05-09 20:44:52.988 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' using the name '' in request data ...
2024-05-09 20:44:52.988 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-09 20:44:52.988 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.ReportDto.CreateReportDto'
2024-05-09 20:44:52.988 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-09 20:44:52.988 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-09 20:44:52.988 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' ...
2024-05-09 20:44:52.988 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-09 20:44:52.988 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api) - Validation state: "Valid"
2024-05-09 20:45:01.252 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:45:01.252 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:45:01.252 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 20:45:01.252 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 20:45:01.252 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-09 20:45:01.252 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Id" = @__dto_UserId_0
LIMIT 1
2024-05-09 20:45:01.256 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__dto_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Id" = @__dto_UserId_0
LIMIT 1
2024-05-09 20:45:01.267 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 20:45:01.268 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:45:01.268 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 11ms reading results.
2024-05-09 20:45:01.278 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:45:01.278 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 20:45:01.755 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:45:01.756 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:45:01.756 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 20:45:01.756 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 20:45:01.756 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-09 20:45:01.756 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_Name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Name" = @__dto_Name_0
LIMIT 1
2024-05-09 20:45:01.759 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__dto_Name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Name" = @__dto_Name_0
LIMIT 1
2024-05-09 20:45:01.770 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:45:01.771 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 1ms reading results.
2024-05-09 20:45:01.771 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:45:01.780 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 20:45:04.833 +03:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'Report.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 20:45:04.834 +03:00 [DBG] The navigation 'Report.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 20:45:04.834 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Report' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 20:45:05.243 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-05-09 20:45:05.243 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-09 20:45:05.243 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-09 20:45:05.243 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-09 20:45:05.243 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-09 20:45:05.244 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:45:05.244 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:45:05.244 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 20:45:05.245 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 20:45:05.245 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-09 20:45:05.245 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-05-09 20:45:05.259 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-05-09 20:45:05.273 +03:00 [DBG] The foreign key property 'Report.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-09 20:45:05.284 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:45:05.285 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 24ms reading results.
2024-05-09 20:45:05.294 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:45:05.295 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 20:45:05.296 +03:00 [DBG] An entity of type 'Report' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 20:45:05.297 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-05-09 20:45:45.831 +03:00 [INF] Executed action method Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 52843.0454ms.
2024-05-09 20:45:45.832 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-09 20:45:45.832 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-09 20:45:45.832 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-09 20:45:45.832 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-09 20:45:45.832 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-09 20:45:45.832 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-09 20:45:45.832 +03:00 [INF] Executing OkObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.ReportDto.ReportDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-09 20:45:45.833 +03:00 [INF] Executed action Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api) in 52871.2647ms
2024-05-09 20:45:45.833 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-09 20:45:45.833 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-09 20:45:45.833 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:45:45.833 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 20:45:45.833 +03:00 [DBG] Connection ID "18230571318976184375" disconnecting.
2024-05-09 20:45:45.833 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44308/api/v1/Report - 200 null application/json; charset=utf-8 52873.9184ms
2024-05-09 20:46:54.899 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/api/v1/Report - application/json 68
2024-05-09 20:46:54.899 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report'
2024-05-09 20:46:54.899 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)' with route pattern 'api/v{version:apiVersion}/Report' is valid for the request path '/api/v1/Report'
2024-05-09 20:46:54.900 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-09 20:46:54.900 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 20:46:54.900 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-09 20:46:54.900 +03:00 [DBG] The request has an origin header: 'https://localhost:44308'.
2024-05-09 20:46:54.900 +03:00 [INF] CORS policy execution successful.
2024-05-09 20:46:54.900 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-09 20:46:54.900 +03:00 [INF] Route matched with {action = "CreateReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] CreateReportAsync(Diary.Domain.Dto.ReportDto.CreateReportDto) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-09 20:46:54.900 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-09 20:46:54.900 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-09 20:46:54.900 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-09 20:46:54.900 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-09 20:46:54.900 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-09 20:46:54.900 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-09 20:46:54.901 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-09 20:46:54.902 +03:00 [DBG] Creating DbConnection.
2024-05-09 20:46:54.902 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-09 20:46:54.902 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:46:54.914 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:46:54.914 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:46:54.915 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 20:46:54.916 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-09 20:46:54.916 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-05-09 20:46:54.916 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-05-09 20:46:54.916 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:46:54.916 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:46:54.916 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-09 20:46:54.920 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-09 20:46:54.920 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:46:54.920 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 20:46:54.920 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-09 20:46:54.920 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' ...
2024-05-09 20:46:54.920 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' using the name '' in request data ...
2024-05-09 20:46:54.921 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-09 20:46:54.921 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.ReportDto.CreateReportDto'
2024-05-09 20:46:54.921 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-09 20:46:54.921 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-09 20:46:54.921 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' ...
2024-05-09 20:46:54.921 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-09 20:46:54.921 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api) - Validation state: "Valid"
2024-05-09 20:50:00.916 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:50:00.916 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:50:00.917 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 20:50:00.917 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 20:50:00.917 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-09 20:50:00.917 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Id" = @__dto_UserId_0
LIMIT 1
2024-05-09 20:50:00.928 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__dto_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Id" = @__dto_UserId_0
LIMIT 1
2024-05-09 20:50:00.930 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 20:50:00.931 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:50:00.931 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 2ms reading results.
2024-05-09 20:50:00.931 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:50:00.931 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 20:50:00.933 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:50:00.933 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:50:00.933 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 20:50:00.933 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 20:50:00.933 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-09 20:50:00.962 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_Name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Name" = @__dto_Name_0
LIMIT 1
2024-05-09 20:50:00.971 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__dto_Name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Name" = @__dto_Name_0
LIMIT 1
2024-05-09 20:50:00.971 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:50:00.971 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 0ms reading results.
2024-05-09 20:50:00.971 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:50:00.971 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 20:50:00.972 +03:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'Report.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 20:50:00.976 +03:00 [DBG] The navigation 'Report.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 20:50:00.977 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Report' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 20:50:00.977 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-05-09 20:50:00.977 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-09 20:50:00.977 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-09 20:50:00.977 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-09 20:50:00.977 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-09 20:50:00.982 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:50:00.982 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:50:00.982 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 20:50:00.982 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 20:50:00.982 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-09 20:50:00.983 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-05-09 20:50:00.986 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-05-09 20:50:00.986 +03:00 [DBG] The foreign key property 'Report.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-09 20:50:00.986 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:50:00.987 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 0ms reading results.
2024-05-09 20:50:00.987 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:50:00.987 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 20:50:00.987 +03:00 [DBG] An entity of type 'Report' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 20:50:00.987 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-05-09 20:50:01.013 +03:00 [INF] Executed action method Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 186091.7285ms.
2024-05-09 20:50:01.013 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-09 20:50:01.013 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-09 20:50:01.013 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-09 20:50:01.014 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-09 20:50:01.014 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-09 20:50:01.014 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-09 20:50:01.014 +03:00 [INF] Executing OkObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.ReportDto.ReportDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-09 20:50:01.014 +03:00 [INF] Executed action Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api) in 186113.7798ms
2024-05-09 20:50:01.014 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-09 20:50:01.014 +03:00 [DBG] Connection ID "18230571318976184377" disconnecting.
2024-05-09 20:50:01.014 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-09 20:50:01.015 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:50:01.015 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 20:50:01.015 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44308/api/v1/Report - 200 null application/json; charset=utf-8 186115.8411ms
2024-05-09 20:50:19.716 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/api/v1/Report - application/json 74
2024-05-09 20:50:37.029 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report'
2024-05-09 20:50:37.030 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)' with route pattern 'api/v{version:apiVersion}/Report' is valid for the request path '/api/v1/Report'
2024-05-09 20:50:37.030 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-09 20:50:37.031 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 20:50:37.031 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-09 20:50:37.031 +03:00 [DBG] The request has an origin header: 'https://localhost:44308'.
2024-05-09 20:50:37.031 +03:00 [INF] CORS policy execution successful.
2024-05-09 20:50:37.031 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-09 20:50:37.031 +03:00 [INF] Route matched with {action = "CreateReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] CreateReportAsync(Diary.Domain.Dto.ReportDto.CreateReportDto) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-09 20:50:37.031 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-09 20:50:37.031 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-09 20:50:37.031 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-09 20:50:37.032 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-09 20:50:37.032 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-09 20:50:37.032 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-09 20:50:37.432 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-09 20:50:37.750 +03:00 [DBG] Creating DbConnection.
2024-05-09 20:50:37.750 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-09 20:50:37.750 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:50:46.804 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:50:46.805 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:50:46.806 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 20:50:46.806 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-09 20:50:46.806 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-05-09 20:50:46.806 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-05-09 20:50:47.195 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:50:47.196 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:50:47.196 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-09 20:50:47.247 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-09 20:50:47.255 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:50:47.255 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 20:50:47.255 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-09 20:50:47.255 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' ...
2024-05-09 20:50:47.255 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' using the name '' in request data ...
2024-05-09 20:50:47.255 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-09 20:50:47.256 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.ReportDto.CreateReportDto'
2024-05-09 20:50:47.256 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-09 20:50:47.256 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-09 20:50:47.256 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' ...
2024-05-09 20:50:47.256 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-09 20:50:47.256 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api) - Validation state: "Valid"
2024-05-09 20:50:49.966 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:50:49.967 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:50:49.967 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 20:50:49.967 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 20:50:49.967 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-09 20:50:49.967 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Id" = @__dto_UserId_0
LIMIT 1
2024-05-09 20:50:49.969 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__dto_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Id" = @__dto_UserId_0
LIMIT 1
2024-05-09 20:50:49.970 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 20:50:49.970 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:50:49.970 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 0ms reading results.
2024-05-09 20:50:49.970 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:50:49.982 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (11ms).
2024-05-09 20:50:51.355 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:50:51.355 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:50:51.355 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 20:50:51.355 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 20:50:51.356 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-09 20:50:51.356 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_Name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Name" = @__dto_Name_0
LIMIT 1
2024-05-09 20:50:51.359 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__dto_Name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Name" = @__dto_Name_0
LIMIT 1
2024-05-09 20:50:51.359 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:50:51.359 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 0ms reading results.
2024-05-09 20:50:51.371 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:50:51.372 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 20:51:07.377 +03:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'Report.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 20:51:07.377 +03:00 [DBG] The navigation 'Report.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 20:51:07.377 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Report' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 20:51:07.788 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-05-09 20:51:07.788 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-09 20:51:07.788 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-09 20:51:07.788 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-09 20:51:07.788 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-09 20:51:07.789 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:51:07.789 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:51:07.789 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 20:51:07.789 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 20:51:07.789 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-09 20:51:07.789 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-05-09 20:51:07.805 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-05-09 20:51:07.806 +03:00 [DBG] The foreign key property 'Report.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-09 20:51:07.807 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:51:07.807 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 0ms reading results.
2024-05-09 20:51:07.818 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:51:07.819 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 20:51:07.819 +03:00 [DBG] An entity of type 'Report' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 20:51:07.819 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-05-09 20:51:20.739 +03:00 [INF] Executed action method Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 33482.9918ms.
2024-05-09 20:51:24.356 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-09 20:51:24.356 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-09 20:51:24.356 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-09 20:51:24.356 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-09 20:51:24.356 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-09 20:51:24.356 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-09 20:51:24.356 +03:00 [INF] Executing OkObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.ReportDto.ReportDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-09 20:51:24.362 +03:00 [INF] Executed action Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api) in 47330.567ms
2024-05-09 20:51:24.362 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-09 20:51:24.362 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-09 20:51:24.363 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:51:24.363 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 20:51:24.363 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44308/api/v1/Report - 200 null application/json; charset=utf-8 64648.4477ms
2024-05-09 20:51:24.368 +03:00 [DBG] Connection ID "18374686481282236578" disconnecting.
2024-05-09 20:51:34.312 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/api/v1/Report - application/json 74
2024-05-09 20:51:34.312 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report'
2024-05-09 20:51:34.312 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)' with route pattern 'api/v{version:apiVersion}/Report' is valid for the request path '/api/v1/Report'
2024-05-09 20:51:34.312 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-09 20:51:34.312 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 20:51:34.313 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-09 20:51:34.313 +03:00 [DBG] The request has an origin header: 'https://localhost:44308'.
2024-05-09 20:51:34.313 +03:00 [INF] CORS policy execution successful.
2024-05-09 20:51:34.313 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-09 20:51:34.313 +03:00 [INF] Route matched with {action = "CreateReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] CreateReportAsync(Diary.Domain.Dto.ReportDto.CreateReportDto) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-09 20:51:34.313 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-09 20:51:34.313 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-09 20:51:34.313 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-09 20:51:34.313 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-09 20:51:34.313 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-09 20:51:34.313 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-09 20:51:34.314 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-09 20:51:34.315 +03:00 [DBG] Creating DbConnection.
2024-05-09 20:51:34.315 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-09 20:51:34.315 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:51:34.327 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:51:34.327 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:51:34.328 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 20:51:34.328 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-09 20:51:34.328 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-05-09 20:51:34.328 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-05-09 20:51:34.328 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:51:34.328 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:51:34.328 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-09 20:51:34.331 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-09 20:51:34.332 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:51:34.332 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 20:51:34.332 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-09 20:51:34.332 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' ...
2024-05-09 20:51:34.332 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' using the name '' in request data ...
2024-05-09 20:51:34.332 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-09 20:51:34.332 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.ReportDto.CreateReportDto'
2024-05-09 20:51:34.332 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-09 20:51:34.332 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-09 20:51:34.332 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' ...
2024-05-09 20:51:34.332 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-09 20:51:34.333 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api) - Validation state: "Valid"
2024-05-09 20:51:39.279 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:51:39.279 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:51:39.279 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 20:51:39.279 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 20:51:39.280 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-09 20:51:39.280 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Id" = @__dto_UserId_0
LIMIT 1
2024-05-09 20:51:39.282 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__dto_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Id" = @__dto_UserId_0
LIMIT 1
2024-05-09 20:51:39.283 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 20:51:39.283 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:51:39.283 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 0ms reading results.
2024-05-09 20:51:39.295 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:51:39.295 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 20:51:39.657 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:51:39.657 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:51:39.657 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 20:51:39.657 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 20:51:39.657 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-09 20:51:39.657 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_Name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Name" = @__dto_Name_0
LIMIT 1
2024-05-09 20:51:39.660 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__dto_Name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Name" = @__dto_Name_0
LIMIT 1
2024-05-09 20:51:39.699 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Report' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 20:51:39.701 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:51:39.701 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 40ms reading results.
2024-05-09 20:51:39.701 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:51:39.712 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (10ms).
2024-05-09 20:51:49.445 +03:00 [INF] Executed action method Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 15111.8875ms.
2024-05-09 20:51:49.445 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-09 20:51:49.445 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-09 20:51:49.445 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-09 20:51:49.445 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-09 20:51:49.446 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-09 20:51:49.446 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-09 20:51:49.446 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.ReportDto.ReportDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-09 20:51:49.446 +03:00 [INF] Executed action Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api) in 15132.8423ms
2024-05-09 20:51:49.446 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-09 20:51:49.447 +03:00 [DBG] Connection ID "18374686489872171158" disconnecting.
2024-05-09 20:51:49.447 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-09 20:51:49.447 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:51:49.447 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 20:51:49.447 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44308/api/v1/Report - 400 null application/json; charset=utf-8 15135.0079ms
2024-05-09 20:52:02.987 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/api/v1/Report - application/json 76
2024-05-09 20:52:02.988 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report'
2024-05-09 20:52:02.988 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)' with route pattern 'api/v{version:apiVersion}/Report' is valid for the request path '/api/v1/Report'
2024-05-09 20:52:02.988 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-09 20:52:02.988 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 20:52:02.988 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-09 20:52:02.988 +03:00 [DBG] The request has an origin header: 'https://localhost:44308'.
2024-05-09 20:52:02.989 +03:00 [INF] CORS policy execution successful.
2024-05-09 20:52:02.989 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-09 20:52:02.989 +03:00 [INF] Route matched with {action = "CreateReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] CreateReportAsync(Diary.Domain.Dto.ReportDto.CreateReportDto) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-09 20:52:02.989 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-09 20:52:02.989 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-09 20:52:02.989 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-09 20:52:02.989 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-09 20:52:02.989 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-09 20:52:02.989 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-09 20:52:02.990 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-09 20:52:02.991 +03:00 [DBG] Creating DbConnection.
2024-05-09 20:52:02.991 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-09 20:52:02.991 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:52:03.006 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:52:03.006 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:52:03.006 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 20:52:03.007 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-09 20:52:03.007 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-05-09 20:52:03.007 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-05-09 20:52:03.007 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:52:03.007 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:52:03.007 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-09 20:52:03.010 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-09 20:52:03.010 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:52:03.010 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 20:52:03.011 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-09 20:52:03.011 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' ...
2024-05-09 20:52:03.011 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' using the name '' in request data ...
2024-05-09 20:52:03.011 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-09 20:52:03.011 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.ReportDto.CreateReportDto'
2024-05-09 20:52:03.011 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-09 20:52:03.011 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-09 20:52:03.011 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' ...
2024-05-09 20:52:03.011 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-09 20:52:03.012 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api) - Validation state: "Valid"
2024-05-09 20:53:27.262 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:53:27.265 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:53:27.268 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 20:53:27.268 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 20:53:27.268 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-09 20:53:27.268 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Id" = @__dto_UserId_0
LIMIT 1
2024-05-09 20:53:27.336 +03:00 [INF] Executed DbCommand (55ms) [Parameters=[@__dto_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Id" = @__dto_UserId_0
LIMIT 1
2024-05-09 20:53:27.340 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 20:53:27.340 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:53:27.341 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 3ms reading results.
2024-05-09 20:53:27.341 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:53:27.341 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 20:53:29.020 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:53:29.020 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:53:29.020 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 20:53:29.021 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 20:53:29.021 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-09 20:53:29.021 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_Name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Name" = @__dto_Name_0
LIMIT 1
2024-05-09 20:53:29.024 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__dto_Name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Name" = @__dto_Name_0
LIMIT 1
2024-05-09 20:53:29.024 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:53:29.024 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 0ms reading results.
2024-05-09 20:53:29.024 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:53:29.024 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 20:53:33.421 +03:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'Report.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 20:53:33.421 +03:00 [DBG] The navigation 'Report.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 20:53:33.421 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Report' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 20:53:33.809 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-05-09 20:53:33.809 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-09 20:53:33.810 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-09 20:53:33.810 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-09 20:53:33.810 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-09 20:53:33.813 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:53:33.813 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:53:33.813 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 20:53:33.813 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 20:53:33.813 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-09 20:53:33.813 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-05-09 20:53:33.818 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-05-09 20:53:33.818 +03:00 [DBG] The foreign key property 'Report.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-09 20:53:33.850 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:53:33.851 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 33ms reading results.
2024-05-09 20:53:33.851 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:53:33.852 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 20:53:33.852 +03:00 [DBG] An entity of type 'Report' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 20:53:33.864 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-05-09 20:53:59.573 +03:00 [INF] Executed action method Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 116560.5784ms.
2024-05-09 20:53:59.598 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-09 20:53:59.599 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-09 20:53:59.599 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-09 20:53:59.599 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-09 20:53:59.599 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-09 20:53:59.600 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-09 20:53:59.600 +03:00 [INF] Executing OkObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.ReportDto.ReportDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-09 20:54:00.472 +03:00 [INF] Executed action Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api) in 117483.062ms
2024-05-09 20:54:00.472 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-09 20:54:00.473 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-09 20:54:00.484 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:54:00.486 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 20:54:00.486 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44308/api/v1/Report - 200 null application/json; charset=utf-8 117498.7139ms
2024-05-09 20:54:00.486 +03:00 [DBG] Connection ID "18374686481282236580" disconnecting.
2024-05-09 20:54:43.230 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/api/v1/Report - application/json 72
2024-05-09 20:54:43.231 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report'
2024-05-09 20:54:43.231 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)' with route pattern 'api/v{version:apiVersion}/Report' is valid for the request path '/api/v1/Report'
2024-05-09 20:54:43.231 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-09 20:54:43.231 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 20:54:43.232 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-09 20:54:43.232 +03:00 [DBG] The request has an origin header: 'https://localhost:44308'.
2024-05-09 20:54:43.232 +03:00 [INF] CORS policy execution successful.
2024-05-09 20:54:43.232 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-09 20:54:43.232 +03:00 [INF] Route matched with {action = "CreateReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] CreateReportAsync(Diary.Domain.Dto.ReportDto.CreateReportDto) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-09 20:54:43.233 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-09 20:54:43.233 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-09 20:54:43.234 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-09 20:54:43.234 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-09 20:54:43.234 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-09 20:54:43.235 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-09 20:54:43.243 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-09 20:54:43.245 +03:00 [DBG] Creating DbConnection.
2024-05-09 20:54:43.245 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-09 20:54:43.246 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:54:43.260 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:54:43.261 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:54:43.261 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 20:54:43.261 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-09 20:54:43.261 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-05-09 20:54:43.261 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-05-09 20:54:43.261 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:54:43.271 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:54:43.271 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-09 20:54:43.275 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-09 20:54:43.276 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:54:43.276 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 20:54:43.276 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-09 20:54:43.276 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' ...
2024-05-09 20:54:43.276 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' using the name '' in request data ...
2024-05-09 20:54:43.277 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-09 20:54:43.277 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.ReportDto.CreateReportDto'
2024-05-09 20:54:43.277 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-09 20:54:43.277 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-09 20:54:43.277 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' ...
2024-05-09 20:54:43.277 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-09 20:54:43.277 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api) - Validation state: "Valid"
2024-05-09 20:54:47.165 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:54:47.165 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:54:47.165 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 20:54:47.165 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 20:54:47.165 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-09 20:54:47.165 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Id" = @__dto_UserId_0
LIMIT 1
2024-05-09 20:54:47.169 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__dto_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Id" = @__dto_UserId_0
LIMIT 1
2024-05-09 20:54:47.169 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 20:54:47.183 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:54:47.184 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 15ms reading results.
2024-05-09 20:54:47.184 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:54:47.185 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 20:54:47.801 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:54:47.801 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:54:47.801 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 20:54:47.801 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 20:54:47.801 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-09 20:54:47.801 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_Name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Name" = @__dto_Name_0
LIMIT 1
2024-05-09 20:54:47.820 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__dto_Name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Name" = @__dto_Name_0
LIMIT 1
2024-05-09 20:54:47.822 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:54:47.822 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 0ms reading results.
2024-05-09 20:54:47.822 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:54:47.822 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 20:54:49.406 +03:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'Report.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 20:54:49.406 +03:00 [DBG] The navigation 'Report.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 20:54:49.406 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Report' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 20:54:49.847 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-05-09 20:54:49.848 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-09 20:54:49.848 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-09 20:54:49.848 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-09 20:54:49.848 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-09 20:54:49.848 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:54:49.849 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:54:49.849 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 20:54:49.849 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 20:54:49.849 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-09 20:54:49.849 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-05-09 20:54:49.870 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-05-09 20:54:49.871 +03:00 [DBG] The foreign key property 'Report.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-09 20:54:49.871 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:54:49.871 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 0ms reading results.
2024-05-09 20:54:49.871 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:54:49.871 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 20:54:49.886 +03:00 [DBG] An entity of type 'Report' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 20:54:49.887 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-05-09 20:55:11.440 +03:00 [INF] Executed action method Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 28162.6666ms.
2024-05-09 20:55:11.441 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-09 20:55:11.441 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-09 20:55:11.441 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-09 20:55:11.442 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-09 20:55:11.453 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-09 20:55:11.454 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-09 20:55:11.455 +03:00 [INF] Executing OkObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.ReportDto.ReportDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-09 20:55:11.469 +03:00 [INF] Executed action Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api) in 28234.3918ms
2024-05-09 20:55:11.469 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-09 20:55:11.470 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-09 20:55:11.470 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:55:11.470 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 20:55:11.478 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44308/api/v1/Report - 200 null application/json; charset=utf-8 28247.8359ms
2024-05-09 20:55:11.491 +03:00 [DBG] Connection ID "18374686494167138371" disconnecting.
2024-05-09 20:56:45.203 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/api/v1/Report - application/json 66
2024-05-09 20:56:45.204 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report'
2024-05-09 20:56:45.204 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)' with route pattern 'api/v{version:apiVersion}/Report' is valid for the request path '/api/v1/Report'
2024-05-09 20:56:45.204 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-09 20:56:45.204 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-09 20:56:45.204 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-09 20:56:45.204 +03:00 [DBG] The request has an origin header: 'https://localhost:44308'.
2024-05-09 20:56:45.204 +03:00 [INF] CORS policy execution successful.
2024-05-09 20:56:45.204 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-09 20:56:45.204 +03:00 [INF] Route matched with {action = "CreateReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] CreateReportAsync(Diary.Domain.Dto.ReportDto.CreateReportDto) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-09 20:56:45.204 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-09 20:56:45.205 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-09 20:56:45.205 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-09 20:56:45.205 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-09 20:56:45.205 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-09 20:56:45.205 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-09 20:56:45.206 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-09 20:56:45.206 +03:00 [DBG] Creating DbConnection.
2024-05-09 20:56:45.206 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-09 20:56:45.207 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:56:45.216 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:56:45.216 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:56:45.217 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 20:56:45.217 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-09 20:56:45.217 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-05-09 20:56:45.217 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-05-09 20:56:45.217 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:56:45.217 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:56:45.217 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-09 20:56:45.220 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-09 20:56:45.221 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:56:45.221 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 20:56:45.221 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-09 20:56:45.221 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' ...
2024-05-09 20:56:45.221 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' using the name '' in request data ...
2024-05-09 20:56:45.221 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-09 20:56:45.221 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.ReportDto.CreateReportDto'
2024-05-09 20:56:45.221 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-09 20:56:45.222 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-09 20:56:45.222 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' ...
2024-05-09 20:56:45.222 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-09 20:56:45.222 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api) - Validation state: "Valid"
2024-05-09 20:56:52.263 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:56:52.263 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:56:52.263 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 20:56:52.263 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 20:56:52.263 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-09 20:56:52.263 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Id" = @__dto_UserId_0
LIMIT 1
2024-05-09 20:56:52.266 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__dto_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Id" = @__dto_UserId_0
LIMIT 1
2024-05-09 20:56:52.267 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 20:56:52.267 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:56:52.267 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 0ms reading results.
2024-05-09 20:56:52.286 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:56:52.286 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 20:56:52.757 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:56:52.757 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:56:52.757 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 20:56:52.758 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 20:56:52.758 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-09 20:56:52.758 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_Name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Name" = @__dto_Name_0
LIMIT 1
2024-05-09 20:56:52.761 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__dto_Name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Name" = @__dto_Name_0
LIMIT 1
2024-05-09 20:56:52.761 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:56:52.761 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 0ms reading results.
2024-05-09 20:56:52.761 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:56:52.776 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (14ms).
2024-05-09 20:56:54.589 +03:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'Report.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 20:56:54.589 +03:00 [DBG] The navigation 'Report.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 20:56:54.589 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Report' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 20:56:55.747 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-05-09 20:56:55.747 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-09 20:56:55.747 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-09 20:56:55.747 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-09 20:56:55.747 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-09 20:56:55.748 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:56:55.748 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:56:55.748 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-09 20:56:55.748 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-09 20:56:55.748 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-09 20:56:55.748 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-05-09 20:56:55.768 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-05-09 20:56:55.769 +03:00 [DBG] The foreign key property 'Report.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-09 20:56:55.769 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:56:55.769 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 0ms reading results.
2024-05-09 20:56:55.783 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:56:55.783 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 20:56:55.784 +03:00 [DBG] An entity of type 'Report' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-09 20:56:55.784 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-05-09 20:57:28.167 +03:00 [INF] Executed action method Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 42944.5475ms.
2024-05-09 20:57:43.899 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-09 20:57:43.900 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-09 20:57:43.900 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-09 20:57:43.900 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-09 20:57:43.900 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-09 20:57:43.900 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-09 20:57:43.900 +03:00 [INF] Executing OkObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.ReportDto.ReportDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-09 20:57:49.340 +03:00 [INF] Executed action Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api) in 64134.0855ms
2024-05-09 20:57:50.906 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-09 20:58:06.301 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-09 20:58:06.301 +03:00 [DBG] Connection ID "18374686489872171160" disconnecting.
2024-05-09 20:58:06.301 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-09 20:58:06.301 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-09 20:58:06.301 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44308/api/v1/Report - 200 null application/json; charset=utf-8 81097.8711ms
2024-05-11 05:22:27.508 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-11 05:22:27.664 +03:00 [DBG] Hosting starting
2024-05-11 05:22:27.859 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-11 05:23:13.044 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-11 05:23:13.165 +03:00 [DBG] Hosting starting
2024-05-11 05:23:13.177 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-11 05:24:14.338 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-11 05:24:14.447 +03:00 [DBG] Hosting starting
2024-05-11 05:24:14.463 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-11 05:28:52.711 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-11 05:28:52.812 +03:00 [DBG] Hosting starting
2024-05-11 05:28:52.823 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-11 05:28:52.845 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-11 05:28:52.868 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-11 05:28:52.881 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-11 05:28:52.899 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-11 05:28:52.902 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-11 05:28:52.902 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-11 05:28:52.909 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-11 05:28:52.912 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-11 05:28:52.914 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-11 05:28:52.916 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-11 05:28:52.920 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-11 05:28:52.921 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-11 05:28:52.922 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-11 05:28:52.923 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-11 05:28:53.094 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-11 05:28:53.095 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-11 05:28:53.095 +03:00 [INF] Hosting environment: Development
2024-05-11 05:28:53.095 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-11 05:28:53.095 +03:00 [DBG] Hosting started
2024-05-11 05:28:53.221 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-11 05:28:53.224 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-11 05:28:53.274 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-11 05:28:53.274 +03:00 [DBG] Request did not match any endpoints
2024-05-11 05:28:53.354 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-11 05:28:53.422 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-11 05:28:53.466 +03:00 [DBG] Connection ID "18374686481282236601" disconnecting.
2024-05-11 05:28:53.468 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 404 null null 252.1992ms
2024-05-11 05:28:53.471 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 404
2024-05-11 05:28:55.713 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/ - null null
2024-05-11 05:28:55.714 +03:00 [DBG] No candidates found for the request path '/'
2024-05-11 05:28:55.714 +03:00 [DBG] Request did not match any endpoints
2024-05-11 05:28:55.715 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-11 05:28:55.720 +03:00 [DBG] Connection ID "18374686489872171172" disconnecting.
2024-05-11 05:28:55.720 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/ - 301 null null 6.8077ms
2024-05-11 05:28:55.723 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-11 05:28:55.725 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-11 05:28:55.725 +03:00 [DBG] Request did not match any endpoints
2024-05-11 05:28:55.728 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-11 05:28:55.817 +03:00 [DBG] Connection ID "18374686485577203755" disconnecting.
2024-05-11 05:28:55.817 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 93.996ms
2024-05-11 05:28:55.986 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger-ui.css - null null
2024-05-11 05:28:55.986 +03:00 [DBG] No candidates found for the request path '/swagger-ui.css'
2024-05-11 05:28:55.986 +03:00 [DBG] Request did not match any endpoints
2024-05-11 05:28:55.986 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-11 05:28:55.987 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger-ui-bundle.js - null null
2024-05-11 05:28:55.987 +03:00 [DBG] No candidates found for the request path '/swagger-ui-bundle.js'
2024-05-11 05:28:55.987 +03:00 [DBG] Request did not match any endpoints
2024-05-11 05:28:55.988 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-11 05:28:55.989 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger-ui-standalone-preset.js - null null
2024-05-11 05:28:55.989 +03:00 [DBG] No candidates found for the request path '/swagger-ui-standalone-preset.js'
2024-05-11 05:28:55.989 +03:00 [DBG] Request did not match any endpoints
2024-05-11 05:28:55.989 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-11 05:28:56.001 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-05-11 05:28:56.002 +03:00 [DBG] Connection ID "18374686519936942170" disconnecting.
2024-05-11 05:28:56.003 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-05-11 05:28:56.005 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger-ui.css - 200 143943 text/css 19.1013ms
2024-05-11 05:28:56.010 +03:00 [DBG] Connection ID "18374686507052040256" disconnecting.
2024-05-11 05:28:56.010 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger-ui-standalone-preset.js - 200 339486 text/javascript 21.677ms
2024-05-11 05:28:56.018 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-05-11 05:28:56.036 +03:00 [DBG] Connection ID "18158513724938256474" disconnecting.
2024-05-11 05:28:56.036 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger-ui-bundle.js - 200 1096145 text/javascript 48.9856ms
2024-05-11 05:28:56.248 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-11 05:28:56.248 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-11 05:28:56.249 +03:00 [DBG] Request did not match any endpoints
2024-05-11 05:28:56.249 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-11 05:28:56.406 +03:00 [DBG] Connection ID "18374686498462105803" disconnecting.
2024-05-11 05:28:56.406 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 157.9133ms
2024-05-11 05:29:02.329 +03:00 [INF] Application is shutting down...
2024-05-11 05:29:02.330 +03:00 [DBG] Hosting stopping
2024-05-11 05:29:02.332 +03:00 [DBG] Hosting stopped
2024-05-11 05:30:16.638 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-11 05:30:16.744 +03:00 [DBG] Hosting starting
2024-05-11 05:30:16.756 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-11 05:30:16.776 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-11 05:30:16.779 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-11 05:30:16.780 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-11 05:30:16.785 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-11 05:30:16.788 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-11 05:30:16.788 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-11 05:30:16.794 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-11 05:30:16.797 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-11 05:30:16.800 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-11 05:30:16.801 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-11 05:30:16.805 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-11 05:30:16.806 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-11 05:30:16.807 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-11 05:30:16.807 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-11 05:30:16.828 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-11 05:30:16.829 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-11 05:30:16.829 +03:00 [INF] Hosting environment: Development
2024-05-11 05:30:16.829 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-11 05:30:16.829 +03:00 [DBG] Hosting started
2024-05-11 05:30:16.852 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-11 05:30:16.855 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-11 05:30:16.904 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-11 05:30:16.904 +03:00 [DBG] Request did not match any endpoints
2024-05-11 05:30:16.942 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-11 05:30:16.978 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-11 05:30:16.989 +03:00 [DBG] Connection ID "18374686481282236605" disconnecting.
2024-05-11 05:30:16.991 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 404 null null 147.667ms
2024-05-11 05:30:16.995 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 404
2024-05-11 05:30:20.911 +03:00 [INF] Application is shutting down...
2024-05-11 05:30:20.911 +03:00 [DBG] Hosting stopping
2024-05-11 05:30:20.913 +03:00 [DBG] Hosting stopped
2024-05-12 04:34:54.013 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-12 04:34:54.203 +03:00 [DBG] Hosting starting
2024-05-12 04:34:54.328 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-12 04:34:54.364 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-12 04:34:54.386 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-12 04:34:54.399 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-12 04:34:54.424 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-12 04:34:54.430 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-12 04:34:54.430 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-12 04:34:54.442 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-12 04:34:54.447 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-12 04:34:54.451 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-12 04:34:54.453 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-12 04:34:54.459 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-12 04:34:54.461 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-12 04:34:54.463 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-12 04:34:54.465 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-12 04:34:54.552 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-12 04:34:54.552 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-12 04:34:54.552 +03:00 [INF] Hosting environment: Development
2024-05-12 04:34:54.553 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-12 04:34:54.553 +03:00 [DBG] Hosting started
2024-05-12 04:34:54.643 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-12 04:34:54.647 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-12 04:34:54.723 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-12 04:34:54.723 +03:00 [DBG] Request did not match any endpoints
2024-05-12 04:34:54.873 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-12 04:34:55.068 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-12 04:34:55.104 +03:00 [DBG] Connection ID "18374686481282236622" disconnecting.
2024-05-12 04:34:55.108 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 404 null null 474.083ms
2024-05-12 04:34:55.117 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 404
2024-05-12 04:34:58.416 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/ - null null
2024-05-12 04:34:58.416 +03:00 [DBG] No candidates found for the request path '/'
2024-05-12 04:34:58.416 +03:00 [DBG] Request did not match any endpoints
2024-05-12 04:34:58.418 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-12 04:34:58.437 +03:00 [DBG] Connection ID "18302628913014112275" disconnecting.
2024-05-12 04:34:58.437 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/ - 301 null null 21.3213ms
2024-05-12 04:34:58.446 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-12 04:34:58.448 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-12 04:34:58.448 +03:00 [DBG] Request did not match any endpoints
2024-05-12 04:34:58.449 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-12 04:34:58.546 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 99.9888ms
2024-05-12 04:34:58.550 +03:00 [DBG] Connection ID "18230571301796315177" disconnecting.
2024-05-12 04:34:58.710 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger-ui.css - null null
2024-05-12 04:34:58.710 +03:00 [DBG] No candidates found for the request path '/swagger-ui.css'
2024-05-12 04:34:58.711 +03:00 [DBG] Request did not match any endpoints
2024-05-12 04:34:58.711 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-12 04:34:58.711 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger-ui-bundle.js - null null
2024-05-12 04:34:58.712 +03:00 [DBG] No candidates found for the request path '/swagger-ui-bundle.js'
2024-05-12 04:34:58.712 +03:00 [DBG] Request did not match any endpoints
2024-05-12 04:34:58.712 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-12 04:34:58.713 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger-ui-standalone-preset.js - null null
2024-05-12 04:34:58.713 +03:00 [DBG] No candidates found for the request path '/swagger-ui-standalone-preset.js'
2024-05-12 04:34:58.713 +03:00 [DBG] Request did not match any endpoints
2024-05-12 04:34:58.713 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-12 04:34:58.749 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-05-12 04:34:58.750 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-05-12 04:34:58.750 +03:00 [DBG] Connection ID "18230571310386249752" disconnecting.
2024-05-12 04:34:58.753 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger-ui.css - 200 143943 text/css 42.6415ms
2024-05-12 04:34:58.758 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger-ui-standalone-preset.js - 200 339486 text/javascript 44.8316ms
2024-05-12 04:34:58.761 +03:00 [DBG] Connection ID "18158513716348321795" disconnecting.
2024-05-12 04:34:58.767 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-05-12 04:34:58.783 +03:00 [DBG] Connection ID "18302628913014112277" disconnecting.
2024-05-12 04:34:58.788 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger-ui-bundle.js - 200 1096145 text/javascript 76.6183ms
2024-05-12 04:34:59.004 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-12 04:34:59.004 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-12 04:34:59.005 +03:00 [DBG] Request did not match any endpoints
2024-05-12 04:34:59.005 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-12 04:34:59.175 +03:00 [DBG] Connection ID "18230571301796315179" disconnecting.
2024-05-12 04:34:59.175 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 170.7295ms
2024-05-12 04:35:15.888 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/reports/1?api-version=1 - null null
2024-05-12 04:35:15.905 +03:00 [DBG] 1 candidate(s) found for the request path '/reports/1'
2024-05-12 04:35:15.908 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api)' with route pattern 'reports/{userId:long}' is valid for the request path '/reports/1'
2024-05-12 04:35:15.912 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api)'
2024-05-12 04:35:15.913 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-12 04:35:15.914 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-12 04:35:15.915 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api)'
2024-05-12 04:35:15.942 +03:00 [INF] Route matched with {action = "GetReports", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.CollectionResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] GetReportsAsync(Int64) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-12 04:35:15.944 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-12 04:35:15.944 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-12 04:35:15.945 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-12 04:35:15.945 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-12 04:35:15.945 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-12 04:35:15.946 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-12 04:35:16.370 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-12 04:35:17.100 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'RoleId', 'UserId'}.
2024-05-12 04:35:17.523 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-12 04:35:17.544 +03:00 [DBG] Creating DbConnection.
2024-05-12 04:35:17.663 +03:00 [DBG] Created DbConnection. (117ms).
2024-05-12 04:35:17.670 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-12 04:35:17.902 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-12 04:35:17.909 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-12 04:35:17.921 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (8ms).
2024-05-12 04:35:17.931 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-12 04:35:17.940 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2024-05-12 04:35:17.942 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (10ms).
2024-05-12 04:35:17.942 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-12 04:35:17.969 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-12 04:35:17.989 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-12 04:35:18.133 +03:00 [INF] Executed DbCommand (151ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-12 04:35:18.137 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-12 04:35:18.140 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (3ms).
2024-05-12 04:35:18.281 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-12 04:35:18.286 +03:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int64' ...
2024-05-12 04:35:18.288 +03:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int64' using the name 'userId' in request data ...
2024-05-12 04:35:18.290 +03:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int64'.
2024-05-12 04:35:18.290 +03:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int64'.
2024-05-12 04:35:18.290 +03:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Int64' ...
2024-05-12 04:35:18.292 +03:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Int64'.
2024-05-12 04:35:18.306 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api) - Validation state: "Valid"
2024-05-12 04:35:25.049 +03:00 [DBG] Compiling query expression: 
'DbSet<Report>()'
2024-05-12 04:35:25.207 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Report>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Report.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Report.CreatedAt (DateTime) Required, 1], [Property: Report.CreatedBy (long) Required, 2], [Property: Report.Description (string) Required MaxLength(2000), 3], [Property: Report.Name (string) Required MaxLength(100), 4], [Property: Report.UpdatedAt (DateTime?), 5], [Property: Report.UpdatedBy (long?), 6], [Property: Report.UserId (long) Required FK Index, 7] }
        SELECT r.Id, r.CreatedAt, r.CreatedBy, r.Description, r.Name, r.UpdatedAt, r.UpdatedBy, r.UserId
        FROM Report AS r), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Report>, 
    Diary.DAL.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-05-12 04:35:25.230 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-12 04:35:25.231 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-12 04:35:25.231 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-12 04:35:25.231 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-12 04:35:25.231 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-12 04:35:25.232 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
2024-05-12 04:35:25.240 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
2024-05-12 04:35:25.274 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Report' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-12 04:35:25.300 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Report' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-12 04:35:25.300 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Report' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-12 04:35:25.300 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Report' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-12 04:35:25.300 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Report' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-12 04:35:25.300 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Report' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-12 04:35:25.300 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Report' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-12 04:35:25.301 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Report' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-12 04:35:25.303 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-12 04:35:25.304 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 62ms reading results.
2024-05-12 04:35:25.305 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-12 04:35:25.305 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-12 04:35:42.299 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-12 04:35:42.299 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-12 04:35:42.299 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-12 04:35:42.299 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-12 04:35:42.299 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-12 04:35:42.299 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
2024-05-12 04:35:42.306 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
2024-05-12 04:35:42.307 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-12 04:35:42.307 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 1ms reading results.
2024-05-12 04:35:42.307 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-12 04:35:42.307 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-14 16:32:52.515 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 16:32:52.780 +03:00 [DBG] Hosting starting
2024-05-14 16:32:52.985 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 16:36:19.104 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 16:36:19.208 +03:00 [DBG] Hosting starting
2024-05-14 16:36:19.219 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 16:36:19.382 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-14 16:36:19.402 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-14 16:36:19.416 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-14 16:36:19.436 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-14 16:36:19.441 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-14 16:36:19.441 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-14 16:36:19.448 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-14 16:36:19.452 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 16:36:19.454 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-14 16:36:19.456 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 16:36:19.460 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-14 16:36:19.462 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-14 16:36:19.463 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-14 16:36:19.463 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-14 16:36:19.626 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-14 16:36:19.626 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-14 16:36:19.626 +03:00 [INF] Hosting environment: Development
2024-05-14 16:36:19.626 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-14 16:36:19.626 +03:00 [DBG] Hosting started
2024-05-14 16:36:19.750 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-14 16:36:19.753 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-14 16:36:19.801 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-14 16:36:19.802 +03:00 [DBG] Request did not match any endpoints
2024-05-14 16:36:19.898 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 16:36:19.969 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-14 16:36:20.012 +03:00 [DBG] Connection ID "18374686481282236667" disconnecting.
2024-05-14 16:36:20.014 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 404 null null 269.4706ms
2024-05-14 16:36:20.017 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 404
2024-05-14 16:36:21.944 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/ - null null
2024-05-14 16:36:21.944 +03:00 [DBG] No candidates found for the request path '/'
2024-05-14 16:36:21.944 +03:00 [DBG] Request did not match any endpoints
2024-05-14 16:36:21.946 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 16:36:21.953 +03:00 [DBG] Connection ID "18230571301796315228" disconnecting.
2024-05-14 16:36:21.953 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/ - 301 null null 9.0812ms
2024-05-14 16:36:21.957 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-14 16:36:21.958 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-14 16:36:21.958 +03:00 [DBG] Request did not match any endpoints
2024-05-14 16:36:21.960 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 16:36:22.049 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 92.7409ms
2024-05-14 16:36:22.049 +03:00 [DBG] Connection ID "18230571318976184404" disconnecting.
2024-05-14 16:36:22.244 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger-ui.css - null null
2024-05-14 16:36:22.244 +03:00 [DBG] No candidates found for the request path '/swagger-ui.css'
2024-05-14 16:36:22.244 +03:00 [DBG] Request did not match any endpoints
2024-05-14 16:36:22.244 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 16:36:22.245 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger-ui-bundle.js - null null
2024-05-14 16:36:22.245 +03:00 [DBG] No candidates found for the request path '/swagger-ui-bundle.js'
2024-05-14 16:36:22.245 +03:00 [DBG] Request did not match any endpoints
2024-05-14 16:36:22.245 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 16:36:22.246 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger-ui-standalone-preset.js - null null
2024-05-14 16:36:22.247 +03:00 [DBG] No candidates found for the request path '/swagger-ui-standalone-preset.js'
2024-05-14 16:36:22.247 +03:00 [DBG] Request did not match any endpoints
2024-05-14 16:36:22.247 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 16:36:22.261 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-05-14 16:36:22.263 +03:00 [DBG] Connection ID "18230571314681217056" disconnecting.
2024-05-14 16:36:22.267 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-05-14 16:36:22.267 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger-ui.css - 200 143943 text/css 23.6639ms
2024-05-14 16:36:22.273 +03:00 [DBG] Connection ID "18374686502757073014" disconnecting.
2024-05-14 16:36:22.273 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger-ui-standalone-preset.js - 200 339486 text/javascript 26.9432ms
2024-05-14 16:36:22.281 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-05-14 16:36:22.299 +03:00 [DBG] Connection ID "18374686519936942180" disconnecting.
2024-05-14 16:36:22.300 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger-ui-bundle.js - 200 1096145 text/javascript 55.1201ms
2024-05-14 16:36:22.530 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-14 16:36:22.531 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-14 16:36:22.531 +03:00 [DBG] Request did not match any endpoints
2024-05-14 16:36:22.531 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 16:36:22.696 +03:00 [DBG] Connection ID "18230571301796315230" disconnecting.
2024-05-14 16:36:22.696 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 165.5255ms
2024-05-14 16:37:00.088 +03:00 [INF] Application is shutting down...
2024-05-14 16:37:00.090 +03:00 [DBG] Hosting stopping
2024-05-14 16:37:00.092 +03:00 [DBG] Hosting stopped
2024-05-14 16:37:19.618 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 16:37:19.727 +03:00 [DBG] Hosting starting
2024-05-14 16:37:19.739 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 16:37:19.887 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-14 16:37:19.890 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-14 16:37:19.890 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-14 16:37:19.894 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-14 16:37:19.897 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-14 16:37:19.897 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-14 16:37:19.904 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-14 16:37:19.907 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 16:37:19.910 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-14 16:37:19.911 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 16:37:19.915 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-14 16:37:19.916 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-14 16:37:19.917 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-14 16:37:19.918 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-14 16:37:19.948 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-14 16:37:19.948 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-14 16:37:19.948 +03:00 [INF] Hosting environment: Development
2024-05-14 16:37:19.948 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-14 16:37:19.949 +03:00 [DBG] Hosting started
2024-05-14 16:37:19.966 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-14 16:37:19.969 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-14 16:37:20.013 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-14 16:37:20.013 +03:00 [DBG] Request did not match any endpoints
2024-05-14 16:37:20.048 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 16:37:20.084 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-14 16:37:20.095 +03:00 [DBG] Connection ID "18230571301796315232" disconnecting.
2024-05-14 16:37:20.096 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 404 null null 134.9091ms
2024-05-14 16:37:20.099 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 404
2024-05-14 16:37:22.305 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-14 16:37:22.306 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-14 16:37:22.306 +03:00 [DBG] Request did not match any endpoints
2024-05-14 16:37:22.307 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 16:37:22.392 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 87.829ms
2024-05-14 16:37:22.392 +03:00 [DBG] Connection ID "18158513716348321808" disconnecting.
2024-05-14 16:37:22.556 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-14 16:37:22.556 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-14 16:37:22.556 +03:00 [DBG] Request did not match any endpoints
2024-05-14 16:37:22.558 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 16:37:22.578 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/favicon-32x32.png - null null
2024-05-14 16:37:22.578 +03:00 [DBG] No candidates found for the request path '/favicon-32x32.png'
2024-05-14 16:37:22.578 +03:00 [DBG] Request did not match any endpoints
2024-05-14 16:37:22.578 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 16:37:22.584 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-05-14 16:37:22.585 +03:00 [DBG] Connection ID "18230571301796315234" disconnecting.
2024-05-14 16:37:22.585 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/favicon-32x32.png - 200 628 image/png 7.2077ms
2024-05-14 16:37:22.729 +03:00 [DBG] Connection ID "18374686515641974994" disconnecting.
2024-05-14 16:37:22.729 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 172.5814ms
2024-05-14 16:39:00.996 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/api/v1/Report - application/json 84
2024-05-14 16:39:01.007 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report'
2024-05-14 16:39:01.012 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)' with route pattern 'api/v{version:apiVersion}/Report' is valid for the request path '/api/v1/Report'
2024-05-14 16:39:01.018 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-14 16:39:01.019 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 16:39:01.019 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-14 16:39:01.020 +03:00 [DBG] The request has an origin header: 'https://localhost:44308'.
2024-05-14 16:39:01.020 +03:00 [INF] CORS policy execution successful.
2024-05-14 16:39:01.022 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-14 16:39:01.053 +03:00 [INF] Route matched with {action = "CreateReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] CreateReportAsync(Diary.Domain.Dto.ReportDto.CreateReportDto) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-14 16:39:01.054 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-14 16:39:01.054 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-14 16:39:01.055 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-14 16:39:01.055 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-14 16:39:01.055 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-14 16:39:01.057 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-14 16:39:01.652 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-14 16:39:02.538 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'RoleId', 'UserId'}.
2024-05-14 16:39:03.007 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-14 16:39:03.028 +03:00 [DBG] Creating DbConnection.
2024-05-14 16:39:03.099 +03:00 [DBG] Created DbConnection. (68ms).
2024-05-14 16:39:03.107 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:39:03.245 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:39:03.252 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:39:03.264 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (6ms).
2024-05-14 16:39:03.273 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-14 16:39:03.282 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2024-05-14 16:39:03.284 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (11ms).
2024-05-14 16:39:03.284 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:39:03.307 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:39:03.317 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-14 16:39:03.449 +03:00 [INF] Executed DbCommand (132ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-14 16:39:03.452 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:39:03.455 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (3ms).
2024-05-14 16:39:03.594 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-14 16:39:03.598 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' ...
2024-05-14 16:39:03.600 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' using the name '' in request data ...
2024-05-14 16:39:03.601 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-14 16:39:03.626 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.ReportDto.CreateReportDto'
2024-05-14 16:39:03.626 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-14 16:39:03.626 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-14 16:39:03.626 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' ...
2024-05-14 16:39:03.630 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-14 16:39:03.637 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api) - Validation state: "Valid"
2024-05-14 16:39:03.744 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(x => x.Id == __dto_UserId_0)'
2024-05-14 16:39:03.998 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedAt (DateTime) Required, 1], [Property: User.CreatedBy (long) Required, 2], [Property: User.Login (string) Required MaxLength(100), 3], [Property: User.Password (string) Required, 4], [Property: User.UpdatedAt (DateTime?), 5], [Property: User.UpdatedBy (long?), 6] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.CreatedBy, u.Login, u.Password, u.UpdatedAt, u.UpdatedBy
            FROM User AS u
            WHERE u.Id == @__dto_UserId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-14 16:39:04.042 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:39:04.044 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:39:04.045 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-14 16:39:04.045 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-14 16:39:04.051 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-05-14 16:39:04.054 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Id" = @__dto_UserId_0
LIMIT 1
2024-05-14 16:39:04.085 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[@__dto_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Id" = @__dto_UserId_0
LIMIT 1
2024-05-14 16:39:04.130 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-14 16:39:04.167 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:39:04.169 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 82ms reading results.
2024-05-14 16:39:04.173 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:39:04.174 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-14 16:39:04.176 +03:00 [DBG] Compiling query expression: 
'DbSet<Report>()
    .FirstOrDefault(x => x.Name == __dto_Name_0)'
2024-05-14 16:39:04.181 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Report>(
    asyncEnumerable: new SingleQueryingEnumerable<Report>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Report.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Report.CreatedAt (DateTime) Required, 1], [Property: Report.CreatedBy (long) Required, 2], [Property: Report.Description (string) Required MaxLength(2000), 3], [Property: Report.Name (string) Required MaxLength(100), 4], [Property: Report.UpdatedAt (DateTime?), 5], [Property: Report.UpdatedBy (long?), 6], [Property: Report.UserId (long) Required FK Index, 7] }
            SELECT TOP(1) r.Id, r.CreatedAt, r.CreatedBy, r.Description, r.Name, r.UpdatedAt, r.UpdatedBy, r.UserId
            FROM Report AS r
            WHERE r.Name == @__dto_Name_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Report>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-14 16:39:04.182 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:39:04.182 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:39:04.182 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-14 16:39:04.182 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-14 16:39:04.183 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-14 16:39:04.183 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_Name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Name" = @__dto_Name_0
LIMIT 1
2024-05-14 16:39:04.188 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__dto_Name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Name" = @__dto_Name_0
LIMIT 1
2024-05-14 16:39:04.188 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:39:04.188 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 0ms reading results.
2024-05-14 16:39:04.188 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:39:04.189 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-14 16:39:04.231 +03:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'Report.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-14 16:39:04.273 +03:00 [DBG] The navigation 'Report.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-14 16:39:04.290 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Report' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-14 16:39:04.296 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-05-14 16:39:04.301 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-14 16:39:04.334 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-14 16:39:04.345 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-14 16:39:04.345 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-14 16:39:04.438 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:39:04.438 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:39:04.440 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-14 16:39:04.440 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-14 16:39:04.441 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-14 16:39:04.441 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-05-14 16:39:04.450 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-05-14 16:39:04.463 +03:00 [DBG] The foreign key property 'Report.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-14 16:39:04.467 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:39:04.467 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 16ms reading results.
2024-05-14 16:39:04.468 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:39:04.468 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-14 16:39:04.481 +03:00 [DBG] An entity of type 'Report' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-14 16:39:04.484 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-05-14 16:39:04.760 +03:00 [INF] Executed action method Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1118.9677ms.
2024-05-14 16:39:04.767 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-14 16:39:04.770 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-14 16:39:04.771 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-14 16:39:04.772 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-14 16:39:04.772 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-14 16:39:04.772 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-14 16:39:04.773 +03:00 [INF] Executing OkObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.ReportDto.ReportDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-14 16:39:04.791 +03:00 [INF] Executed action Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api) in 3730.2133ms
2024-05-14 16:39:04.792 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-14 16:39:04.799 +03:00 [DBG] Connection ID "18374686528526876770" disconnecting.
2024-05-14 16:39:04.803 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-14 16:39:04.808 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:39:04.811 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-14 16:39:04.812 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44308/api/v1/Report - 200 null application/json; charset=utf-8 3815.8988ms
2024-05-14 16:39:33.876 +03:00 [INF] Application is shutting down...
2024-05-14 16:39:33.877 +03:00 [DBG] Hosting stopping
2024-05-14 16:39:33.878 +03:00 [DBG] Hosting stopped
2024-05-14 16:39:49.777 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 16:39:49.927 +03:00 [DBG] Hosting starting
2024-05-14 16:39:49.975 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 16:39:50.225 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-14 16:39:50.231 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-14 16:39:50.232 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-14 16:39:50.237 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-14 16:39:50.241 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-14 16:39:50.241 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-14 16:39:50.248 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-14 16:39:50.251 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 16:39:50.253 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-14 16:39:50.255 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 16:39:50.258 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-14 16:39:50.260 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-14 16:39:50.261 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-14 16:39:50.261 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-14 16:39:50.348 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-14 16:39:50.349 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-14 16:39:50.349 +03:00 [INF] Hosting environment: Development
2024-05-14 16:39:50.349 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-14 16:39:50.349 +03:00 [DBG] Hosting started
2024-05-14 16:39:50.394 +03:00 [DBG] Connection ID "18230571301796315236" disconnecting.
2024-05-14 16:39:50.415 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-14 16:39:50.418 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-14 16:39:50.467 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-14 16:39:50.468 +03:00 [DBG] Request did not match any endpoints
2024-05-14 16:39:50.577 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 16:39:50.620 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-14 16:39:50.623 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 499 null null 214.3281ms
2024-05-14 16:39:50.627 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 499
2024-05-14 16:39:55.545 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/api/v1/Report - application/json 85
2024-05-14 16:39:55.570 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report'
2024-05-14 16:39:55.574 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)' with route pattern 'api/v{version:apiVersion}/Report' is valid for the request path '/api/v1/Report'
2024-05-14 16:39:55.578 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-14 16:39:55.580 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 16:39:55.588 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-14 16:39:55.597 +03:00 [DBG] The request has an origin header: 'https://localhost:44308'.
2024-05-14 16:39:55.597 +03:00 [INF] CORS policy execution successful.
2024-05-14 16:39:55.599 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-14 16:39:55.630 +03:00 [INF] Route matched with {action = "CreateReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] CreateReportAsync(Diary.Domain.Dto.ReportDto.CreateReportDto) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-14 16:39:55.631 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-14 16:39:55.631 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-14 16:39:55.632 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-14 16:39:55.632 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-14 16:39:55.633 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-14 16:39:55.635 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-14 16:39:55.947 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-14 16:39:56.762 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'RoleId', 'UserId'}.
2024-05-14 16:39:57.181 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-14 16:39:57.197 +03:00 [DBG] Creating DbConnection.
2024-05-14 16:39:57.243 +03:00 [DBG] Created DbConnection. (43ms).
2024-05-14 16:39:57.249 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:39:57.368 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:39:57.376 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:39:57.392 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (7ms).
2024-05-14 16:39:57.408 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-14 16:39:57.458 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (12ms).
2024-05-14 16:39:57.462 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (55ms).
2024-05-14 16:39:57.462 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:39:57.540 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:39:57.553 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-14 16:39:57.716 +03:00 [INF] Executed DbCommand (167ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-14 16:39:57.720 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:39:57.723 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-14 16:39:57.869 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-14 16:39:57.873 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' ...
2024-05-14 16:39:57.876 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' using the name '' in request data ...
2024-05-14 16:39:57.878 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-14 16:39:57.930 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.ReportDto.CreateReportDto'
2024-05-14 16:39:57.931 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-14 16:39:57.931 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-14 16:39:57.932 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' ...
2024-05-14 16:39:57.936 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-14 16:39:57.949 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api) - Validation state: "Valid"
2024-05-14 16:40:14.468 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(x => x.Id == __dto_UserId_0)'
2024-05-14 16:40:14.819 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedAt (DateTime) Required, 1], [Property: User.CreatedBy (long) Required, 2], [Property: User.Login (string) Required MaxLength(100), 3], [Property: User.Password (string) Required, 4], [Property: User.UpdatedAt (DateTime?), 5], [Property: User.UpdatedBy (long?), 6] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.CreatedBy, u.Login, u.Password, u.UpdatedAt, u.UpdatedBy
            FROM User AS u
            WHERE u.Id == @__dto_UserId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-14 16:40:14.865 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:40:14.867 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:40:14.867 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-14 16:40:14.867 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-14 16:40:14.873 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-05-14 16:40:14.876 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Id" = @__dto_UserId_0
LIMIT 1
2024-05-14 16:40:14.906 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[@__dto_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Id" = @__dto_UserId_0
LIMIT 1
2024-05-14 16:40:14.949 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-14 16:40:14.983 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:40:14.984 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 75ms reading results.
2024-05-14 16:40:14.988 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:40:14.989 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-14 16:40:19.916 +03:00 [DBG] Compiling query expression: 
'DbSet<Report>()
    .FirstOrDefault(x => x.Name == __dto_Name_0)'
2024-05-14 16:40:19.919 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Report>(
    asyncEnumerable: new SingleQueryingEnumerable<Report>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Report.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Report.CreatedAt (DateTime) Required, 1], [Property: Report.CreatedBy (long) Required, 2], [Property: Report.Description (string) Required MaxLength(2000), 3], [Property: Report.Name (string) Required MaxLength(100), 4], [Property: Report.UpdatedAt (DateTime?), 5], [Property: Report.UpdatedBy (long?), 6], [Property: Report.UserId (long) Required FK Index, 7] }
            SELECT TOP(1) r.Id, r.CreatedAt, r.CreatedBy, r.Description, r.Name, r.UpdatedAt, r.UpdatedBy, r.UserId
            FROM Report AS r
            WHERE r.Name == @__dto_Name_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Report>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-14 16:40:19.920 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:40:19.920 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:40:19.920 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-14 16:40:19.920 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-14 16:40:19.921 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-14 16:40:19.921 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_Name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Name" = @__dto_Name_0
LIMIT 1
2024-05-14 16:40:19.925 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__dto_Name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Name" = @__dto_Name_0
LIMIT 1
2024-05-14 16:40:19.926 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:40:19.926 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 0ms reading results.
2024-05-14 16:40:19.926 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:40:19.926 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-14 16:40:19.957 +03:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'Report.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-14 16:40:19.982 +03:00 [DBG] The navigation 'Report.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-14 16:40:19.995 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Report' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-14 16:40:20.000 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-05-14 16:40:20.004 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-14 16:40:20.026 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-14 16:40:20.034 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-14 16:40:20.034 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-14 16:40:20.110 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:40:20.110 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:40:20.112 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-14 16:40:20.112 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-14 16:40:20.112 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-14 16:40:20.112 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-05-14 16:40:20.119 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-05-14 16:40:20.134 +03:00 [DBG] The foreign key property 'Report.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-14 16:40:20.138 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:40:20.138 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 19ms reading results.
2024-05-14 16:40:20.140 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:40:20.140 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-14 16:40:20.152 +03:00 [DBG] An entity of type 'Report' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-14 16:40:20.154 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-05-14 16:41:31.794 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 16:41:31.934 +03:00 [DBG] Hosting starting
2024-05-14 16:41:31.981 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 16:41:32.222 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-14 16:41:32.227 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-14 16:41:32.228 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-14 16:41:32.232 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-14 16:41:32.236 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-14 16:41:32.237 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-14 16:41:32.243 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-14 16:41:32.246 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 16:41:32.249 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-14 16:41:32.251 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 16:41:32.255 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-14 16:41:32.257 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-14 16:41:32.258 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-14 16:41:32.259 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-14 16:41:56.629 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-14 16:41:56.630 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-14 16:41:56.630 +03:00 [INF] Hosting environment: Development
2024-05-14 16:41:56.630 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-14 16:41:56.630 +03:00 [DBG] Hosting started
2024-05-14 16:41:56.672 +03:00 [DBG] Connection ID "18230571318976184406" disconnecting.
2024-05-14 16:41:56.691 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-14 16:41:56.691 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-14 16:41:56.694 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-14 16:41:56.694 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-14 16:41:56.749 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-14 16:41:56.749 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-14 16:41:56.750 +03:00 [DBG] Request did not match any endpoints
2024-05-14 16:41:56.750 +03:00 [DBG] Request did not match any endpoints
2024-05-14 16:41:56.872 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 16:41:56.872 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 16:41:56.917 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-14 16:41:56.922 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 499 null null 237.1487ms
2024-05-14 16:41:56.927 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 499
2024-05-14 16:41:57.050 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 362.6315ms
2024-05-14 16:41:57.050 +03:00 [DBG] Connection ID "18302628904424177733" disconnecting.
2024-05-14 16:41:57.318 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-14 16:41:57.319 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-14 16:41:57.319 +03:00 [DBG] Request did not match any endpoints
2024-05-14 16:41:57.320 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 16:41:57.482 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 164.1608ms
2024-05-14 16:41:57.482 +03:00 [DBG] Connection ID "18230571318976184408" disconnecting.
2024-05-14 16:42:11.019 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/api/v1/Report - application/json 96
2024-05-14 16:42:11.030 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report'
2024-05-14 16:42:11.034 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)' with route pattern 'api/v{version:apiVersion}/Report' is valid for the request path '/api/v1/Report'
2024-05-14 16:42:11.038 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-14 16:42:11.039 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 16:42:11.039 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-14 16:42:11.040 +03:00 [DBG] The request has an origin header: 'https://localhost:44308'.
2024-05-14 16:42:11.041 +03:00 [INF] CORS policy execution successful.
2024-05-14 16:42:11.042 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-14 16:42:11.065 +03:00 [INF] Route matched with {action = "CreateReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] CreateReportAsync(Diary.Domain.Dto.ReportDto.CreateReportDto) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-14 16:42:11.066 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-14 16:42:11.067 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-14 16:42:11.067 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-14 16:42:11.067 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-14 16:42:11.068 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-14 16:42:11.069 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-14 16:42:11.253 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-14 16:42:11.816 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'RoleId', 'UserId'}.
2024-05-14 16:42:12.160 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-14 16:42:12.173 +03:00 [DBG] Creating DbConnection.
2024-05-14 16:42:12.221 +03:00 [DBG] Created DbConnection. (45ms).
2024-05-14 16:42:12.228 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:42:12.334 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:42:12.341 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:42:12.351 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (6ms).
2024-05-14 16:42:12.359 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-14 16:42:12.366 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2024-05-14 16:42:12.368 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (9ms).
2024-05-14 16:42:12.368 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:42:12.391 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:42:12.399 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-14 16:42:12.492 +03:00 [INF] Executed DbCommand (94ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-14 16:42:12.495 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:42:12.498 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (2ms).
2024-05-14 16:42:12.611 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-14 16:42:12.615 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' ...
2024-05-14 16:42:12.618 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' using the name '' in request data ...
2024-05-14 16:42:12.619 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-14 16:42:12.641 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.ReportDto.CreateReportDto'
2024-05-14 16:42:12.642 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-14 16:42:12.642 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-14 16:42:12.642 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' ...
2024-05-14 16:42:12.646 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-14 16:42:12.653 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api) - Validation state: "Valid"
2024-05-14 16:42:17.993 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(x => x.Id == __dto_UserId_0)'
2024-05-14 16:42:18.206 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedAt (DateTime) Required, 1], [Property: User.CreatedBy (long) Required, 2], [Property: User.Login (string) Required MaxLength(100), 3], [Property: User.Password (string) Required, 4], [Property: User.UpdatedAt (DateTime?), 5], [Property: User.UpdatedBy (long?), 6] }
            SELECT TOP(1) u.Id, u.CreatedAt, u.CreatedBy, u.Login, u.Password, u.UpdatedAt, u.UpdatedBy
            FROM User AS u
            WHERE u.Id == @__dto_UserId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-14 16:42:18.246 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:42:18.248 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:42:18.248 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-14 16:42:18.248 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-14 16:42:18.253 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-05-14 16:42:18.256 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Id" = @__dto_UserId_0
LIMIT 1
2024-05-14 16:42:18.283 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[@__dto_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Id" = @__dto_UserId_0
LIMIT 1
2024-05-14 16:42:18.373 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-14 16:42:18.408 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:42:18.409 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 124ms reading results.
2024-05-14 16:42:18.413 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:42:18.414 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-14 16:42:18.948 +03:00 [DBG] Compiling query expression: 
'DbSet<Report>()
    .FirstOrDefault(x => x.Name == __dto_Name_0)'
2024-05-14 16:42:18.952 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Report>(
    asyncEnumerable: new SingleQueryingEnumerable<Report>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Report.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Report.CreatedAt (DateTime) Required, 1], [Property: Report.CreatedBy (long) Required, 2], [Property: Report.Description (string) Required MaxLength(2000), 3], [Property: Report.Name (string) Required MaxLength(100), 4], [Property: Report.UpdatedAt (DateTime?), 5], [Property: Report.UpdatedBy (long?), 6], [Property: Report.UserId (long) Required FK Index, 7] }
            SELECT TOP(1) r.Id, r.CreatedAt, r.CreatedBy, r.Description, r.Name, r.UpdatedAt, r.UpdatedBy, r.UserId
            FROM Report AS r
            WHERE r.Name == @__dto_Name_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Report>, 
        Diary.DAL.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-14 16:42:18.953 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:42:18.953 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:42:18.953 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-14 16:42:18.953 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-14 16:42:18.954 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-14 16:42:18.954 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_Name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Name" = @__dto_Name_0
LIMIT 1
2024-05-14 16:42:18.978 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__dto_Name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Name" = @__dto_Name_0
LIMIT 1
2024-05-14 16:42:18.987 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:42:18.988 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 8ms reading results.
2024-05-14 16:42:18.995 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:42:18.995 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-14 16:42:20.114 +03:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'Report.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-14 16:42:20.143 +03:00 [DBG] The navigation 'Report.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-14 16:42:20.156 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Report' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-14 16:42:21.381 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-05-14 16:42:21.386 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-14 16:42:21.411 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-14 16:42:21.419 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-14 16:42:21.419 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-14 16:42:21.484 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:42:21.484 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:42:21.486 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-14 16:42:21.486 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-14 16:42:21.486 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-14 16:42:21.486 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-05-14 16:42:21.497 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-05-14 16:42:21.554 +03:00 [DBG] The foreign key property 'Report.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-14 16:42:21.557 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:42:21.558 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 60ms reading results.
2024-05-14 16:42:21.559 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:42:21.559 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-14 16:42:21.569 +03:00 [DBG] An entity of type 'Report' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-14 16:42:21.571 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-05-14 16:42:53.017 +03:00 [INF] Executed action method Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 40360.5447ms.
2024-05-14 16:42:53.022 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-14 16:42:53.025 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-14 16:42:53.026 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-14 16:42:53.026 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-14 16:42:53.026 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-14 16:42:53.027 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-14 16:42:53.027 +03:00 [INF] Executing OkObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.ReportDto.ReportDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-14 16:42:53.040 +03:00 [INF] Executed action Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api) in 41968.8716ms
2024-05-14 16:42:53.041 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-14 16:42:53.047 +03:00 [DBG] Connection ID "18302628930193981510" disconnecting.
2024-05-14 16:42:53.049 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-14 16:42:53.053 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:42:53.054 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (1ms).
2024-05-14 16:42:53.055 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44308/api/v1/Report - 200 null application/json; charset=utf-8 42035.9014ms
2024-05-14 16:42:58.439 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44308/api/v1/Report - application/json 106
2024-05-14 16:42:58.439 +03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/Report'
2024-05-14 16:42:58.439 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)' with route pattern 'api/v{version:apiVersion}/Report' is valid for the request path '/api/v1/Report'
2024-05-14 16:42:58.439 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-14 16:42:58.439 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 16:42:58.440 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-14 16:42:58.440 +03:00 [DBG] The request has an origin header: 'https://localhost:44308'.
2024-05-14 16:42:58.440 +03:00 [INF] CORS policy execution successful.
2024-05-14 16:42:58.440 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-14 16:42:58.441 +03:00 [INF] Route matched with {action = "CreateReport", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.BaseResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] CreateReportAsync(Diary.Domain.Dto.ReportDto.CreateReportDto) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-14 16:42:58.441 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-14 16:42:58.441 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-14 16:42:58.441 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-14 16:42:58.441 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-14 16:42:58.441 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-14 16:42:58.442 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-14 16:42:58.457 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-14 16:42:58.460 +03:00 [DBG] Creating DbConnection.
2024-05-14 16:42:58.460 +03:00 [DBG] Created DbConnection. (0ms).
2024-05-14 16:42:58.460 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:42:58.469 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:42:58.470 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:42:58.470 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-14 16:42:58.471 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-14 16:42:58.471 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-05-14 16:42:58.471 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-05-14 16:42:58.471 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:42:58.471 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:42:58.471 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-14 16:42:58.474 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-14 16:42:58.474 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:42:58.474 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-14 16:42:58.475 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-14 16:42:58.476 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' ...
2024-05-14 16:42:58.476 +03:00 [DBG] Attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' using the name '' in request data ...
2024-05-14 16:42:58.476 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-05-14 16:42:58.477 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Diary.Domain.Dto.ReportDto.CreateReportDto'
2024-05-14 16:42:58.477 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-14 16:42:58.477 +03:00 [DBG] Done attempting to bind parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-14 16:42:58.477 +03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto' ...
2024-05-14 16:42:58.477 +03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'Diary.Domain.Dto.ReportDto.CreateReportDto'.
2024-05-14 16:42:58.477 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api) - Validation state: "Valid"
2024-05-14 16:43:11.163 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:43:11.164 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:43:11.164 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-14 16:43:11.164 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-14 16:43:11.164 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-14 16:43:11.164 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Id" = @__dto_UserId_0
LIMIT 1
2024-05-14 16:43:11.166 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__dto_UserId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."CreatedBy", u."Login", u."Password", u."UpdatedAt", u."UpdatedBy"
FROM "User" AS u
WHERE u."Id" = @__dto_UserId_0
LIMIT 1
2024-05-14 16:43:11.169 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-14 16:43:11.169 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:43:11.169 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 1ms reading results.
2024-05-14 16:43:11.169 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:43:11.169 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-14 16:43:11.170 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:43:11.170 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:43:11.170 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-14 16:43:11.170 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-14 16:43:11.170 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-14 16:43:11.170 +03:00 [DBG] Executing DbCommand [Parameters=[@__dto_Name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Name" = @__dto_Name_0
LIMIT 1
2024-05-14 16:43:11.173 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__dto_Name_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."CreatedBy", r."Description", r."Name", r."UpdatedAt", r."UpdatedBy", r."UserId"
FROM "Report" AS r
WHERE r."Name" = @__dto_Name_0
LIMIT 1
2024-05-14 16:43:11.173 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:43:11.173 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 0ms reading results.
2024-05-14 16:43:11.173 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:43:11.173 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-14 16:43:11.174 +03:00 [DBG] 'ApplicationDbContext' generated a temporary value for the property 'Report.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-14 16:43:11.175 +03:00 [DBG] The navigation 'Report.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-14 16:43:11.175 +03:00 [DBG] Context 'ApplicationDbContext' started tracking 'Report' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-14 16:43:11.175 +03:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2024-05-14 16:43:11.175 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-14 16:43:11.175 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-14 16:43:11.175 +03:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2024-05-14 16:43:11.176 +03:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2024-05-14 16:43:11.176 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:43:11.176 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:43:11.176 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-14 16:43:11.177 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-14 16:43:11.177 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-05-14 16:43:11.177 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-05-14 16:43:11.180 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int64), @p2='?', @p3='?', @p4='?' (DbType = DateTime), @p5='?' (DbType = Int64), @p6='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Report" ("CreatedAt", "CreatedBy", "Description", "Name", "UpdatedAt", "UpdatedBy", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
2024-05-14 16:43:11.180 +03:00 [DBG] The foreign key property 'Report.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-14 16:43:11.181 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:43:11.181 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 0ms reading results.
2024-05-14 16:43:11.181 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:43:11.181 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-14 16:43:11.181 +03:00 [DBG] An entity of type 'Report' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-14 16:43:11.181 +03:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2024-05-14 16:43:39.144 +03:00 [INF] Executed action method Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 40667.0521ms.
2024-05-14 16:43:39.145 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-14 16:43:39.145 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-14 16:43:39.145 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-14 16:43:39.145 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-14 16:43:39.145 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-14 16:43:39.145 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-14 16:43:39.145 +03:00 [INF] Executing OkObjectResult, writing value of type 'Diary.Domain.Result.BaseResult`1[[Diary.Domain.Dto.ReportDto.ReportDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-14 16:43:39.146 +03:00 [INF] Executed action Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api) in 40704.7323ms
2024-05-14 16:43:39.146 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.ReportController.CreateReportAsync (Diary.Api)'
2024-05-14 16:43:39.147 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-14 16:43:39.148 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 16:43:39.151 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (0ms).
2024-05-14 16:43:39.152 +03:00 [DBG] Connection ID "18230571318976184410" disconnecting.
2024-05-14 16:43:39.152 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44308/api/v1/Report - 200 null application/json; charset=utf-8 40713.2518ms
2024-05-14 16:44:50.625 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 16:44:50.807 +03:00 [DBG] Hosting starting
2024-05-14 16:44:50.833 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 16:44:51.024 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-14 16:44:51.027 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-14 16:44:51.028 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-14 16:44:51.031 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-14 16:44:51.034 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-14 16:44:51.034 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-14 16:44:51.041 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-14 16:44:51.043 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 16:44:51.046 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-14 16:44:51.047 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 16:44:51.052 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-14 16:44:51.054 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-14 16:44:51.055 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-14 16:44:51.055 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-14 16:44:51.088 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-14 16:44:51.088 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-14 16:44:51.088 +03:00 [INF] Hosting environment: Development
2024-05-14 16:44:51.088 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-14 16:44:51.088 +03:00 [DBG] Hosting started
2024-05-14 16:44:51.107 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-14 16:44:51.109 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-14 16:44:51.157 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-14 16:44:51.158 +03:00 [DBG] Request did not match any endpoints
2024-05-14 16:44:51.194 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 16:44:51.232 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-14 16:44:51.244 +03:00 [DBG] Connection ID "18302628930193981512" disconnecting.
2024-05-14 16:44:51.245 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 404 null null 143.8988ms
2024-05-14 16:44:51.249 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 404
2024-05-14 16:45:00.649 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-14 16:45:00.650 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-14 16:45:00.650 +03:00 [DBG] Request did not match any endpoints
2024-05-14 16:45:00.652 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 16:45:00.743 +03:00 [DBG] Connection ID "18374686515641974996" disconnecting.
2024-05-14 16:45:00.743 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 94.0339ms
2024-05-14 16:45:01.011 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-14 16:45:01.011 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-14 16:45:01.011 +03:00 [DBG] Request did not match any endpoints
2024-05-14 16:45:01.013 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 16:45:01.176 +03:00 [DBG] Connection ID "18302628930193981514" disconnecting.
2024-05-14 16:45:01.176 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 165.7773ms
2024-05-14 16:45:18.278 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-14 16:45:18.278 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-14 16:45:18.278 +03:00 [DBG] Request did not match any endpoints
2024-05-14 16:45:18.279 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 16:45:18.300 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 22.8772ms
2024-05-14 16:45:18.301 +03:00 [DBG] Connection ID "18302628891539275893" disconnecting.
2024-05-14 16:45:18.619 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/favicon.ico - null null
2024-05-14 16:45:18.620 +03:00 [DBG] No candidates found for the request path '/favicon.ico'
2024-05-14 16:45:18.620 +03:00 [DBG] Request did not match any endpoints
2024-05-14 16:45:18.620 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 16:45:18.621 +03:00 [DBG] The request path /favicon.ico does not match an existing file
2024-05-14 16:45:18.621 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/favicon.ico - 404 null null 2.1508ms
2024-05-14 16:45:18.621 +03:00 [DBG] Connection ID "18374686528526876772" disconnecting.
2024-05-14 16:45:18.622 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/favicon.ico, Response status code: 404
2024-05-14 16:48:54.752 +03:00 [INF] Application is shutting down...
2024-05-14 16:48:54.753 +03:00 [DBG] Hosting stopping
2024-05-14 16:48:54.754 +03:00 [DBG] Hosting stopped
2024-05-14 16:49:03.716 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 16:49:03.809 +03:00 [DBG] Hosting starting
2024-05-14 16:49:03.820 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 16:49:03.977 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-14 16:49:03.980 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-14 16:49:03.980 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-14 16:49:03.984 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-14 16:49:03.987 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-14 16:49:03.987 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-14 16:49:03.994 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-14 16:49:03.996 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 16:49:03.999 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-14 16:49:04.000 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 16:49:04.005 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-14 16:49:04.006 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-14 16:49:04.007 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-14 16:49:04.007 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-14 16:49:04.036 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-14 16:49:04.036 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-14 16:49:04.036 +03:00 [INF] Hosting environment: Development
2024-05-14 16:49:04.037 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-14 16:49:04.037 +03:00 [DBG] Hosting started
2024-05-14 16:49:04.057 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-14 16:49:04.061 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-14 16:49:04.109 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-14 16:49:04.109 +03:00 [DBG] Request did not match any endpoints
2024-05-14 16:49:04.144 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 16:49:04.180 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-14 16:49:04.192 +03:00 [DBG] Connection ID "18374686494167138399" disconnecting.
2024-05-14 16:49:04.193 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 404 null null 144.0617ms
2024-05-14 16:49:04.196 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/swagger, Response status code: 404
2024-05-14 16:53:26.946 +03:00 [INF] Application is shutting down...
2024-05-14 16:53:26.947 +03:00 [DBG] Hosting stopping
2024-05-14 16:53:26.948 +03:00 [DBG] Hosting stopped
2024-05-14 16:54:34.775 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 16:54:34.871 +03:00 [DBG] Hosting starting
2024-05-14 16:54:34.882 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 16:54:35.035 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-14 16:54:35.038 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-14 16:54:35.038 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-14 16:54:35.042 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-14 16:54:35.044 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-14 16:54:35.044 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-14 16:54:35.051 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-14 16:54:35.053 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 16:54:35.056 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-14 16:54:35.057 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 16:54:35.060 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-14 16:54:35.061 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-14 16:54:35.062 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-14 16:54:35.063 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-14 16:54:35.090 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-14 16:54:35.091 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-14 16:54:35.091 +03:00 [INF] Hosting environment: Development
2024-05-14 16:54:35.091 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-14 16:54:35.091 +03:00 [DBG] Hosting started
2024-05-14 16:54:35.110 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger - null null
2024-05-14 16:54:35.113 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-14 16:54:35.155 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-14 16:54:35.156 +03:00 [DBG] Request did not match any endpoints
2024-05-14 16:54:35.189 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 16:54:35.200 +03:00 [DBG] Connection ID "18158513716348321812" disconnecting.
2024-05-14 16:54:35.205 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-14 16:54:35.207 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-14 16:54:35.207 +03:00 [DBG] Request did not match any endpoints
2024-05-14 16:54:35.206 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger - 301 null null 101.5863ms
2024-05-14 16:54:35.208 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 16:54:35.326 +03:00 [DBG] Connection ID "18230571301796315239" disconnecting.
2024-05-14 16:54:35.327 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 121.4112ms
2024-05-14 16:54:35.600 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - null null
2024-05-14 16:54:35.600 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-14 16:54:35.600 +03:00 [DBG] Request did not match any endpoints
2024-05-14 16:54:35.603 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 16:54:35.603 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/swagger/v1/swagger.json - 301 null null 3.0043ms
2024-05-14 16:54:35.603 +03:00 [DBG] Connection ID "18374686515641974998" disconnecting.
2024-05-14 16:54:35.639 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-14 16:54:35.640 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-14 16:54:35.640 +03:00 [DBG] Request did not match any endpoints
2024-05-14 16:54:35.640 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 16:54:35.642 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 2.517ms
2024-05-14 16:54:35.642 +03:00 [DBG] Connection ID "18374686481282236671" disconnecting.
2024-05-14 16:54:49.569 +03:00 [INF] Application is shutting down...
2024-05-14 16:54:49.570 +03:00 [DBG] Hosting stopping
2024-05-14 16:54:49.572 +03:00 [DBG] Hosting stopped
2024-05-14 16:54:57.629 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 16:54:57.746 +03:00 [DBG] Hosting starting
2024-05-14 16:54:57.757 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 16:54:57.917 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-14 16:54:57.920 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-14 16:54:57.921 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-14 16:54:57.925 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-14 16:54:57.928 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-14 16:54:57.928 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-14 16:54:57.935 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-14 16:54:57.938 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 16:54:57.940 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-14 16:54:57.942 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 16:54:57.947 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-14 16:54:57.948 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-14 16:54:57.948 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-14 16:54:57.949 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-14 16:54:57.979 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-14 16:54:57.979 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-14 16:54:57.979 +03:00 [INF] Hosting environment: Development
2024-05-14 16:54:57.979 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-14 16:54:57.979 +03:00 [DBG] Hosting started
2024-05-14 16:54:57.998 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-14 16:54:58.001 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-14 16:54:58.047 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-14 16:54:58.048 +03:00 [DBG] Request did not match any endpoints
2024-05-14 16:54:58.083 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 16:54:58.212 +03:00 [DBG] Connection ID "18230571318976184413" disconnecting.
2024-05-14 16:54:58.214 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 220.8832ms
2024-05-14 16:54:58.523 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-14 16:54:58.524 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-14 16:54:58.524 +03:00 [DBG] Request did not match any endpoints
2024-05-14 16:54:58.525 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 16:54:58.528 +03:00 [DBG] Connection ID "18374686494167138401" disconnecting.
2024-05-14 16:54:58.529 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 5.3883ms
2024-05-14 16:55:14.763 +03:00 [INF] Application is shutting down...
2024-05-14 16:55:14.764 +03:00 [DBG] Hosting stopping
2024-05-14 16:55:14.766 +03:00 [DBG] Hosting stopped
2024-05-14 16:55:22.975 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 16:55:23.096 +03:00 [DBG] Hosting starting
2024-05-14 16:55:23.108 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 16:55:23.270 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-14 16:55:23.274 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-14 16:55:23.275 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-14 16:55:23.278 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-14 16:55:23.281 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-14 16:55:23.281 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-14 16:55:23.288 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-14 16:55:23.291 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 16:55:23.293 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-14 16:55:23.294 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 16:55:23.298 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-14 16:55:23.299 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-14 16:55:23.300 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-14 16:55:23.301 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-14 16:55:23.333 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-14 16:55:23.333 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-14 16:55:23.333 +03:00 [INF] Hosting environment: Development
2024-05-14 16:55:23.333 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-14 16:55:23.333 +03:00 [DBG] Hosting started
2024-05-14 16:55:23.350 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-14 16:55:23.353 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-14 16:55:23.396 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-14 16:55:23.397 +03:00 [DBG] Request did not match any endpoints
2024-05-14 16:55:23.429 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 16:55:23.560 +03:00 [DBG] Connection ID "18230571318976184415" disconnecting.
2024-05-14 16:55:23.563 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 216.9967ms
2024-05-14 16:55:23.879 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-14 16:55:23.880 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-14 16:55:23.881 +03:00 [DBG] Request did not match any endpoints
2024-05-14 16:55:23.882 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 16:55:23.886 +03:00 [DBG] Connection ID "18230571318976184417" disconnecting.
2024-05-14 16:55:23.886 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 6.7018ms
2024-05-14 16:55:33.425 +03:00 [INF] Application is shutting down...
2024-05-14 16:55:33.426 +03:00 [DBG] Hosting stopping
2024-05-14 16:55:33.427 +03:00 [DBG] Hosting stopped
2024-05-14 16:55:45.940 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 16:55:46.044 +03:00 [DBG] Hosting starting
2024-05-14 16:55:46.056 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 16:55:46.213 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-14 16:55:46.217 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-14 16:55:46.217 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-14 16:55:46.220 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-14 16:55:46.223 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-14 16:55:46.223 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-14 16:55:46.231 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-14 16:55:46.233 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 16:55:46.236 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-14 16:55:46.237 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 16:55:46.241 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-14 16:55:46.242 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-14 16:55:46.243 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-14 16:55:46.243 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-14 16:55:46.273 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-14 16:55:46.274 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-14 16:55:46.274 +03:00 [INF] Hosting environment: Development
2024-05-14 16:55:46.274 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-14 16:55:46.274 +03:00 [DBG] Hosting started
2024-05-14 16:55:46.291 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-14 16:55:46.294 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-14 16:55:46.342 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-14 16:55:46.342 +03:00 [DBG] Request did not match any endpoints
2024-05-14 16:55:46.378 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 16:55:46.503 +03:00 [DBG] Connection ID "18158513724938256483" disconnecting.
2024-05-14 16:55:46.505 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 218.949ms
2024-05-14 16:55:46.811 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-14 16:55:46.812 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-14 16:55:46.812 +03:00 [DBG] Request did not match any endpoints
2024-05-14 16:55:46.813 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 16:55:46.816 +03:00 [DBG] Connection ID "18158513724938256485" disconnecting.
2024-05-14 16:55:46.816 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 5.2049ms
2024-05-14 16:55:56.693 +03:00 [INF] Application is shutting down...
2024-05-14 16:55:56.693 +03:00 [DBG] Hosting stopping
2024-05-14 16:55:56.695 +03:00 [DBG] Hosting stopped
2024-05-14 16:56:30.471 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 16:56:30.582 +03:00 [DBG] Hosting starting
2024-05-14 16:56:30.595 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 16:56:30.752 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-14 16:56:30.755 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-14 16:56:30.755 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-14 16:56:30.759 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-14 16:56:30.761 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-14 16:56:30.761 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-14 16:56:30.768 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-14 16:56:30.771 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 16:56:30.773 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-14 16:56:30.774 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 16:56:30.778 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-14 16:56:30.779 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-14 16:56:30.781 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-14 16:56:30.781 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-14 16:56:30.814 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-14 16:56:30.815 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-14 16:56:30.815 +03:00 [INF] Hosting environment: Development
2024-05-14 16:56:30.815 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-14 16:56:30.815 +03:00 [DBG] Hosting started
2024-05-14 16:56:30.832 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-14 16:56:30.834 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-14 16:56:30.878 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-14 16:56:30.879 +03:00 [DBG] Request did not match any endpoints
2024-05-14 16:56:30.914 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 16:56:31.040 +03:00 [DBG] Connection ID "18374686528526876774" disconnecting.
2024-05-14 16:56:31.042 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 214.9259ms
2024-05-14 16:56:31.377 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-14 16:56:31.379 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-14 16:56:31.379 +03:00 [DBG] Request did not match any endpoints
2024-05-14 16:56:31.380 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 16:56:31.383 +03:00 [DBG] Connection ID "18302628930193981517" disconnecting.
2024-05-14 16:56:31.384 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 6.4457ms
2024-05-14 16:56:43.046 +03:00 [INF] Application is shutting down...
2024-05-14 16:56:43.047 +03:00 [DBG] Hosting stopping
2024-05-14 16:56:43.048 +03:00 [DBG] Hosting stopped
2024-05-14 16:56:51.449 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 16:56:51.546 +03:00 [DBG] Hosting starting
2024-05-14 16:56:51.557 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 16:56:51.701 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-14 16:56:51.705 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-14 16:56:51.705 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-14 16:56:51.709 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-14 16:56:51.711 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-14 16:56:51.712 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-14 16:56:51.718 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-14 16:56:51.720 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 16:56:51.722 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-14 16:56:51.723 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 16:56:51.728 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-14 16:56:51.729 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-14 16:56:51.729 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-14 16:56:51.730 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-14 16:56:51.758 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-14 16:56:51.759 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-14 16:56:51.759 +03:00 [INF] Hosting environment: Development
2024-05-14 16:56:51.759 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-14 16:56:51.759 +03:00 [DBG] Hosting started
2024-05-14 16:56:51.775 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-14 16:56:51.778 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-14 16:56:51.819 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-14 16:56:51.820 +03:00 [DBG] Request did not match any endpoints
2024-05-14 16:56:51.854 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 16:56:51.975 +03:00 [DBG] Connection ID "18374686481282236673" disconnecting.
2024-05-14 16:56:51.977 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 206.3823ms
2024-05-14 16:56:52.281 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-14 16:56:52.283 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-14 16:56:52.283 +03:00 [DBG] Request did not match any endpoints
2024-05-14 16:56:52.284 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 16:56:52.287 +03:00 [DBG] Connection ID "18158513716348321814" disconnecting.
2024-05-14 16:56:52.287 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 5.8042ms
2024-05-14 16:56:58.720 +03:00 [INF] Application is shutting down...
2024-05-14 16:56:58.721 +03:00 [DBG] Hosting stopping
2024-05-14 16:56:58.722 +03:00 [DBG] Hosting stopped
2024-05-14 16:57:06.087 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 16:57:06.203 +03:00 [DBG] Hosting starting
2024-05-14 16:57:06.214 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 16:57:06.361 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-14 16:57:06.365 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-14 16:57:06.365 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-14 16:57:06.369 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-14 16:57:06.371 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-14 16:57:06.372 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-14 16:57:06.378 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-14 16:57:06.381 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 16:57:06.384 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-14 16:57:06.385 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 16:57:06.390 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-14 16:57:06.391 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-14 16:57:06.391 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-14 16:57:06.392 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-14 16:57:06.423 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-14 16:57:06.423 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-14 16:57:06.423 +03:00 [INF] Hosting environment: Development
2024-05-14 16:57:06.423 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-14 16:57:06.424 +03:00 [DBG] Hosting started
2024-05-14 16:57:06.442 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-14 16:57:06.444 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-14 16:57:06.491 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-14 16:57:06.492 +03:00 [DBG] Request did not match any endpoints
2024-05-14 16:57:06.526 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 16:57:06.561 +03:00 [DBG] The request path  does not match the path filter
2024-05-14 16:57:06.573 +03:00 [DBG] Connection ID "18302628930193981519" disconnecting.
2024-05-14 16:57:06.574 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 404 null null 137.9456ms
2024-05-14 16:57:06.577 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:44308/index.html, Response status code: 404
2024-05-14 16:57:11.489 +03:00 [INF] Application is shutting down...
2024-05-14 16:57:11.491 +03:00 [DBG] Hosting stopping
2024-05-14 16:57:11.493 +03:00 [DBG] Hosting stopped
2024-05-14 16:58:03.334 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 16:58:03.437 +03:00 [DBG] Hosting starting
2024-05-14 16:58:03.447 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 16:58:03.613 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-14 16:58:03.617 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-14 16:58:03.618 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-14 16:58:03.623 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-14 16:58:03.627 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-14 16:58:03.627 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-14 16:58:03.636 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-14 16:58:03.639 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 16:58:03.642 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-14 16:58:03.643 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 16:58:03.647 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-14 16:58:03.648 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-14 16:58:03.649 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-14 16:58:03.649 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-14 16:58:03.681 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-14 16:58:03.681 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-14 16:58:03.681 +03:00 [INF] Hosting environment: Development
2024-05-14 16:58:03.681 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-14 16:58:03.681 +03:00 [DBG] Hosting started
2024-05-14 16:58:03.704 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-14 16:58:03.706 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-14 16:58:03.751 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-14 16:58:03.752 +03:00 [DBG] Request did not match any endpoints
2024-05-14 16:58:03.787 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 16:58:03.918 +03:00 [DBG] Connection ID "18374686515641975002" disconnecting.
2024-05-14 16:58:03.919 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 220.7423ms
2024-05-14 16:58:04.238 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-14 16:58:04.239 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-14 16:58:04.239 +03:00 [DBG] Request did not match any endpoints
2024-05-14 16:58:04.241 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 16:58:04.244 +03:00 [DBG] Connection ID "18302628917309079653" disconnecting.
2024-05-14 16:58:04.244 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 6.4525ms
2024-05-14 16:58:21.236 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-14 16:58:21.236 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-14 16:58:21.236 +03:00 [DBG] Request did not match any endpoints
2024-05-14 16:58:21.239 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 16:58:21.241 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 4.9723ms
2024-05-14 16:58:21.241 +03:00 [DBG] Connection ID "18374686485577203761" disconnecting.
2024-05-14 16:58:21.517 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-14 16:58:21.517 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-14 16:58:21.517 +03:00 [DBG] Request did not match any endpoints
2024-05-14 16:58:21.518 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 16:58:21.519 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 2.1325ms
2024-05-14 16:58:21.519 +03:00 [DBG] Connection ID "18230571301796315241" disconnecting.
2024-05-14 16:59:12.777 +03:00 [INF] Application is shutting down...
2024-05-14 16:59:12.779 +03:00 [DBG] Hosting stopping
2024-05-14 16:59:12.780 +03:00 [DBG] Hosting stopped
2024-05-14 16:59:22.054 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 16:59:22.166 +03:00 [DBG] Hosting starting
2024-05-14 16:59:22.177 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 16:59:22.339 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-14 16:59:22.344 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-14 16:59:22.344 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-14 16:59:22.348 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-14 16:59:22.350 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-14 16:59:22.350 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-14 16:59:22.357 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-14 16:59:22.359 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 16:59:22.362 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-14 16:59:22.363 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 16:59:22.367 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-14 16:59:22.368 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-14 16:59:22.369 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-14 16:59:22.369 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-14 16:59:22.399 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-14 16:59:22.399 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-14 16:59:22.399 +03:00 [INF] Hosting environment: Development
2024-05-14 16:59:22.399 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-14 16:59:22.399 +03:00 [DBG] Hosting started
2024-05-14 16:59:22.418 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-14 16:59:22.420 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-14 16:59:22.468 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-14 16:59:22.468 +03:00 [DBG] Request did not match any endpoints
2024-05-14 16:59:22.505 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 16:59:22.628 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-14 16:59:22.629 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-14 16:59:22.629 +03:00 [DBG] Request did not match any endpoints
2024-05-14 16:59:22.631 +03:00 [DBG] Connection ID "18374686515641975004" disconnecting.
2024-05-14 16:59:22.631 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 16:59:22.634 +03:00 [DBG] Connection ID "18374686481282236675" disconnecting.
2024-05-14 16:59:22.633 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 220.0069ms
2024-05-14 16:59:22.634 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 5.9808ms
2024-05-14 16:59:23.015 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-14 16:59:23.016 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-14 16:59:23.016 +03:00 [DBG] Request did not match any endpoints
2024-05-14 16:59:23.018 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 16:59:23.019 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 3.6726ms
2024-05-14 16:59:23.019 +03:00 [DBG] Connection ID "18302628930193981521" disconnecting.
2024-05-14 16:59:23.059 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-14 16:59:23.060 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-14 16:59:23.060 +03:00 [DBG] Request did not match any endpoints
2024-05-14 16:59:23.060 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 16:59:23.061 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 1.2726ms
2024-05-14 16:59:23.061 +03:00 [DBG] Connection ID "18158513716348321816" disconnecting.
2024-05-14 16:59:32.196 +03:00 [INF] Application is shutting down...
2024-05-14 16:59:32.197 +03:00 [DBG] Hosting stopping
2024-05-14 16:59:32.199 +03:00 [DBG] Hosting stopped
2024-05-14 16:59:43.299 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 16:59:43.396 +03:00 [DBG] Hosting starting
2024-05-14 16:59:43.409 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 16:59:43.546 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-14 16:59:43.550 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-14 16:59:43.551 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-14 16:59:43.556 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-14 16:59:43.560 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-14 16:59:43.561 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-14 16:59:43.568 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-14 16:59:43.572 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 16:59:43.576 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-14 16:59:43.578 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 16:59:43.583 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-14 16:59:43.585 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-14 16:59:43.587 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-14 16:59:43.589 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-14 16:59:43.640 +03:00 [INF] Now listening on: http://localhost:5268
2024-05-14 16:59:43.641 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-14 16:59:43.642 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-14 16:59:43.643 +03:00 [INF] Hosting environment: Development
2024-05-14 16:59:43.644 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-14 16:59:43.644 +03:00 [DBG] Hosting started
2024-05-14 16:59:43.763 +03:00 [DBG] Connection id "0HN3K3ODMMTP8" received FIN.
2024-05-14 16:59:43.768 +03:00 [DBG] Connection id "0HN3K3ODMMTP8" accepted.
2024-05-14 16:59:43.770 +03:00 [DBG] Connection id "0HN3K3ODMMTP8" started.
2024-05-14 16:59:43.776 +03:00 [DBG] Connection id "0HN3K3ODMMTP8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 16:59:43.780 +03:00 [DBG] Connection id "0HN3K3ODMMTP8" disconnecting.
2024-05-14 16:59:43.783 +03:00 [DBG] Connection id "0HN3K3ODMMTP8" stopped.
2024-05-14 16:59:44.196 +03:00 [DBG] Connection id "0HN3K3ODMMTP9" accepted.
2024-05-14 16:59:44.198 +03:00 [DBG] Connection id "0HN3K3ODMMTP9" started.
2024-05-14 16:59:44.198 +03:00 [DBG] Connection id "0HN3K3ODMMTPA" accepted.
2024-05-14 16:59:44.200 +03:00 [DBG] Connection id "0HN3K3ODMMTPA" started.
2024-05-14 16:59:44.308 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/swagger - null null
2024-05-14 16:59:44.311 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-14 16:59:44.358 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-14 16:59:44.360 +03:00 [DBG] Request did not match any endpoints
2024-05-14 16:59:44.394 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 16:59:44.426 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-14 16:59:44.428 +03:00 [WRN] Failed to determine the https port for redirect.
2024-05-14 16:59:44.432 +03:00 [DBG] Connection id "0HN3K3ODMMTP9" completed keep alive response.
2024-05-14 16:59:44.435 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/swagger - 404 0 null 131.4176ms
2024-05-14 16:59:44.440 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5268/swagger, Response status code: 404
2024-05-14 16:59:47.169 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/ - null null
2024-05-14 16:59:47.172 +03:00 [DBG] No candidates found for the request path '/'
2024-05-14 16:59:47.173 +03:00 [DBG] Request did not match any endpoints
2024-05-14 16:59:47.175 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 16:59:47.180 +03:00 [DBG] Connection id "0HN3K3ODMMTP9" completed keep alive response.
2024-05-14 16:59:47.182 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/ - 301 0 null 13.6011ms
2024-05-14 16:59:47.186 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/index.html - null null
2024-05-14 16:59:47.189 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-14 16:59:47.190 +03:00 [DBG] Request did not match any endpoints
2024-05-14 16:59:47.193 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 16:59:47.272 +03:00 [DBG] Connection id "0HN3K3ODMMTP9" completed keep alive response.
2024-05-14 16:59:47.273 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/index.html - 200 null text/html;charset=utf-8 86.8466ms
2024-05-14 16:59:47.440 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/swagger-ui.css - null null
2024-05-14 16:59:47.440 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/swagger-ui-bundle.js - null null
2024-05-14 16:59:47.441 +03:00 [DBG] Connection id "0HN3K3ODMMTPB" accepted.
2024-05-14 16:59:47.443 +03:00 [DBG] No candidates found for the request path '/swagger-ui.css'
2024-05-14 16:59:47.446 +03:00 [DBG] No candidates found for the request path '/swagger-ui-bundle.js'
2024-05-14 16:59:47.447 +03:00 [DBG] Connection id "0HN3K3ODMMTPB" started.
2024-05-14 16:59:47.448 +03:00 [DBG] Request did not match any endpoints
2024-05-14 16:59:47.449 +03:00 [DBG] Request did not match any endpoints
2024-05-14 16:59:47.450 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/swagger-ui-standalone-preset.js - null null
2024-05-14 16:59:47.451 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 16:59:47.452 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 16:59:47.454 +03:00 [DBG] No candidates found for the request path '/swagger-ui-standalone-preset.js'
2024-05-14 16:59:47.457 +03:00 [DBG] Request did not match any endpoints
2024-05-14 16:59:47.458 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 16:59:47.482 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-05-14 16:59:47.484 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-05-14 16:59:47.491 +03:00 [DBG] Connection id "0HN3K3ODMMTP9" completed keep alive response.
2024-05-14 16:59:47.491 +03:00 [DBG] Connection id "0HN3K3ODMMTPB" completed keep alive response.
2024-05-14 16:59:47.493 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/swagger-ui.css - 200 143943 text/css 52.812ms
2024-05-14 16:59:47.494 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/swagger-ui-standalone-preset.js - 200 339486 text/javascript 44.0814ms
2024-05-14 16:59:47.500 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-05-14 16:59:47.502 +03:00 [DBG] Connection id "0HN3K3ODMMTPA" completed keep alive response.
2024-05-14 16:59:47.504 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/swagger-ui-bundle.js - 200 1096145 text/javascript 63.2518ms
2024-05-14 16:59:47.704 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/swagger/v1/swagger.json - null null
2024-05-14 16:59:47.706 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-14 16:59:47.707 +03:00 [DBG] Request did not match any endpoints
2024-05-14 16:59:47.708 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 16:59:47.719 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/favicon-32x32.png - null null
2024-05-14 16:59:47.721 +03:00 [DBG] No candidates found for the request path '/favicon-32x32.png'
2024-05-14 16:59:47.722 +03:00 [DBG] Request did not match any endpoints
2024-05-14 16:59:47.723 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 16:59:47.725 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-05-14 16:59:47.726 +03:00 [DBG] Connection id "0HN3K3ODMMTPB" completed keep alive response.
2024-05-14 16:59:47.727 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/favicon-32x32.png - 200 628 image/png 8.9171ms
2024-05-14 16:59:47.881 +03:00 [DBG] Connection id "0HN3K3ODMMTPA" completed keep alive response.
2024-05-14 16:59:47.882 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 177.7184ms
2024-05-14 16:59:50.694 +03:00 [INF] Application is shutting down...
2024-05-14 16:59:50.695 +03:00 [DBG] Hosting stopping
2024-05-14 16:59:50.702 +03:00 [DBG] Connection id "0HN3K3ODMMTPA" disconnecting.
2024-05-14 16:59:50.702 +03:00 [DBG] Connection id "0HN3K3ODMMTPB" disconnecting.
2024-05-14 16:59:50.702 +03:00 [DBG] Connection id "0HN3K3ODMMTP9" disconnecting.
2024-05-14 16:59:50.704 +03:00 [DBG] Connection id "0HN3K3ODMMTPA" stopped.
2024-05-14 16:59:50.704 +03:00 [DBG] Connection id "0HN3K3ODMMTPB" stopped.
2024-05-14 16:59:50.705 +03:00 [DBG] Connection id "0HN3K3ODMMTP9" stopped.
2024-05-14 16:59:50.705 +03:00 [DBG] Connection id "0HN3K3ODMMTPA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 16:59:50.706 +03:00 [DBG] Connection id "0HN3K3ODMMTPB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 16:59:50.707 +03:00 [DBG] Connection id "0HN3K3ODMMTP9" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 16:59:50.714 +03:00 [DBG] Hosting stopped
2024-05-14 16:59:58.018 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 16:59:58.126 +03:00 [DBG] Hosting starting
2024-05-14 16:59:58.142 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 16:59:58.297 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-14 16:59:58.300 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-14 16:59:58.302 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-14 16:59:58.306 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-14 16:59:58.310 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-14 16:59:58.310 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-14 16:59:58.318 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-14 16:59:58.322 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 16:59:58.326 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-14 16:59:58.327 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 16:59:58.332 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-14 16:59:58.335 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-14 16:59:58.337 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-14 16:59:58.338 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-14 16:59:58.427 +03:00 [INF] Now listening on: https://localhost:7021
2024-05-14 16:59:58.428 +03:00 [INF] Now listening on: http://localhost:5268
2024-05-14 16:59:58.429 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-14 16:59:58.430 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-14 16:59:58.431 +03:00 [INF] Hosting environment: Development
2024-05-14 16:59:58.432 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-14 16:59:58.432 +03:00 [DBG] Hosting started
2024-05-14 16:59:58.477 +03:00 [DBG] Connection id "0HN3K3OI314FT" received FIN.
2024-05-14 16:59:58.483 +03:00 [DBG] Connection id "0HN3K3OI314FT" accepted.
2024-05-14 16:59:58.485 +03:00 [DBG] Connection id "0HN3K3OI314FT" started.
2024-05-14 16:59:58.497 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-14 16:59:58.516 +03:00 [DBG] Connection id "0HN3K3OI314FT" stopped.
2024-05-14 16:59:58.519 +03:00 [DBG] Connection id "0HN3K3OI314FT" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 16:59:58.884 +03:00 [DBG] Connection id "0HN3K3OI314FU" accepted.
2024-05-14 16:59:58.886 +03:00 [DBG] Connection id "0HN3K3OI314FU" started.
2024-05-14 16:59:58.886 +03:00 [DBG] Connection id "0HN3K3OI314FV" accepted.
2024-05-14 16:59:58.888 +03:00 [DBG] Connection id "0HN3K3OI314FV" started.
2024-05-14 16:59:58.987 +03:00 [DBG] Connection id "0HN3K3OI314FU" received FIN.
2024-05-14 16:59:58.997 +03:00 [DBG] Connection 0HN3K3OI314FV established using the following protocol: "Tls12"
2024-05-14 16:59:58.997 +03:00 [DBG] Connection 0HN3K3OI314FU established using the following protocol: "Tls12"
2024-05-14 16:59:59.012 +03:00 [DBG] Connection id "0HN3K3OI314FU" is closed. The last processed stream ID was 0.
2024-05-14 16:59:59.014 +03:00 [DBG] Connection id "0HN3K3OI314FU" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 16:59:59.017 +03:00 [DBG] The connection queue processing loop for 0HN3K3OI314FU completed.
2024-05-14 16:59:59.019 +03:00 [DBG] Connection id "0HN3K3OI314FU" stopped.
2024-05-14 16:59:59.041 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger - null null
2024-05-14 16:59:59.046 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-14 16:59:59.099 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-14 16:59:59.100 +03:00 [DBG] Request did not match any endpoints
2024-05-14 16:59:59.138 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 16:59:59.175 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-14 16:59:59.179 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger - 404 0 null 144.1963ms
2024-05-14 16:59:59.183 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7021/swagger, Response status code: 404
2024-05-14 17:00:00.895 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/ - null null
2024-05-14 17:00:00.898 +03:00 [DBG] No candidates found for the request path '/'
2024-05-14 17:00:00.899 +03:00 [DBG] Request did not match any endpoints
2024-05-14 17:00:00.902 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 17:00:00.906 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/ - 301 0 null 11.4427ms
2024-05-14 17:00:00.911 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/index.html - null null
2024-05-14 17:00:00.915 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-14 17:00:00.916 +03:00 [DBG] Request did not match any endpoints
2024-05-14 17:00:00.919 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 17:00:01.011 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/index.html - 200 null text/html;charset=utf-8 99.9403ms
2024-05-14 17:00:01.131 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger-ui.css - null null
2024-05-14 17:00:01.131 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger-ui-bundle.js - null null
2024-05-14 17:00:01.131 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger-ui-standalone-preset.js - null null
2024-05-14 17:00:01.133 +03:00 [DBG] No candidates found for the request path '/swagger-ui.css'
2024-05-14 17:00:01.135 +03:00 [DBG] No candidates found for the request path '/swagger-ui-bundle.js'
2024-05-14 17:00:01.137 +03:00 [DBG] No candidates found for the request path '/swagger-ui-standalone-preset.js'
2024-05-14 17:00:01.138 +03:00 [DBG] Request did not match any endpoints
2024-05-14 17:00:01.139 +03:00 [DBG] Request did not match any endpoints
2024-05-14 17:00:01.139 +03:00 [DBG] Request did not match any endpoints
2024-05-14 17:00:01.140 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 17:00:01.141 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 17:00:01.142 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 17:00:01.155 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-05-14 17:00:01.158 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger-ui.css - 200 143943 text/css 27.0817ms
2024-05-14 17:00:01.162 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-05-14 17:00:01.165 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger-ui-standalone-preset.js - 200 339486 text/javascript 34.3469ms
2024-05-14 17:00:01.172 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-05-14 17:00:01.175 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger-ui-bundle.js - 200 1096145 text/javascript 43.7718ms
2024-05-14 17:00:01.425 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger/v1/swagger.json - null null
2024-05-14 17:00:01.428 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-14 17:00:01.429 +03:00 [DBG] Request did not match any endpoints
2024-05-14 17:00:01.430 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 17:00:01.456 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/favicon-32x32.png - null null
2024-05-14 17:00:01.459 +03:00 [DBG] No candidates found for the request path '/favicon-32x32.png'
2024-05-14 17:00:01.460 +03:00 [DBG] Request did not match any endpoints
2024-05-14 17:00:01.461 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 17:00:01.462 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-05-14 17:00:01.463 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/favicon-32x32.png - 200 628 image/png 7.0089ms
2024-05-14 17:00:01.597 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 171.9624ms
2024-05-14 17:00:04.235 +03:00 [INF] Application is shutting down...
2024-05-14 17:00:04.236 +03:00 [DBG] Hosting stopping
2024-05-14 17:00:04.243 +03:00 [DBG] Connection id "0HN3K3OI314FV" is closing.
2024-05-14 17:00:04.244 +03:00 [DBG] Connection id "0HN3K3OI314FV" is closed. The last processed stream ID was 15.
2024-05-14 17:00:04.245 +03:00 [DBG] Connection id "0HN3K3OI314FV" received FIN.
2024-05-14 17:00:04.246 +03:00 [DBG] The connection queue processing loop for 0HN3K3OI314FV completed.
2024-05-14 17:00:04.246 +03:00 [DBG] Connection id "0HN3K3OI314FV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 17:00:04.256 +03:00 [DBG] Connection id "0HN3K3OI314FV" stopped.
2024-05-14 17:00:04.262 +03:00 [DBG] Hosting stopped
2024-05-14 18:48:54.939 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 18:48:55.065 +03:00 [DBG] Hosting starting
2024-05-14 18:48:55.081 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 18:49:50.224 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 18:49:50.327 +03:00 [DBG] Hosting starting
2024-05-14 18:49:50.339 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 18:51:20.419 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 18:51:20.522 +03:00 [DBG] Hosting starting
2024-05-14 18:51:20.533 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 18:51:20.696 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-14 18:51:20.700 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-14 18:51:20.700 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-14 18:51:20.704 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-14 18:51:20.706 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-14 18:51:20.707 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-14 18:51:20.713 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-14 18:51:20.716 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 18:51:20.719 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-14 18:51:20.720 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 18:51:20.724 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-14 18:51:20.725 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-14 18:51:20.725 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-14 18:51:20.726 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-14 18:51:20.760 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-14 18:51:20.760 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-14 18:51:20.760 +03:00 [INF] Hosting environment: Development
2024-05-14 18:51:20.760 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-14 18:51:20.760 +03:00 [DBG] Hosting started
2024-05-14 18:51:20.778 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-14 18:51:20.780 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-14 18:51:20.823 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-14 18:51:20.823 +03:00 [DBG] Request did not match any endpoints
2024-05-14 18:51:20.857 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 18:51:20.993 +03:00 [DBG] Connection ID "18230571318976184420" disconnecting.
2024-05-14 18:51:20.995 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 222.179ms
2024-05-14 18:51:21.291 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-14 18:51:21.292 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-14 18:51:21.292 +03:00 [DBG] Request did not match any endpoints
2024-05-14 18:51:21.294 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 18:51:21.297 +03:00 [DBG] Connection ID "18158513716348321820" disconnecting.
2024-05-14 18:51:21.297 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 5.9298ms
2024-05-14 18:53:38.561 +03:00 [INF] Application is shutting down...
2024-05-14 18:53:38.562 +03:00 [DBG] Hosting stopping
2024-05-14 18:53:38.563 +03:00 [DBG] Hosting stopped
2024-05-14 18:53:50.125 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 18:53:50.215 +03:00 [DBG] Hosting starting
2024-05-14 18:53:50.226 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 18:53:50.372 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-14 18:53:50.375 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-14 18:53:50.376 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-14 18:53:50.380 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-14 18:53:50.383 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-14 18:53:50.383 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-14 18:53:50.390 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-14 18:53:50.392 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 18:53:50.395 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-14 18:53:50.396 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 18:53:50.400 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-14 18:53:50.401 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-14 18:53:50.402 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-14 18:53:50.402 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-14 18:53:50.432 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-14 18:53:50.433 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-14 18:53:50.433 +03:00 [INF] Hosting environment: Development
2024-05-14 18:53:50.433 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-14 18:53:50.433 +03:00 [DBG] Hosting started
2024-05-14 18:53:50.450 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-14 18:53:50.452 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-14 18:53:50.472 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The constraint reference 'apiVersion' could not be resolved to a type. Register the constraint type with 'Microsoft.AspNetCore.Routing.RouteOptions.ConstraintMap'.
   at Microsoft.AspNetCore.Routing.DefaultParameterPolicyFactory.Create(RoutePatternParameterPart parameter, String inlineText)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.CachingParameterPolicyFactory.Create(RoutePatternParameterPart parameter, String inlineText)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.CreateCandidate(Endpoint endpoint, Int32 score)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.CreateCandidates(IReadOnlyList`1 endpoints)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.AddNode(DfaNode node, DfaState[] states, Int32 exitDestination)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherBuilder.Build()
   at Microsoft.AspNetCore.Routing.Matching.DataSourceDependentMatcher.CreateMatcher(IReadOnlyList`1 endpoints)
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.Initialize()
   at System.Threading.LazyInitializer.EnsureInitializedCore[T](T& target, Boolean& initialized, Object& syncLock, Func`1 valueFactory)
   at Microsoft.AspNetCore.Routing.Matching.DataSourceDependentMatcher..ctor(EndpointDataSource dataSource, Lifetime lifetime, Func`1 matcherBuilderFactory)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherFactory.CreateMatcher(EndpointDataSource dataSource)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.InitializeCoreAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.<Invoke>g__AwaitMatcher|10_0(EndpointRoutingMiddleware middleware, HttpContext httpContext, Task`1 matcherTask)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-14 18:53:50.520 +03:00 [DBG] Connection ID "18374686519936942186" disconnecting.
2024-05-14 18:53:50.520 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 500 null text/html; charset=utf-8 75.226ms
2024-05-14 18:53:56.880 +03:00 [INF] Application is shutting down...
2024-05-14 18:53:56.880 +03:00 [DBG] Hosting stopping
2024-05-14 18:53:56.882 +03:00 [DBG] Hosting stopped
2024-05-14 18:54:13.032 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 18:54:13.145 +03:00 [DBG] Hosting starting
2024-05-14 18:54:13.157 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 18:54:13.323 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-14 18:54:13.326 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-14 18:54:13.327 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-14 18:54:13.331 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-14 18:54:13.333 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-14 18:54:13.334 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-14 18:54:13.341 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-14 18:54:13.344 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 18:54:13.347 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-14 18:54:13.348 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 18:54:13.352 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-14 18:54:13.353 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-14 18:54:13.354 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-14 18:54:13.355 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-14 18:54:13.387 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-14 18:54:13.387 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-14 18:54:13.388 +03:00 [INF] Hosting environment: Development
2024-05-14 18:54:13.388 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-14 18:54:13.388 +03:00 [DBG] Hosting started
2024-05-14 18:54:13.407 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-14 18:54:13.410 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-14 18:54:13.456 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-14 18:54:13.456 +03:00 [DBG] Request did not match any endpoints
2024-05-14 18:54:13.546 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 18:54:13.703 +03:00 [DBG] Connection ID "18230571323271151686" disconnecting.
2024-05-14 18:54:13.705 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 303.1023ms
2024-05-14 18:54:14.015 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-14 18:54:14.016 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-14 18:54:14.016 +03:00 [DBG] Request did not match any endpoints
2024-05-14 18:54:14.017 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 18:54:14.020 +03:00 [DBG] Connection ID "18374686481282236680" disconnecting.
2024-05-14 18:54:14.020 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 5.5896ms
2024-05-14 18:54:34.751 +03:00 [INF] Application is shutting down...
2024-05-14 18:54:34.752 +03:00 [DBG] Hosting stopping
2024-05-14 18:54:34.753 +03:00 [DBG] Hosting stopped
2024-05-14 18:55:06.405 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 18:55:08.059 +03:00 [DBG] Hosting starting
2024-05-14 18:55:08.107 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 18:55:08.341 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-14 18:55:08.348 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-14 18:55:08.348 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-14 18:55:08.353 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-14 18:55:08.357 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-14 18:55:08.357 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-14 18:55:08.364 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-14 18:55:08.368 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 18:55:08.371 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-14 18:55:08.372 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 18:55:08.376 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-14 18:55:08.377 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-14 18:55:08.378 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-14 18:55:08.379 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-14 18:55:08.461 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-14 18:55:08.462 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-14 18:55:08.462 +03:00 [INF] Hosting environment: Development
2024-05-14 18:55:08.462 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-14 18:55:08.463 +03:00 [DBG] Hosting started
2024-05-14 18:55:08.520 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-14 18:55:08.523 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-14 18:55:08.591 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-14 18:55:08.592 +03:00 [DBG] Request did not match any endpoints
2024-05-14 18:55:08.734 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 18:55:08.892 +03:00 [DBG] Connection ID "18374686494167138406" disconnecting.
2024-05-14 18:55:08.894 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 380.5487ms
2024-05-14 18:55:09.239 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-14 18:55:09.240 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-14 18:55:09.240 +03:00 [DBG] Request did not match any endpoints
2024-05-14 18:55:09.241 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 18:55:09.259 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 20.7864ms
2024-05-14 18:56:45.661 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 18:56:45.772 +03:00 [DBG] Hosting starting
2024-05-14 18:56:45.789 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 18:56:45.940 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-14 18:56:45.945 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-14 18:56:45.946 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-14 18:56:45.951 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-14 18:56:45.954 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-14 18:56:45.955 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-14 18:56:45.962 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-14 18:56:45.965 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 18:56:45.969 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-14 18:56:45.971 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 18:56:45.976 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-14 18:56:45.977 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-14 18:56:45.979 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-14 18:56:45.980 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-14 18:56:46.032 +03:00 [INF] Now listening on: http://localhost:5268
2024-05-14 18:56:46.033 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-14 18:56:46.034 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-14 18:56:46.035 +03:00 [INF] Hosting environment: Development
2024-05-14 18:56:46.036 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-14 18:56:46.036 +03:00 [DBG] Hosting started
2024-05-14 18:56:46.054 +03:00 [DBG] Connection id "0HN3K5PQGFVJF" received FIN.
2024-05-14 18:56:46.061 +03:00 [DBG] Connection id "0HN3K5PQGFVJF" accepted.
2024-05-14 18:56:46.063 +03:00 [DBG] Connection id "0HN3K5PQGFVJF" started.
2024-05-14 18:56:46.069 +03:00 [DBG] Connection id "0HN3K5PQGFVJF" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 18:56:46.073 +03:00 [DBG] Connection id "0HN3K5PQGFVJF" disconnecting.
2024-05-14 18:56:46.077 +03:00 [DBG] Connection id "0HN3K5PQGFVJF" stopped.
2024-05-14 18:56:46.285 +03:00 [DBG] Connection id "0HN3K5PQGFVJG" accepted.
2024-05-14 18:56:46.286 +03:00 [DBG] Connection id "0HN3K5PQGFVJG" started.
2024-05-14 18:56:46.286 +03:00 [DBG] Connection id "0HN3K5PQGFVJH" accepted.
2024-05-14 18:56:46.288 +03:00 [DBG] Connection id "0HN3K5PQGFVJH" started.
2024-05-14 18:56:46.421 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/swagger - null null
2024-05-14 18:56:46.424 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-14 18:56:46.471 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-14 18:56:46.473 +03:00 [DBG] Request did not match any endpoints
2024-05-14 18:56:46.507 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 18:56:46.539 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-14 18:56:46.541 +03:00 [WRN] Failed to determine the https port for redirect.
2024-05-14 18:56:46.543 +03:00 [DBG] Connection id "0HN3K5PQGFVJG" completed keep alive response.
2024-05-14 18:56:46.545 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/swagger - 404 0 null 128.9065ms
2024-05-14 18:56:46.550 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5268/swagger, Response status code: 404
2024-05-14 18:56:49.593 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/index.html - null null
2024-05-14 18:56:49.597 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-14 18:56:49.599 +03:00 [DBG] Request did not match any endpoints
2024-05-14 18:56:49.601 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 18:56:49.688 +03:00 [DBG] Connection id "0HN3K5PQGFVJG" completed keep alive response.
2024-05-14 18:56:49.689 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/index.html - 200 null text/html;charset=utf-8 96.9215ms
2024-05-14 18:56:50.213 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/swagger/v1/swagger.json - null null
2024-05-14 18:56:50.216 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-14 18:56:50.217 +03:00 [DBG] Request did not match any endpoints
2024-05-14 18:56:50.221 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 18:56:50.400 +03:00 [DBG] Connection id "0HN3K5PQGFVJG" completed keep alive response.
2024-05-14 18:56:50.401 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 188.0339ms
2024-05-14 18:56:57.552 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/reports/1?api-version=1 - null null
2024-05-14 18:56:57.576 +03:00 [DBG] 1 candidate(s) found for the request path '/reports/1'
2024-05-14 18:56:57.581 +03:00 [DBG] Endpoint 'Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api)' with route pattern 'reports/{userId:long}' is valid for the request path '/reports/1'
2024-05-14 18:56:57.588 +03:00 [DBG] Request matched endpoint 'Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api)'
2024-05-14 18:56:57.590 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 18:56:57.591 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-14 18:56:57.594 +03:00 [INF] Executing endpoint 'Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api)'
2024-05-14 18:56:57.623 +03:00 [INF] Route matched with {action = "GetReports", controller = "Report"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Diary.Domain.Result.CollectionResult`1[Diary.Domain.Dto.ReportDto.ReportDto]]] GetReportsAsync(Int64) on controller Diary.Api.Controllers.ReportController (Diary.Api).
2024-05-14 18:56:57.626 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-14 18:56:57.627 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-14 18:56:57.629 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-14 18:56:57.630 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-14 18:56:57.632 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-14 18:56:57.635 +03:00 [DBG] Executing controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-14 18:56:57.845 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-14 18:56:58.587 +03:00 [DBG] The index {'RoleId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'RoleId', 'UserId'}.
2024-05-14 18:56:59.045 +03:00 [DBG] Entity Framework Core 9.0.0-preview.3.24172.4 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:9.0.0-preview.3+f38a96ceef14e36b11db9bf0111617b30f06c3bb' with options: None
2024-05-14 18:56:59.067 +03:00 [DBG] Creating DbConnection.
2024-05-14 18:56:59.115 +03:00 [DBG] Created DbConnection. (45ms).
2024-05-14 18:56:59.124 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 18:56:59.281 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 18:56:59.289 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 18:56:59.304 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (9ms).
2024-05-14 18:56:59.316 +03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-05-14 18:56:59.325 +03:00 [DBG] Created DbCommand for 'ExecuteScalar' (5ms).
2024-05-14 18:56:59.328 +03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (13ms).
2024-05-14 18:56:59.329 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 18:56:59.358 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 18:56:59.368 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-14 18:56:59.470 +03:00 [INF] Executed DbCommand (104ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-05-14 18:56:59.475 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 18:56:59.479 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (4ms).
2024-05-14 18:56:59.612 +03:00 [DBG] Executed controller factory for controller Diary.Api.Controllers.ReportController (Diary.Api)
2024-05-14 18:56:59.616 +03:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int64' ...
2024-05-14 18:56:59.619 +03:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int64' using the name 'userId' in request data ...
2024-05-14 18:56:59.620 +03:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int64'.
2024-05-14 18:56:59.621 +03:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int64'.
2024-05-14 18:56:59.623 +03:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Int64' ...
2024-05-14 18:56:59.625 +03:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Int64'.
2024-05-14 18:56:59.632 +03:00 [INF] Executing action method Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api) - Validation state: "Valid"
2024-05-14 18:56:59.716 +03:00 [DBG] Compiling query expression: 
'DbSet<Report>()
    .Where(x => x.UserId == __userId_0)
    .Select(x => new ReportDto(
        x.Id, 
        x.Name, 
        x.Description, 
        x.CreatedAt.ToLongDateString()
    ))'
2024-05-14 18:57:00.023 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ReportDto>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
        SELECT r.Id, r.Name, r.Description, r.CreatedAt
        FROM Report AS r
        WHERE r.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ReportDto>, 
    Diary.DAL.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2024-05-14 18:57:00.067 +03:00 [DBG] Opening connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 18:57:00.070 +03:00 [DBG] Opened connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 18:57:00.072 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-14 18:57:00.073 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-14 18:57:00.081 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-05-14 18:57:00.085 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name", r."Description", r."CreatedAt"
FROM "Report" AS r
WHERE r."UserId" = @__userId_0
2024-05-14 18:57:00.118 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Name", r."Description", r."CreatedAt"
FROM "Report" AS r
WHERE r."UserId" = @__userId_0
2024-05-14 18:57:00.147 +03:00 [DBG] Closing data reader to 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 18:57:00.150 +03:00 [DBG] A data reader for 'Diary' on server 'tcp://localhost:5438' is being disposed after spending 28ms reading results.
2024-05-14 18:57:00.155 +03:00 [DBG] Closing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 18:57:00.157 +03:00 [DBG] Closed connection to database 'Diary' on server 'tcp://localhost:5438' (1ms).
2024-05-14 18:57:00.166 +03:00 [INF] Executed action method Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 528.139ms.
2024-05-14 18:57:00.173 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-14 18:57:00.178 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-05-14 18:57:00.180 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-05-14 18:57:00.182 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-14 18:57:00.182 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-14 18:57:00.184 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-14 18:57:00.186 +03:00 [INF] Executing OkObjectResult, writing value of type 'Diary.Domain.Result.CollectionResult`1[[Diary.Domain.Dto.ReportDto.ReportDto, Diary.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-14 18:57:00.216 +03:00 [INF] Executed action Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api) in 2578.5401ms
2024-05-14 18:57:00.219 +03:00 [INF] Executed endpoint 'Diary.Api.Controllers.ReportController.GetReportsAsync (Diary.Api)'
2024-05-14 18:57:00.224 +03:00 [DBG] Connection id "0HN3K5PQGFVJG" completed keep alive response.
2024-05-14 18:57:00.230 +03:00 [DBG] 'ApplicationDbContext' disposed.
2024-05-14 18:57:00.237 +03:00 [DBG] Disposing connection to database 'Diary' on server 'tcp://localhost:5438'.
2024-05-14 18:57:00.240 +03:00 [DBG] Disposed connection to database 'Diary' on server 'tcp://localhost:5438' (3ms).
2024-05-14 18:57:00.242 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/reports/1?api-version=1 - 200 null application/json; charset=utf-8 2690.1819ms
2024-05-14 18:57:08.611 +03:00 [INF] Application is shutting down...
2024-05-14 18:57:08.613 +03:00 [DBG] Hosting stopping
2024-05-14 18:57:08.620 +03:00 [DBG] Connection id "0HN3K5PQGFVJH" disconnecting.
2024-05-14 18:57:08.620 +03:00 [DBG] Connection id "0HN3K5PQGFVJG" disconnecting.
2024-05-14 18:57:08.623 +03:00 [DBG] Connection id "0HN3K5PQGFVJG" stopped.
2024-05-14 18:57:08.623 +03:00 [DBG] Connection id "0HN3K5PQGFVJH" stopped.
2024-05-14 18:57:08.624 +03:00 [DBG] Connection id "0HN3K5PQGFVJG" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 18:57:08.624 +03:00 [DBG] Connection id "0HN3K5PQGFVJH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 18:57:08.631 +03:00 [DBG] Hosting stopped
2024-05-14 18:57:27.206 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 18:57:27.305 +03:00 [DBG] Hosting starting
2024-05-14 18:57:27.319 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 18:57:27.465 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-14 18:57:27.470 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-14 18:57:27.472 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-14 18:57:27.478 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-14 18:57:27.482 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-14 18:57:27.484 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-14 18:57:27.492 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-14 18:57:27.496 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 18:57:27.500 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-14 18:57:27.503 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 18:57:27.508 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-14 18:57:27.511 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-14 18:57:27.514 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-14 18:57:27.516 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-14 18:57:27.569 +03:00 [INF] Now listening on: http://localhost:5268
2024-05-14 18:57:27.570 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-14 18:57:27.571 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-14 18:57:27.572 +03:00 [INF] Hosting environment: Development
2024-05-14 18:57:27.573 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-14 18:57:27.574 +03:00 [DBG] Hosting started
2024-05-14 18:57:27.766 +03:00 [DBG] Connection id "0HN3K5Q6U9D3T" received FIN.
2024-05-14 18:57:27.773 +03:00 [DBG] Connection id "0HN3K5Q6U9D3T" accepted.
2024-05-14 18:57:27.775 +03:00 [DBG] Connection id "0HN3K5Q6U9D3T" started.
2024-05-14 18:57:27.781 +03:00 [DBG] Connection id "0HN3K5Q6U9D3T" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 18:57:27.785 +03:00 [DBG] Connection id "0HN3K5Q6U9D3T" disconnecting.
2024-05-14 18:57:27.790 +03:00 [DBG] Connection id "0HN3K5Q6U9D3T" stopped.
2024-05-14 18:57:28.034 +03:00 [DBG] Connection id "0HN3K5Q6U9D3U" accepted.
2024-05-14 18:57:28.036 +03:00 [DBG] Connection id "0HN3K5Q6U9D3U" started.
2024-05-14 18:57:28.036 +03:00 [DBG] Connection id "0HN3K5Q6U9D3V" accepted.
2024-05-14 18:57:28.038 +03:00 [DBG] Connection id "0HN3K5Q6U9D3V" started.
2024-05-14 18:57:28.181 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/swagger - null null
2024-05-14 18:57:28.185 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-14 18:57:28.231 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-14 18:57:28.232 +03:00 [DBG] Request did not match any endpoints
2024-05-14 18:57:28.271 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 18:57:28.303 +03:00 [WRN] Failed to determine the https port for redirect.
2024-05-14 18:57:28.306 +03:00 [DBG] Connection id "0HN3K5Q6U9D3U" completed keep alive response.
2024-05-14 18:57:28.310 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/swagger - 404 0 null 133.6105ms
2024-05-14 18:57:28.315 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5268/swagger, Response status code: 404
2024-05-14 18:57:45.072 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/index.html - null null
2024-05-14 18:57:45.077 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-14 18:57:45.078 +03:00 [DBG] Request did not match any endpoints
2024-05-14 18:57:45.081 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 18:57:45.084 +03:00 [DBG] Connection id "0HN3K5Q6U9D3U" completed keep alive response.
2024-05-14 18:57:45.085 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/index.html - 404 0 null 13.0863ms
2024-05-14 18:57:45.089 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5268/index.html, Response status code: 404
2024-05-14 18:57:45.290 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/index.html - null null
2024-05-14 18:57:45.292 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-14 18:57:45.294 +03:00 [DBG] Request did not match any endpoints
2024-05-14 18:57:45.297 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 18:57:45.299 +03:00 [DBG] Connection id "0HN3K5Q6U9D3U" completed keep alive response.
2024-05-14 18:57:45.300 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/index.html - 404 0 null 10.5205ms
2024-05-14 18:57:45.304 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5268/index.html, Response status code: 404
2024-05-14 18:57:55.310 +03:00 [INF] Application is shutting down...
2024-05-14 18:57:55.312 +03:00 [DBG] Hosting stopping
2024-05-14 18:57:55.319 +03:00 [DBG] Connection id "0HN3K5Q6U9D3U" disconnecting.
2024-05-14 18:57:55.319 +03:00 [DBG] Connection id "0HN3K5Q6U9D3V" disconnecting.
2024-05-14 18:57:55.322 +03:00 [DBG] Connection id "0HN3K5Q6U9D3U" stopped.
2024-05-14 18:57:55.322 +03:00 [DBG] Connection id "0HN3K5Q6U9D3V" stopped.
2024-05-14 18:57:55.322 +03:00 [DBG] Connection id "0HN3K5Q6U9D3U" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 18:57:55.323 +03:00 [DBG] Connection id "0HN3K5Q6U9D3V" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 18:57:55.330 +03:00 [DBG] Hosting stopped
2024-05-14 18:58:09.255 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 18:58:09.355 +03:00 [DBG] Hosting starting
2024-05-14 18:58:09.370 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 18:58:09.515 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-14 18:58:09.519 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-14 18:58:09.521 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-14 18:58:09.526 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-14 18:58:09.529 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-14 18:58:09.530 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-14 18:58:09.537 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-14 18:58:09.541 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 18:58:09.544 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-14 18:58:09.546 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 18:58:09.551 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-14 18:58:09.553 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-14 18:58:09.555 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-14 18:58:09.556 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-14 18:58:09.608 +03:00 [INF] Now listening on: http://localhost:5268
2024-05-14 18:58:09.609 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-14 18:58:09.609 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-14 18:58:09.610 +03:00 [INF] Hosting environment: Development
2024-05-14 18:58:09.611 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-14 18:58:09.611 +03:00 [DBG] Hosting started
2024-05-14 18:58:09.696 +03:00 [DBG] Connection id "0HN3K5QJE5D4S" received FIN.
2024-05-14 18:58:09.701 +03:00 [DBG] Connection id "0HN3K5QJE5D4S" accepted.
2024-05-14 18:58:09.703 +03:00 [DBG] Connection id "0HN3K5QJE5D4S" started.
2024-05-14 18:58:09.709 +03:00 [DBG] Connection id "0HN3K5QJE5D4S" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 18:58:09.712 +03:00 [DBG] Connection id "0HN3K5QJE5D4S" disconnecting.
2024-05-14 18:58:09.717 +03:00 [DBG] Connection id "0HN3K5QJE5D4S" stopped.
2024-05-14 18:58:09.947 +03:00 [DBG] Connection id "0HN3K5QJE5D4T" accepted.
2024-05-14 18:58:09.948 +03:00 [DBG] Connection id "0HN3K5QJE5D4T" started.
2024-05-14 18:58:09.948 +03:00 [DBG] Connection id "0HN3K5QJE5D4U" accepted.
2024-05-14 18:58:09.950 +03:00 [DBG] Connection id "0HN3K5QJE5D4U" started.
2024-05-14 18:58:10.091 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/swagger - null null
2024-05-14 18:58:10.095 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-14 18:58:10.142 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-14 18:58:10.143 +03:00 [DBG] Request did not match any endpoints
2024-05-14 18:58:10.177 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 18:58:10.210 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-14 18:58:10.211 +03:00 [WRN] Failed to determine the https port for redirect.
2024-05-14 18:58:10.214 +03:00 [DBG] Connection id "0HN3K5QJE5D4T" completed keep alive response.
2024-05-14 18:58:10.216 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/swagger - 404 0 null 130.8339ms
2024-05-14 18:58:10.222 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5268/swagger, Response status code: 404
2024-05-14 18:58:12.323 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/index.html - null null
2024-05-14 18:58:12.328 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-14 18:58:12.329 +03:00 [DBG] Request did not match any endpoints
2024-05-14 18:58:12.331 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 18:58:12.413 +03:00 [DBG] Connection id "0HN3K5QJE5D4T" completed keep alive response.
2024-05-14 18:58:12.415 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/index.html - 200 null text/html;charset=utf-8 92.3601ms
2024-05-14 18:58:12.754 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/swagger/v1/swagger.json - null null
2024-05-14 18:58:12.756 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-14 18:58:12.757 +03:00 [DBG] Request did not match any endpoints
2024-05-14 18:58:12.760 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 18:58:12.916 +03:00 [DBG] Connection id "0HN3K5QJE5D4T" completed keep alive response.
2024-05-14 18:58:12.917 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 162.585ms
2024-05-14 18:58:17.331 +03:00 [INF] Application is shutting down...
2024-05-14 18:58:17.332 +03:00 [DBG] Hosting stopping
2024-05-14 18:58:17.340 +03:00 [DBG] Connection id "0HN3K5QJE5D4U" disconnecting.
2024-05-14 18:58:17.340 +03:00 [DBG] Connection id "0HN3K5QJE5D4T" disconnecting.
2024-05-14 18:58:17.343 +03:00 [DBG] Connection id "0HN3K5QJE5D4U" stopped.
2024-05-14 18:58:17.343 +03:00 [DBG] Connection id "0HN3K5QJE5D4T" stopped.
2024-05-14 18:58:17.344 +03:00 [DBG] Connection id "0HN3K5QJE5D4U" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 18:58:17.345 +03:00 [DBG] Connection id "0HN3K5QJE5D4T" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 18:58:17.351 +03:00 [DBG] Hosting stopped
2024-05-14 18:58:23.717 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 18:58:23.834 +03:00 [DBG] Hosting starting
2024-05-14 18:58:23.845 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 18:58:23.999 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-14 18:58:24.003 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-14 18:58:24.004 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-14 18:58:24.009 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-14 18:58:24.011 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-14 18:58:24.012 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-14 18:58:24.018 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-14 18:58:24.021 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 18:58:24.024 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-14 18:58:24.025 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 18:58:24.029 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-14 18:58:24.030 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-14 18:58:24.031 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-14 18:58:24.032 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-14 18:58:24.063 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-14 18:58:24.063 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-14 18:58:24.063 +03:00 [INF] Hosting environment: Development
2024-05-14 18:58:24.063 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-14 18:58:24.063 +03:00 [DBG] Hosting started
2024-05-14 18:58:24.084 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-14 18:58:24.086 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-14 18:58:24.131 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-14 18:58:24.131 +03:00 [DBG] Request did not match any endpoints
2024-05-14 18:58:24.170 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 18:58:24.294 +03:00 [DBG] Connection ID "18374686515641975013" disconnecting.
2024-05-14 18:58:24.296 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 217.4376ms
2024-05-14 18:58:24.639 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-14 18:58:24.640 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-14 18:58:24.640 +03:00 [DBG] Request did not match any endpoints
2024-05-14 18:58:24.642 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 18:58:24.645 +03:00 [DBG] Connection ID "18230571301796315245" disconnecting.
2024-05-14 18:58:24.645 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 6.3987ms
2024-05-14 19:00:53.161 +03:00 [INF] Application is shutting down...
2024-05-14 19:00:53.162 +03:00 [DBG] Hosting stopping
2024-05-14 19:00:53.164 +03:00 [DBG] Hosting stopped
2024-05-14 19:01:06.015 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 19:01:06.134 +03:00 [DBG] Hosting starting
2024-05-14 19:01:06.147 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 19:01:06.308 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-14 19:01:06.311 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-14 19:01:06.311 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-14 19:01:06.315 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-14 19:01:06.317 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-14 19:01:06.318 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-14 19:01:06.324 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-14 19:01:06.326 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 19:01:06.329 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-14 19:01:06.330 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 19:01:06.334 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-14 19:01:06.335 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-14 19:01:06.336 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-14 19:01:06.336 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-14 19:01:06.379 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-14 19:01:06.379 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-14 19:01:06.379 +03:00 [INF] Hosting environment: Development
2024-05-14 19:01:06.380 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-14 19:01:06.380 +03:00 [DBG] Hosting started
2024-05-14 19:01:06.404 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-14 19:01:06.408 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-14 19:01:06.468 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-14 19:01:06.469 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:01:06.513 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:01:06.659 +03:00 [DBG] Connection ID "18374686494167138408" disconnecting.
2024-05-14 19:01:06.660 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 265.1963ms
2024-05-14 19:01:06.978 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-14 19:01:06.980 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-14 19:01:06.980 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:01:06.982 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:01:06.986 +03:00 [DBG] Connection ID "18230571301796315247" disconnecting.
2024-05-14 19:01:06.986 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 7.7242ms
2024-05-14 19:05:50.896 +03:00 [INF] Application is shutting down...
2024-05-14 19:05:50.897 +03:00 [DBG] Hosting stopping
2024-05-14 19:05:50.898 +03:00 [DBG] Hosting stopped
2024-05-14 19:06:48.246 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 19:06:48.346 +03:00 [DBG] Hosting starting
2024-05-14 19:06:48.357 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 19:06:48.506 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-14 19:06:48.511 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-14 19:06:48.511 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-14 19:06:48.516 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-14 19:06:48.519 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-14 19:06:48.519 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-14 19:06:48.525 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-14 19:06:48.528 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 19:06:48.530 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-14 19:06:48.532 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 19:06:48.535 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-14 19:06:48.536 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-14 19:06:48.537 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-14 19:06:48.538 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-14 19:06:48.568 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-14 19:06:48.568 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-14 19:06:48.568 +03:00 [INF] Hosting environment: Development
2024-05-14 19:06:48.568 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-14 19:06:48.568 +03:00 [DBG] Hosting started
2024-05-14 19:06:48.586 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-14 19:06:48.588 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-14 19:06:48.631 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-14 19:06:48.632 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:06:48.666 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:06:48.825 +03:00 [DBG] Connection ID "18302628930193981523" disconnecting.
2024-05-14 19:06:48.826 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 245.249ms
2024-05-14 19:06:49.175 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-14 19:06:49.176 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-14 19:06:49.177 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:06:49.178 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:06:49.182 +03:00 [DBG] Connection ID "18302628904424177735" disconnecting.
2024-05-14 19:06:49.182 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 6.5981ms
2024-05-14 19:08:37.545 +03:00 [INF] Application is shutting down...
2024-05-14 19:08:37.546 +03:00 [DBG] Hosting stopping
2024-05-14 19:08:37.547 +03:00 [DBG] Hosting stopped
2024-05-14 19:08:55.991 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 19:08:56.088 +03:00 [DBG] Hosting starting
2024-05-14 19:08:56.102 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 19:08:56.249 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-14 19:08:56.253 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-14 19:08:56.254 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-14 19:08:56.259 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-14 19:08:56.263 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-14 19:08:56.264 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-14 19:08:56.271 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-14 19:08:56.275 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 19:08:56.279 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-14 19:08:56.280 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 19:08:56.285 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-14 19:08:56.287 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-14 19:08:56.288 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-14 19:08:56.290 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-14 19:08:56.344 +03:00 [INF] Now listening on: http://localhost:5268
2024-05-14 19:08:56.345 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-14 19:08:56.345 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-14 19:08:56.346 +03:00 [INF] Hosting environment: Development
2024-05-14 19:08:56.347 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-14 19:08:56.348 +03:00 [DBG] Hosting started
2024-05-14 19:08:56.484 +03:00 [DBG] Connection id "0HN3K60K6DLAO" received FIN.
2024-05-14 19:08:56.490 +03:00 [DBG] Connection id "0HN3K60K6DLAO" accepted.
2024-05-14 19:08:56.492 +03:00 [DBG] Connection id "0HN3K60K6DLAO" started.
2024-05-14 19:08:56.498 +03:00 [DBG] Connection id "0HN3K60K6DLAO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 19:08:56.502 +03:00 [DBG] Connection id "0HN3K60K6DLAO" disconnecting.
2024-05-14 19:08:56.506 +03:00 [DBG] Connection id "0HN3K60K6DLAO" stopped.
2024-05-14 19:08:56.775 +03:00 [DBG] Connection id "0HN3K60K6DLAP" accepted.
2024-05-14 19:08:56.776 +03:00 [DBG] Connection id "0HN3K60K6DLAP" started.
2024-05-14 19:08:56.776 +03:00 [DBG] Connection id "0HN3K60K6DLAQ" accepted.
2024-05-14 19:08:56.778 +03:00 [DBG] Connection id "0HN3K60K6DLAQ" started.
2024-05-14 19:08:56.897 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/swagger - null null
2024-05-14 19:08:56.900 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-14 19:08:56.945 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-14 19:08:56.947 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:08:56.986 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:08:57.026 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-14 19:08:57.028 +03:00 [WRN] Failed to determine the https port for redirect.
2024-05-14 19:08:57.032 +03:00 [DBG] Connection id "0HN3K60K6DLAP" completed keep alive response.
2024-05-14 19:08:57.036 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/swagger - 404 0 null 143.4833ms
2024-05-14 19:08:57.043 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5268/swagger, Response status code: 404
2024-05-14 19:08:59.889 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/index.html - null null
2024-05-14 19:08:59.893 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-14 19:08:59.895 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:08:59.898 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:08:59.980 +03:00 [DBG] Connection id "0HN3K60K6DLAP" completed keep alive response.
2024-05-14 19:08:59.981 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/index.html - 200 null text/html;charset=utf-8 92.0396ms
2024-05-14 19:09:00.254 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/swagger/v1/swagger.json - null null
2024-05-14 19:09:00.257 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-14 19:09:00.258 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:09:00.262 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:09:00.462 +03:00 [DBG] Connection id "0HN3K60K6DLAP" completed keep alive response.
2024-05-14 19:09:00.464 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 209.1706ms
2024-05-14 19:09:18.483 +03:00 [INF] Application is shutting down...
2024-05-14 19:09:18.485 +03:00 [DBG] Hosting stopping
2024-05-14 19:09:18.492 +03:00 [DBG] Connection id "0HN3K60K6DLAP" disconnecting.
2024-05-14 19:09:18.492 +03:00 [DBG] Connection id "0HN3K60K6DLAQ" disconnecting.
2024-05-14 19:09:18.494 +03:00 [DBG] Connection id "0HN3K60K6DLAQ" stopped.
2024-05-14 19:09:18.494 +03:00 [DBG] Connection id "0HN3K60K6DLAP" stopped.
2024-05-14 19:09:18.495 +03:00 [DBG] Connection id "0HN3K60K6DLAQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 19:09:18.496 +03:00 [DBG] Connection id "0HN3K60K6DLAP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 19:09:18.503 +03:00 [DBG] Hosting stopped
2024-05-14 19:09:59.239 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 19:09:59.351 +03:00 [DBG] Hosting starting
2024-05-14 19:09:59.362 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 19:09:59.518 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-14 19:09:59.521 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-14 19:09:59.522 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-14 19:09:59.525 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-14 19:09:59.528 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-14 19:09:59.528 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-14 19:09:59.534 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-14 19:09:59.537 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 19:09:59.539 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-14 19:09:59.541 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 19:09:59.545 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-14 19:09:59.546 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-14 19:09:59.547 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-14 19:09:59.547 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-14 19:09:59.579 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-14 19:09:59.579 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-14 19:09:59.579 +03:00 [INF] Hosting environment: Development
2024-05-14 19:09:59.579 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-14 19:09:59.579 +03:00 [DBG] Hosting started
2024-05-14 19:09:59.600 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-14 19:09:59.603 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-14 19:09:59.650 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-14 19:09:59.650 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:09:59.691 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:09:59.825 +03:00 [DBG] Connection ID "18374686528526876777" disconnecting.
2024-05-14 19:09:59.828 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 232.357ms
2024-05-14 19:10:00.130 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-14 19:10:00.131 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-14 19:10:00.131 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:10:00.132 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:10:00.135 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 5.5838ms
2024-05-14 19:10:00.135 +03:00 [DBG] Connection ID "18230571318976184422" disconnecting.
2024-05-14 19:11:11.206 +03:00 [INF] Application is shutting down...
2024-05-14 19:11:11.207 +03:00 [DBG] Hosting stopping
2024-05-14 19:11:11.208 +03:00 [DBG] Hosting stopped
2024-05-14 19:14:07.899 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 19:14:08.002 +03:00 [DBG] Hosting starting
2024-05-14 19:14:08.016 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 19:14:08.167 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-14 19:14:08.170 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-14 19:14:08.171 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-14 19:14:08.175 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-14 19:14:08.178 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-14 19:14:08.178 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-14 19:14:08.184 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-14 19:14:08.187 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 19:14:08.190 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-14 19:14:08.191 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 19:14:08.195 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-14 19:14:08.196 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-14 19:14:08.197 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-14 19:14:08.197 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-14 19:14:08.228 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-14 19:14:08.228 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-14 19:14:08.228 +03:00 [INF] Hosting environment: Development
2024-05-14 19:14:08.228 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-14 19:14:08.228 +03:00 [DBG] Hosting started
2024-05-14 19:14:08.246 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-14 19:14:08.248 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-14 19:14:08.292 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-14 19:14:08.293 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:14:08.329 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:14:08.460 +03:00 [DBG] Connection ID "18230571301796315250" disconnecting.
2024-05-14 19:14:08.462 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 221.4463ms
2024-05-14 19:14:08.830 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44308/index.html - null null
2024-05-14 19:14:08.831 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-14 19:14:08.831 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:14:08.832 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:14:08.836 +03:00 [DBG] Connection ID "18230571301796315252" disconnecting.
2024-05-14 19:14:08.836 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44308/index.html - 200 null text/html;charset=utf-8 5.6729ms
2024-05-14 19:14:29.276 +03:00 [INF] Application is shutting down...
2024-05-14 19:14:29.277 +03:00 [DBG] Hosting stopping
2024-05-14 19:14:29.279 +03:00 [DBG] Hosting stopped
2024-05-14 19:16:19.106 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 19:16:19.207 +03:00 [DBG] Hosting starting
2024-05-14 19:16:19.221 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 19:16:19.373 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-14 19:16:19.378 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-14 19:16:19.379 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-14 19:16:19.384 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-14 19:16:19.388 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-14 19:16:19.389 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-14 19:16:19.397 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-14 19:16:19.401 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 19:16:19.404 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-14 19:16:19.406 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 19:16:19.412 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-14 19:16:19.414 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-14 19:16:19.415 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-14 19:16:19.417 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-14 19:16:19.508 +03:00 [INF] Now listening on: https://localhost:7021
2024-05-14 19:16:19.509 +03:00 [INF] Now listening on: http://localhost:5268
2024-05-14 19:16:19.511 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-14 19:16:19.512 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-14 19:16:19.513 +03:00 [INF] Hosting environment: Development
2024-05-14 19:16:19.514 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-14 19:16:19.515 +03:00 [DBG] Hosting started
2024-05-14 19:16:19.650 +03:00 [DBG] Connection id "0HN3K64O8P3SJ" received FIN.
2024-05-14 19:16:19.656 +03:00 [DBG] Connection id "0HN3K64O8P3SJ" accepted.
2024-05-14 19:16:19.658 +03:00 [DBG] Connection id "0HN3K64O8P3SJ" started.
2024-05-14 19:16:19.668 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-14 19:16:19.687 +03:00 [DBG] Connection id "0HN3K64O8P3SJ" stopped.
2024-05-14 19:16:19.691 +03:00 [DBG] Connection id "0HN3K64O8P3SJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 19:16:19.900 +03:00 [DBG] Connection id "0HN3K64O8P3SK" accepted.
2024-05-14 19:16:19.901 +03:00 [DBG] Connection id "0HN3K64O8P3SK" started.
2024-05-14 19:16:20.026 +03:00 [DBG] Connection 0HN3K64O8P3SK established using the following protocol: "Tls12"
2024-05-14 19:16:20.064 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger - null null
2024-05-14 19:16:20.067 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-14 19:16:20.110 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-14 19:16:20.111 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:16:20.144 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:16:20.177 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-14 19:16:20.181 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger - 404 0 null 121.0717ms
2024-05-14 19:16:20.186 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7021/swagger, Response status code: 404
2024-05-14 19:16:23.018 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/index.html - null null
2024-05-14 19:16:23.022 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-14 19:16:23.023 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:16:23.025 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:16:23.118 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/index.html - 200 null text/html;charset=utf-8 100.2799ms
2024-05-14 19:16:23.569 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger/v1/swagger.json - null null
2024-05-14 19:16:23.572 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-14 19:16:23.573 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:16:23.576 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:16:23.768 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 199.3435ms
2024-05-14 19:17:30.474 +03:00 [INF] Application is shutting down...
2024-05-14 19:17:30.475 +03:00 [DBG] Hosting stopping
2024-05-14 19:17:30.484 +03:00 [DBG] Connection id "0HN3K64O8P3SK" is closing.
2024-05-14 19:17:30.488 +03:00 [DBG] Connection id "0HN3K64O8P3SK" is closed. The last processed stream ID was 5.
2024-05-14 19:17:30.489 +03:00 [DBG] Connection id "0HN3K64O8P3SK" received FIN.
2024-05-14 19:17:30.490 +03:00 [DBG] Connection id "0HN3K64O8P3SK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 19:17:30.491 +03:00 [DBG] The connection queue processing loop for 0HN3K64O8P3SK completed.
2024-05-14 19:17:30.493 +03:00 [DBG] Connection id "0HN3K64O8P3SK" stopped.
2024-05-14 19:17:30.498 +03:00 [DBG] Hosting stopped
2024-05-14 19:19:05.136 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 19:19:05.235 +03:00 [DBG] Hosting starting
2024-05-14 19:19:05.249 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 19:19:05.385 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-14 19:19:05.389 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-14 19:19:05.391 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-14 19:19:05.395 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-14 19:19:05.398 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-14 19:19:05.399 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-14 19:19:05.406 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-14 19:19:05.410 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 19:19:05.413 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-14 19:19:05.415 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 19:19:05.420 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-14 19:19:05.422 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-14 19:19:05.423 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-14 19:19:05.425 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-14 19:19:05.509 +03:00 [INF] Now listening on: https://localhost:7021
2024-05-14 19:19:05.510 +03:00 [INF] Now listening on: http://localhost:5268
2024-05-14 19:19:05.511 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-14 19:19:05.512 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-14 19:19:05.512 +03:00 [INF] Hosting environment: Development
2024-05-14 19:19:05.513 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-14 19:19:05.514 +03:00 [DBG] Hosting started
2024-05-14 19:19:05.612 +03:00 [DBG] Connection id "0HN3K669NGJ9B" received FIN.
2024-05-14 19:19:05.622 +03:00 [DBG] Connection id "0HN3K669NGJ9B" accepted.
2024-05-14 19:19:05.624 +03:00 [DBG] Connection id "0HN3K669NGJ9B" started.
2024-05-14 19:19:05.634 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-14 19:19:05.647 +03:00 [DBG] Connection id "0HN3K669NGJ9B" stopped.
2024-05-14 19:19:05.650 +03:00 [DBG] Connection id "0HN3K669NGJ9B" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 19:19:05.882 +03:00 [DBG] Connection id "0HN3K669NGJ9C" accepted.
2024-05-14 19:19:05.883 +03:00 [DBG] Connection id "0HN3K669NGJ9C" started.
2024-05-14 19:19:05.922 +03:00 [DBG] Connection 0HN3K669NGJ9C established using the following protocol: "Tls12"
2024-05-14 19:19:06.016 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger - null null
2024-05-14 19:19:06.019 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-14 19:19:06.063 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-14 19:19:06.065 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:19:06.100 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:19:06.142 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger - 301 0 null 130.04ms
2024-05-14 19:19:06.147 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger/index.html - null null
2024-05-14 19:19:06.150 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-14 19:19:06.151 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:19:06.153 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:19:06.255 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger/index.html - 200 null text/html;charset=utf-8 108.2163ms
2024-05-14 19:19:06.367 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger/swagger-ui-bundle.js - null null
2024-05-14 19:19:06.367 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger/swagger-ui-standalone-preset.js - null null
2024-05-14 19:19:06.367 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger/swagger-ui.css - null null
2024-05-14 19:19:06.369 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2024-05-14 19:19:06.372 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2024-05-14 19:19:06.374 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-05-14 19:19:06.375 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:19:06.376 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:19:06.377 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:19:06.379 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:19:06.379 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:19:06.379 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:19:06.403 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-05-14 19:19:06.403 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-05-14 19:19:06.405 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger/swagger-ui-standalone-preset.js - 200 230280 text/javascript 37.94ms
2024-05-14 19:19:06.406 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger/swagger-ui.css - 200 152034 text/css 39.1225ms
2024-05-14 19:19:06.430 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-05-14 19:19:06.432 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger/swagger-ui-bundle.js - 200 1456682 text/javascript 64.5386ms
2024-05-14 19:19:06.776 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger/swagger/v1/swagger.json - null null
2024-05-14 19:19:06.778 +03:00 [DBG] No candidates found for the request path '/swagger/swagger/v1/swagger.json'
2024-05-14 19:19:06.780 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:19:06.781 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:19:06.783 +03:00 [DBG] The request path /swagger/v1/swagger.json does not match an existing file
2024-05-14 19:19:06.785 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger/swagger/v1/swagger.json - 404 0 null 9.3118ms
2024-05-14 19:19:06.788 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7021/swagger/swagger/v1/swagger.json, Response status code: 404
2024-05-14 19:19:06.798 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger/favicon-32x32.png - null null
2024-05-14 19:19:06.802 +03:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2024-05-14 19:19:06.804 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:19:06.805 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:19:06.807 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-05-14 19:19:06.808 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger/favicon-32x32.png - 200 628 image/png 10.3314ms
2024-05-14 19:19:20.070 +03:00 [INF] Application is shutting down...
2024-05-14 19:19:20.071 +03:00 [DBG] Hosting stopping
2024-05-14 19:19:20.079 +03:00 [DBG] Connection id "0HN3K669NGJ9C" is closing.
2024-05-14 19:19:20.083 +03:00 [DBG] Connection id "0HN3K669NGJ9C" is closed. The last processed stream ID was 13.
2024-05-14 19:19:20.085 +03:00 [DBG] Connection id "0HN3K669NGJ9C" received FIN.
2024-05-14 19:19:20.086 +03:00 [DBG] Connection id "0HN3K669NGJ9C" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 19:19:20.086 +03:00 [DBG] The connection queue processing loop for 0HN3K669NGJ9C completed.
2024-05-14 19:19:20.089 +03:00 [DBG] Connection id "0HN3K669NGJ9C" stopped.
2024-05-14 19:19:20.094 +03:00 [DBG] Hosting stopped
2024-05-14 19:19:26.306 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 19:19:26.405 +03:00 [DBG] Hosting starting
2024-05-14 19:19:26.418 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 19:19:26.570 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-14 19:19:26.574 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-14 19:19:26.576 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-14 19:19:26.580 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-14 19:19:26.584 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-14 19:19:26.585 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-14 19:19:26.593 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-14 19:19:26.596 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 19:19:26.600 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-14 19:19:26.602 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 19:19:26.607 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-14 19:19:26.609 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-14 19:19:26.610 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-14 19:19:26.612 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-14 19:19:26.705 +03:00 [INF] Now listening on: https://localhost:7021
2024-05-14 19:19:26.706 +03:00 [INF] Now listening on: http://localhost:5268
2024-05-14 19:19:26.707 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-14 19:19:26.708 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-14 19:19:26.709 +03:00 [INF] Hosting environment: Development
2024-05-14 19:19:26.710 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-14 19:19:26.711 +03:00 [DBG] Hosting started
2024-05-14 19:19:26.826 +03:00 [DBG] Connection id "0HN3K66G1QONV" received FIN.
2024-05-14 19:19:26.831 +03:00 [DBG] Connection id "0HN3K66G1QONV" accepted.
2024-05-14 19:19:26.833 +03:00 [DBG] Connection id "0HN3K66G1QONV" started.
2024-05-14 19:19:26.841 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-14 19:19:26.854 +03:00 [DBG] Connection id "0HN3K66G1QONV" stopped.
2024-05-14 19:19:26.857 +03:00 [DBG] Connection id "0HN3K66G1QONV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 19:19:27.066 +03:00 [DBG] Connection id "0HN3K66G1QOO0" accepted.
2024-05-14 19:19:27.068 +03:00 [DBG] Connection id "0HN3K66G1QOO0" started.
2024-05-14 19:19:27.102 +03:00 [DBG] Connection 0HN3K66G1QOO0 established using the following protocol: "Tls12"
2024-05-14 19:19:27.237 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger/index.html - null null
2024-05-14 19:19:27.241 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-14 19:19:27.285 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-14 19:19:27.286 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:19:27.319 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:19:27.354 +03:00 [DBG] The request path /swagger/index.html does not match an existing file
2024-05-14 19:19:27.358 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger/index.html - 404 0 null 125.0873ms
2024-05-14 19:19:27.363 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7021/swagger/index.html, Response status code: 404
2024-05-14 19:20:47.072 +03:00 [INF] Application is shutting down...
2024-05-14 19:20:47.073 +03:00 [DBG] Hosting stopping
2024-05-14 19:20:47.081 +03:00 [DBG] Connection id "0HN3K66G1QOO0" is closing.
2024-05-14 19:20:47.085 +03:00 [DBG] Connection id "0HN3K66G1QOO0" is closed. The last processed stream ID was 1.
2024-05-14 19:20:47.086 +03:00 [DBG] Connection id "0HN3K66G1QOO0" received FIN.
2024-05-14 19:20:47.087 +03:00 [DBG] Connection id "0HN3K66G1QOO0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 19:20:47.087 +03:00 [DBG] The connection queue processing loop for 0HN3K66G1QOO0 completed.
2024-05-14 19:20:47.090 +03:00 [DBG] Connection id "0HN3K66G1QOO0" stopped.
2024-05-14 19:20:47.095 +03:00 [DBG] Hosting stopped
2024-05-14 19:20:53.208 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 19:20:53.310 +03:00 [DBG] Hosting starting
2024-05-14 19:20:53.325 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 19:20:53.471 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-14 19:20:53.475 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-14 19:20:53.476 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-14 19:20:53.481 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-14 19:20:53.484 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-14 19:20:53.485 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-14 19:20:53.492 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-14 19:20:53.496 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 19:20:53.499 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-14 19:20:53.501 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 19:20:53.506 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-14 19:20:53.509 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-14 19:20:53.511 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-14 19:20:53.512 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-14 19:20:53.565 +03:00 [INF] Now listening on: http://localhost:5268
2024-05-14 19:20:53.566 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-14 19:20:53.567 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-14 19:20:53.568 +03:00 [INF] Hosting environment: Development
2024-05-14 19:20:53.569 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-14 19:20:53.570 +03:00 [DBG] Hosting started
2024-05-14 19:20:53.745 +03:00 [DBG] Connection id "0HN3K679UO7QN" received FIN.
2024-05-14 19:20:53.750 +03:00 [DBG] Connection id "0HN3K679UO7QN" accepted.
2024-05-14 19:20:53.752 +03:00 [DBG] Connection id "0HN3K679UO7QN" started.
2024-05-14 19:20:53.758 +03:00 [DBG] Connection id "0HN3K679UO7QN" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 19:20:53.761 +03:00 [DBG] Connection id "0HN3K679UO7QN" disconnecting.
2024-05-14 19:20:53.766 +03:00 [DBG] Connection id "0HN3K679UO7QN" stopped.
2024-05-14 19:20:53.984 +03:00 [DBG] Connection id "0HN3K679UO7QO" accepted.
2024-05-14 19:20:53.986 +03:00 [DBG] Connection id "0HN3K679UO7QO" started.
2024-05-14 19:20:53.986 +03:00 [DBG] Connection id "0HN3K679UO7QP" accepted.
2024-05-14 19:20:53.988 +03:00 [DBG] Connection id "0HN3K679UO7QP" started.
2024-05-14 19:20:54.071 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/swagger - null null
2024-05-14 19:20:54.074 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-14 19:20:54.121 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-14 19:20:54.123 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:20:54.159 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:20:54.196 +03:00 [DBG] The request path /swagger does not match a supported file type
2024-05-14 19:20:54.198 +03:00 [WRN] Failed to determine the https port for redirect.
2024-05-14 19:20:54.201 +03:00 [DBG] Connection id "0HN3K679UO7QO" completed keep alive response.
2024-05-14 19:20:54.204 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/swagger - 404 0 null 137.1835ms
2024-05-14 19:20:54.209 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5268/swagger, Response status code: 404
2024-05-14 19:20:58.905 +03:00 [INF] Application is shutting down...
2024-05-14 19:20:58.906 +03:00 [DBG] Hosting stopping
2024-05-14 19:20:58.913 +03:00 [DBG] Connection id "0HN3K679UO7QP" disconnecting.
2024-05-14 19:20:58.913 +03:00 [DBG] Connection id "0HN3K679UO7QO" disconnecting.
2024-05-14 19:20:58.915 +03:00 [DBG] Connection id "0HN3K679UO7QO" stopped.
2024-05-14 19:20:58.915 +03:00 [DBG] Connection id "0HN3K679UO7QP" stopped.
2024-05-14 19:20:58.916 +03:00 [DBG] Connection id "0HN3K679UO7QO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 19:20:58.917 +03:00 [DBG] Connection id "0HN3K679UO7QP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 19:20:58.923 +03:00 [DBG] Hosting stopped
2024-05-14 19:21:07.559 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 19:21:07.656 +03:00 [DBG] Hosting starting
2024-05-14 19:21:07.672 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 19:21:07.817 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-14 19:21:07.821 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-14 19:21:07.823 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-14 19:21:07.827 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-14 19:21:07.830 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-14 19:21:07.831 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-14 19:21:07.839 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-14 19:21:07.842 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 19:21:07.846 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-14 19:21:07.847 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 19:21:07.853 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-14 19:21:07.854 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-14 19:21:07.856 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-14 19:21:07.858 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-14 19:21:07.943 +03:00 [INF] Now listening on: https://localhost:7021
2024-05-14 19:21:07.944 +03:00 [INF] Now listening on: http://localhost:5268
2024-05-14 19:21:07.945 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-14 19:21:07.946 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-14 19:21:07.947 +03:00 [INF] Hosting environment: Development
2024-05-14 19:21:07.947 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-14 19:21:07.948 +03:00 [DBG] Hosting started
2024-05-14 19:21:08.042 +03:00 [DBG] Connection id "0HN3K67E73CIR" received FIN.
2024-05-14 19:21:08.048 +03:00 [DBG] Connection id "0HN3K67E73CIR" accepted.
2024-05-14 19:21:08.050 +03:00 [DBG] Connection id "0HN3K67E73CIR" started.
2024-05-14 19:21:08.059 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-14 19:21:08.074 +03:00 [DBG] Connection id "0HN3K67E73CIR" stopped.
2024-05-14 19:21:08.077 +03:00 [DBG] Connection id "0HN3K67E73CIR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 19:21:08.277 +03:00 [DBG] Connection id "0HN3K67E73CIS" accepted.
2024-05-14 19:21:08.279 +03:00 [DBG] Connection id "0HN3K67E73CIS" started.
2024-05-14 19:21:08.313 +03:00 [DBG] Connection 0HN3K67E73CIS established using the following protocol: "Tls12"
2024-05-14 19:21:08.458 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger/index.html - null null
2024-05-14 19:21:08.461 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-14 19:21:08.507 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-14 19:21:08.508 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:21:08.542 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:21:08.576 +03:00 [DBG] The request path /swagger/index.html does not match an existing file
2024-05-14 19:21:08.580 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger/index.html - 404 0 null 125.9472ms
2024-05-14 19:21:08.584 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7021/swagger/index.html, Response status code: 404
2024-05-14 19:21:11.302 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/index.html - null null
2024-05-14 19:21:11.307 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-14 19:21:11.308 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:21:11.310 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:21:11.400 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/index.html - 200 null text/html;charset=utf-8 97.2809ms
2024-05-14 19:21:11.734 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger/v1/swagger.json - null null
2024-05-14 19:21:11.736 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-14 19:21:11.737 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:21:11.739 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:21:11.913 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 178.7129ms
2024-05-14 19:21:17.310 +03:00 [INF] Application is shutting down...
2024-05-14 19:21:17.311 +03:00 [DBG] Hosting stopping
2024-05-14 19:21:17.319 +03:00 [DBG] Connection id "0HN3K67E73CIS" is closing.
2024-05-14 19:21:17.323 +03:00 [DBG] Connection id "0HN3K67E73CIS" is closed. The last processed stream ID was 5.
2024-05-14 19:21:17.324 +03:00 [DBG] Connection id "0HN3K67E73CIS" received FIN.
2024-05-14 19:21:17.326 +03:00 [DBG] Connection id "0HN3K67E73CIS" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 19:21:17.326 +03:00 [DBG] The connection queue processing loop for 0HN3K67E73CIS completed.
2024-05-14 19:21:17.329 +03:00 [DBG] Connection id "0HN3K67E73CIS" stopped.
2024-05-14 19:21:17.334 +03:00 [DBG] Hosting stopped
2024-05-14 19:21:25.189 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 19:21:25.287 +03:00 [DBG] Hosting starting
2024-05-14 19:21:25.302 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 19:21:25.457 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-14 19:21:25.461 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-14 19:21:25.463 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-14 19:21:25.468 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-14 19:21:25.471 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-14 19:21:25.472 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-14 19:21:25.480 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-14 19:21:25.483 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 19:21:25.487 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-14 19:21:25.489 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 19:21:25.494 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-14 19:21:25.495 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-14 19:21:25.497 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-14 19:21:25.498 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-14 19:21:25.549 +03:00 [INF] Now listening on: http://localhost:5268
2024-05-14 19:21:25.550 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-14 19:21:25.551 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-14 19:21:25.552 +03:00 [INF] Hosting environment: Development
2024-05-14 19:21:25.553 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-14 19:21:25.554 +03:00 [DBG] Hosting started
2024-05-14 19:21:25.765 +03:00 [DBG] Connection id "0HN3K67JG3T0V" received FIN.
2024-05-14 19:21:25.771 +03:00 [DBG] Connection id "0HN3K67JG3T0V" accepted.
2024-05-14 19:21:25.773 +03:00 [DBG] Connection id "0HN3K67JG3T0V" started.
2024-05-14 19:21:25.780 +03:00 [DBG] Connection id "0HN3K67JG3T0V" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 19:21:25.784 +03:00 [DBG] Connection id "0HN3K67JG3T0V" disconnecting.
2024-05-14 19:21:25.790 +03:00 [DBG] Connection id "0HN3K67JG3T0V" stopped.
2024-05-14 19:21:26.004 +03:00 [DBG] Connection id "0HN3K67JG3T10" accepted.
2024-05-14 19:21:26.006 +03:00 [DBG] Connection id "0HN3K67JG3T10" started.
2024-05-14 19:21:26.006 +03:00 [DBG] Connection id "0HN3K67JG3T11" accepted.
2024-05-14 19:21:26.008 +03:00 [DBG] Connection id "0HN3K67JG3T11" started.
2024-05-14 19:21:26.117 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/swagger - null null
2024-05-14 19:21:26.121 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-14 19:21:26.174 +03:00 [DBG] No candidates found for the request path '/swagger'
2024-05-14 19:21:26.175 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:21:26.208 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:21:26.243 +03:00 [DBG] Connection id "0HN3K67JG3T10" completed keep alive response.
2024-05-14 19:21:26.246 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/swagger - 301 0 null 132.7567ms
2024-05-14 19:21:26.250 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/swagger/index.html - null null
2024-05-14 19:21:26.252 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-14 19:21:26.253 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:21:26.254 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:21:26.339 +03:00 [DBG] Connection id "0HN3K67JG3T10" completed keep alive response.
2024-05-14 19:21:26.340 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/swagger/index.html - 200 null text/html;charset=utf-8 90.3118ms
2024-05-14 19:21:26.448 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/swagger/swagger-ui.css - null null
2024-05-14 19:21:26.448 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/swagger/swagger-ui-bundle.js - null null
2024-05-14 19:21:26.448 +03:00 [DBG] Connection id "0HN3K67JG3T12" accepted.
2024-05-14 19:21:26.451 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-05-14 19:21:26.452 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2024-05-14 19:21:26.453 +03:00 [DBG] Connection id "0HN3K67JG3T12" started.
2024-05-14 19:21:26.454 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:21:26.454 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:21:26.456 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/swagger/swagger-ui-standalone-preset.js - null null
2024-05-14 19:21:26.458 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:21:26.458 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:21:26.459 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2024-05-14 19:21:26.462 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:21:26.463 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:21:26.485 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-05-14 19:21:26.485 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-05-14 19:21:26.485 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-05-14 19:21:26.494 +03:00 [DBG] Connection id "0HN3K67JG3T12" completed keep alive response.
2024-05-14 19:21:26.494 +03:00 [DBG] Connection id "0HN3K67JG3T10" completed keep alive response.
2024-05-14 19:21:26.494 +03:00 [DBG] Connection id "0HN3K67JG3T11" completed keep alive response.
2024-05-14 19:21:26.495 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/swagger/swagger-ui-standalone-preset.js - 200 230280 text/javascript 39.5168ms
2024-05-14 19:21:26.496 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/swagger/swagger-ui.css - 200 152034 text/css 48.8463ms
2024-05-14 19:21:26.498 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/swagger/swagger-ui-bundle.js - 200 1456682 text/javascript 49.8303ms
2024-05-14 19:21:26.808 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/swagger/swagger/v1/swagger.json - null null
2024-05-14 19:21:26.811 +03:00 [DBG] No candidates found for the request path '/swagger/swagger/v1/swagger.json'
2024-05-14 19:21:26.812 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:21:26.814 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:21:26.815 +03:00 [DBG] The request path /swagger/v1/swagger.json does not match an existing file
2024-05-14 19:21:26.818 +03:00 [WRN] Failed to determine the https port for redirect.
2024-05-14 19:21:26.819 +03:00 [DBG] Connection id "0HN3K67JG3T11" completed keep alive response.
2024-05-14 19:21:26.821 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/swagger/swagger/v1/swagger.json - 404 0 null 13.179ms
2024-05-14 19:21:26.824 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5268/swagger/swagger/v1/swagger.json, Response status code: 404
2024-05-14 19:21:26.832 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/swagger/favicon-32x32.png - null null
2024-05-14 19:21:26.836 +03:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2024-05-14 19:21:26.838 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:21:26.839 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:21:26.840 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-05-14 19:21:26.841 +03:00 [DBG] Connection id "0HN3K67JG3T11" completed keep alive response.
2024-05-14 19:21:26.843 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/swagger/favicon-32x32.png - 200 628 image/png 10.7531ms
2024-05-14 19:21:39.840 +03:00 [INF] Application is shutting down...
2024-05-14 19:21:39.841 +03:00 [DBG] Hosting stopping
2024-05-14 19:21:39.848 +03:00 [DBG] Connection id "0HN3K67JG3T10" disconnecting.
2024-05-14 19:21:39.848 +03:00 [DBG] Connection id "0HN3K67JG3T11" disconnecting.
2024-05-14 19:21:39.848 +03:00 [DBG] Connection id "0HN3K67JG3T12" disconnecting.
2024-05-14 19:21:39.851 +03:00 [DBG] Connection id "0HN3K67JG3T11" stopped.
2024-05-14 19:21:39.851 +03:00 [DBG] Connection id "0HN3K67JG3T10" stopped.
2024-05-14 19:21:39.851 +03:00 [DBG] Connection id "0HN3K67JG3T12" stopped.
2024-05-14 19:21:39.852 +03:00 [DBG] Connection id "0HN3K67JG3T11" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 19:21:39.853 +03:00 [DBG] Connection id "0HN3K67JG3T10" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 19:21:39.854 +03:00 [DBG] Connection id "0HN3K67JG3T12" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 19:21:39.861 +03:00 [DBG] Hosting stopped
2024-05-14 19:21:49.472 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 19:21:49.569 +03:00 [DBG] Hosting starting
2024-05-14 19:21:49.583 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 19:21:49.730 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-14 19:21:49.734 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-14 19:21:49.735 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-14 19:21:49.740 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-14 19:21:49.743 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-14 19:21:49.743 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-14 19:21:49.751 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-14 19:21:49.754 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 19:21:49.757 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-14 19:21:49.759 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 19:21:49.764 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-14 19:21:49.765 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-14 19:21:49.767 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-14 19:21:49.768 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-14 19:21:49.820 +03:00 [INF] Now listening on: http://localhost:5268
2024-05-14 19:21:49.821 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-14 19:21:49.822 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-14 19:21:49.823 +03:00 [INF] Hosting environment: Development
2024-05-14 19:21:49.823 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-14 19:21:49.824 +03:00 [DBG] Hosting started
2024-05-14 19:21:50.008 +03:00 [DBG] Connection id "0HN3K67QNA6K1" received FIN.
2024-05-14 19:21:50.013 +03:00 [DBG] Connection id "0HN3K67QNA6K1" accepted.
2024-05-14 19:21:50.015 +03:00 [DBG] Connection id "0HN3K67QNA6K1" started.
2024-05-14 19:21:50.020 +03:00 [DBG] Connection id "0HN3K67QNA6K1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 19:21:50.025 +03:00 [DBG] Connection id "0HN3K67QNA6K1" disconnecting.
2024-05-14 19:21:50.029 +03:00 [DBG] Connection id "0HN3K67QNA6K1" stopped.
2024-05-14 19:21:50.271 +03:00 [DBG] Connection id "0HN3K67QNA6K2" accepted.
2024-05-14 19:21:50.272 +03:00 [DBG] Connection id "0HN3K67QNA6K2" started.
2024-05-14 19:21:50.272 +03:00 [DBG] Connection id "0HN3K67QNA6K3" accepted.
2024-05-14 19:21:50.274 +03:00 [DBG] Connection id "0HN3K67QNA6K3" started.
2024-05-14 19:21:50.399 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/swagger/index.html - null null
2024-05-14 19:21:50.403 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-14 19:21:50.446 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-14 19:21:50.447 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:21:50.480 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:21:50.591 +03:00 [DBG] Connection id "0HN3K67QNA6K2" completed keep alive response.
2024-05-14 19:21:50.593 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/swagger/index.html - 200 null text/html;charset=utf-8 198.1744ms
2024-05-14 19:21:51.037 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5268/swagger/v1/swagger.json - null null
2024-05-14 19:21:51.041 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-14 19:21:51.042 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:21:51.044 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:21:51.219 +03:00 [DBG] Connection id "0HN3K67QNA6K2" completed keep alive response.
2024-05-14 19:21:51.221 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5268/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 183.5899ms
2024-05-14 19:21:59.748 +03:00 [INF] Application is shutting down...
2024-05-14 19:21:59.749 +03:00 [DBG] Hosting stopping
2024-05-14 19:21:59.756 +03:00 [DBG] Connection id "0HN3K67QNA6K2" disconnecting.
2024-05-14 19:21:59.756 +03:00 [DBG] Connection id "0HN3K67QNA6K3" disconnecting.
2024-05-14 19:21:59.758 +03:00 [DBG] Connection id "0HN3K67QNA6K2" stopped.
2024-05-14 19:21:59.758 +03:00 [DBG] Connection id "0HN3K67QNA6K3" stopped.
2024-05-14 19:21:59.759 +03:00 [DBG] Connection id "0HN3K67QNA6K2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 19:21:59.760 +03:00 [DBG] Connection id "0HN3K67QNA6K3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 19:21:59.767 +03:00 [DBG] Hosting stopped
2024-05-14 19:22:04.504 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 19:22:04.602 +03:00 [DBG] Hosting starting
2024-05-14 19:22:04.615 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 19:22:04.759 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-14 19:22:04.763 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-14 19:22:04.764 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-14 19:22:04.769 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-14 19:22:04.772 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-14 19:22:04.773 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-14 19:22:04.780 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-14 19:22:04.784 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 19:22:04.787 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-14 19:22:04.788 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 19:22:04.793 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-14 19:22:04.795 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-14 19:22:04.797 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-14 19:22:04.798 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-14 19:22:04.885 +03:00 [INF] Now listening on: https://localhost:7021
2024-05-14 19:22:04.886 +03:00 [INF] Now listening on: http://localhost:5268
2024-05-14 19:22:04.887 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-14 19:22:04.887 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-14 19:22:04.888 +03:00 [INF] Hosting environment: Development
2024-05-14 19:22:04.889 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-14 19:22:04.889 +03:00 [DBG] Hosting started
2024-05-14 19:22:05.119 +03:00 [DBG] Connection id "0HN3K67V7DM74" received FIN.
2024-05-14 19:22:05.129 +03:00 [DBG] Connection id "0HN3K67V7DM74" accepted.
2024-05-14 19:22:05.130 +03:00 [DBG] Connection id "0HN3K67V7DM74" started.
2024-05-14 19:22:05.139 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-14 19:22:05.152 +03:00 [DBG] Connection id "0HN3K67V7DM74" stopped.
2024-05-14 19:22:05.155 +03:00 [DBG] Connection id "0HN3K67V7DM74" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 19:22:05.336 +03:00 [DBG] Connection id "0HN3K67V7DM75" accepted.
2024-05-14 19:22:05.337 +03:00 [DBG] Connection id "0HN3K67V7DM75" started.
2024-05-14 19:22:05.376 +03:00 [DBG] Connection 0HN3K67V7DM75 established using the following protocol: "Tls12"
2024-05-14 19:22:05.518 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger/index.html - null null
2024-05-14 19:22:05.522 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-14 19:22:05.567 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-14 19:22:05.569 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:22:05.601 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:22:05.725 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger/index.html - 200 null text/html;charset=utf-8 211.1172ms
2024-05-14 19:22:06.163 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger/v1/swagger.json - null null
2024-05-14 19:22:06.167 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-14 19:22:06.168 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:22:06.170 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:22:06.350 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 187.7229ms
2024-05-14 19:22:11.308 +03:00 [INF] Application is shutting down...
2024-05-14 19:22:11.309 +03:00 [DBG] Hosting stopping
2024-05-14 19:22:11.318 +03:00 [DBG] Connection id "0HN3K67V7DM75" is closing.
2024-05-14 19:22:11.321 +03:00 [DBG] Connection id "0HN3K67V7DM75" is closed. The last processed stream ID was 3.
2024-05-14 19:22:11.323 +03:00 [DBG] Connection id "0HN3K67V7DM75" received FIN.
2024-05-14 19:22:11.324 +03:00 [DBG] Connection id "0HN3K67V7DM75" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 19:22:11.324 +03:00 [DBG] The connection queue processing loop for 0HN3K67V7DM75 completed.
2024-05-14 19:22:11.327 +03:00 [DBG] Connection id "0HN3K67V7DM75" stopped.
2024-05-14 19:22:11.333 +03:00 [DBG] Hosting stopped
2024-05-14 19:22:17.838 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 19:22:17.937 +03:00 [DBG] Hosting starting
2024-05-14 19:22:17.950 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 19:22:18.102 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-14 19:22:18.106 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-14 19:22:18.108 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-14 19:22:18.112 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-14 19:22:18.115 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-14 19:22:18.116 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-14 19:22:18.123 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-14 19:22:18.127 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 19:22:18.130 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-14 19:22:18.132 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 19:22:18.137 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-14 19:22:18.139 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-14 19:22:18.140 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-14 19:22:18.142 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-14 19:22:18.229 +03:00 [INF] Now listening on: https://localhost:7021
2024-05-14 19:22:18.230 +03:00 [INF] Now listening on: http://localhost:5268
2024-05-14 19:22:18.230 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-14 19:22:18.231 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-14 19:22:18.232 +03:00 [INF] Hosting environment: Development
2024-05-14 19:22:18.233 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-14 19:22:18.234 +03:00 [DBG] Hosting started
2024-05-14 19:22:18.298 +03:00 [DBG] Connection id "0HN3K68353O8D" received FIN.
2024-05-14 19:22:18.303 +03:00 [DBG] Connection id "0HN3K68353O8D" accepted.
2024-05-14 19:22:18.305 +03:00 [DBG] Connection id "0HN3K68353O8D" started.
2024-05-14 19:22:18.316 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-14 19:22:18.330 +03:00 [DBG] Connection id "0HN3K68353O8D" stopped.
2024-05-14 19:22:18.333 +03:00 [DBG] Connection id "0HN3K68353O8D" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 19:22:18.541 +03:00 [DBG] Connection id "0HN3K68353O8E" accepted.
2024-05-14 19:22:18.543 +03:00 [DBG] Connection id "0HN3K68353O8E" started.
2024-05-14 19:22:18.576 +03:00 [DBG] Connection 0HN3K68353O8E established using the following protocol: "Tls12"
2024-05-14 19:22:18.708 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger/index.html - null null
2024-05-14 19:22:18.711 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-14 19:22:18.755 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-14 19:22:18.756 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:22:18.789 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:22:18.826 +03:00 [DBG] The request path /swagger/index.html does not match an existing file
2024-05-14 19:22:18.830 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger/index.html - 404 0 null 126.7768ms
2024-05-14 19:22:18.834 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7021/swagger/index.html, Response status code: 404
2024-05-14 19:22:23.016 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/index.html - null null
2024-05-14 19:22:23.020 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-14 19:22:23.021 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:22:23.023 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:22:23.119 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/index.html - 200 null text/html;charset=utf-8 103.8392ms
2024-05-14 19:22:23.451 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger/v1/swagger.json - null null
2024-05-14 19:22:23.453 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-14 19:22:23.454 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:22:23.457 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:22:23.633 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 182.1142ms
2024-05-14 19:23:00.263 +03:00 [INF] Application is shutting down...
2024-05-14 19:23:00.264 +03:00 [DBG] Hosting stopping
2024-05-14 19:23:00.271 +03:00 [DBG] Connection id "0HN3K68353O8E" is closing.
2024-05-14 19:23:00.275 +03:00 [DBG] Connection id "0HN3K68353O8E" is closed. The last processed stream ID was 5.
2024-05-14 19:23:00.277 +03:00 [DBG] Connection id "0HN3K68353O8E" received FIN.
2024-05-14 19:23:00.278 +03:00 [DBG] Connection id "0HN3K68353O8E" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 19:23:00.278 +03:00 [DBG] The connection queue processing loop for 0HN3K68353O8E completed.
2024-05-14 19:23:00.281 +03:00 [DBG] Connection id "0HN3K68353O8E" stopped.
2024-05-14 19:23:00.286 +03:00 [DBG] Hosting stopped
2024-05-14 19:23:06.473 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 19:23:06.569 +03:00 [DBG] Hosting starting
2024-05-14 19:23:06.583 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 19:23:06.727 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-14 19:23:06.731 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-14 19:23:06.733 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-14 19:23:06.737 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-14 19:23:06.741 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-14 19:23:06.742 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-14 19:23:06.749 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-14 19:23:06.753 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 19:23:06.757 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-14 19:23:06.759 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 19:23:06.764 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-14 19:23:06.766 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-14 19:23:06.768 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-14 19:23:06.769 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-14 19:23:06.856 +03:00 [INF] Now listening on: https://localhost:7021
2024-05-14 19:23:06.856 +03:00 [INF] Now listening on: http://localhost:5268
2024-05-14 19:23:06.857 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-14 19:23:06.858 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-14 19:23:06.859 +03:00 [INF] Hosting environment: Development
2024-05-14 19:23:06.860 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-14 19:23:06.861 +03:00 [DBG] Hosting started
2024-05-14 19:23:06.977 +03:00 [DBG] Connection id "0HN3K68HLBBVL" received FIN.
2024-05-14 19:23:06.982 +03:00 [DBG] Connection id "0HN3K68HLBBVL" accepted.
2024-05-14 19:23:06.984 +03:00 [DBG] Connection id "0HN3K68HLBBVL" started.
2024-05-14 19:23:06.994 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-14 19:23:07.009 +03:00 [DBG] Connection id "0HN3K68HLBBVL" stopped.
2024-05-14 19:23:07.012 +03:00 [DBG] Connection id "0HN3K68HLBBVL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 19:23:07.245 +03:00 [DBG] Connection id "0HN3K68HLBBVM" accepted.
2024-05-14 19:23:07.246 +03:00 [DBG] Connection id "0HN3K68HLBBVM" started.
2024-05-14 19:23:07.281 +03:00 [DBG] Connection 0HN3K68HLBBVM established using the following protocol: "Tls12"
2024-05-14 19:23:07.386 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger/index.html - null null
2024-05-14 19:23:07.389 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-14 19:23:07.436 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-14 19:23:07.438 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:23:07.475 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:23:07.515 +03:00 [DBG] The request path /swagger/index.html does not match an existing file
2024-05-14 19:23:07.518 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger/index.html - 404 0 null 136.1631ms
2024-05-14 19:23:07.522 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7021/swagger/index.html, Response status code: 404
2024-05-14 19:23:09.650 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/index.html - null null
2024-05-14 19:23:09.655 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-14 19:23:09.657 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:23:09.659 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:23:09.758 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/index.html - 200 null text/html;charset=utf-8 108.2057ms
2024-05-14 19:23:10.187 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/v1/swagger.json - null null
2024-05-14 19:23:10.189 +03:00 [DBG] No candidates found for the request path '/v1/swagger.json'
2024-05-14 19:23:10.190 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:23:10.193 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:23:10.194 +03:00 [DBG] The request path /v1/swagger.json does not match an existing file
2024-05-14 19:23:10.196 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/v1/swagger.json - 404 0 null 9.4933ms
2024-05-14 19:23:10.199 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7021/v1/swagger.json, Response status code: 404
2024-05-14 19:23:13.836 +03:00 [INF] Application is shutting down...
2024-05-14 19:23:13.837 +03:00 [DBG] Hosting stopping
2024-05-14 19:23:13.846 +03:00 [DBG] Connection id "0HN3K68HLBBVM" is closing.
2024-05-14 19:23:13.849 +03:00 [DBG] Connection id "0HN3K68HLBBVM" is closed. The last processed stream ID was 5.
2024-05-14 19:23:13.851 +03:00 [DBG] Connection id "0HN3K68HLBBVM" received FIN.
2024-05-14 19:23:13.852 +03:00 [DBG] Connection id "0HN3K68HLBBVM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 19:23:13.852 +03:00 [DBG] The connection queue processing loop for 0HN3K68HLBBVM completed.
2024-05-14 19:23:13.855 +03:00 [DBG] Connection id "0HN3K68HLBBVM" stopped.
2024-05-14 19:23:13.860 +03:00 [DBG] Hosting stopped
2024-05-14 19:25:47.124 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 19:25:47.220 +03:00 [DBG] Hosting starting
2024-05-14 19:25:47.235 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 19:25:47.381 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-14 19:25:47.385 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-14 19:25:47.386 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-14 19:25:47.391 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-14 19:25:47.394 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-14 19:25:47.395 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-14 19:25:47.402 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-14 19:25:47.406 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 19:25:47.410 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-14 19:25:47.411 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 19:25:47.417 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-14 19:25:47.419 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-14 19:25:47.422 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-14 19:25:47.424 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-14 19:25:47.514 +03:00 [INF] Now listening on: https://localhost:7021
2024-05-14 19:25:47.514 +03:00 [INF] Now listening on: http://localhost:5268
2024-05-14 19:25:47.515 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-14 19:25:47.516 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-14 19:25:47.517 +03:00 [INF] Hosting environment: Development
2024-05-14 19:25:47.518 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-14 19:25:47.518 +03:00 [DBG] Hosting started
2024-05-14 19:25:47.657 +03:00 [DBG] Connection id "0HN3K6A1HN09A" received FIN.
2024-05-14 19:25:47.662 +03:00 [DBG] Connection id "0HN3K6A1HN09A" accepted.
2024-05-14 19:25:47.664 +03:00 [DBG] Connection id "0HN3K6A1HN09A" started.
2024-05-14 19:25:47.673 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-14 19:25:47.689 +03:00 [DBG] Connection id "0HN3K6A1HN09A" stopped.
2024-05-14 19:25:47.693 +03:00 [DBG] Connection id "0HN3K6A1HN09A" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 19:25:47.915 +03:00 [DBG] Connection id "0HN3K6A1HN09B" accepted.
2024-05-14 19:25:47.917 +03:00 [DBG] Connection id "0HN3K6A1HN09B" started.
2024-05-14 19:25:47.953 +03:00 [DBG] Connection 0HN3K6A1HN09B established using the following protocol: "Tls12"
2024-05-14 19:25:48.073 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger/index.html - null null
2024-05-14 19:25:48.076 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-14 19:25:48.119 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-14 19:25:48.121 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:25:48.156 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:25:48.293 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger/index.html - 200 null text/html;charset=utf-8 224.9252ms
2024-05-14 19:25:48.588 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger/v1/swagger.json - null null
2024-05-14 19:25:48.592 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-14 19:25:48.593 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:25:48.595 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:25:48.796 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 207.7845ms
2024-05-14 19:25:53.283 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/index.html - null null
2024-05-14 19:25:53.285 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-14 19:25:53.286 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:25:53.289 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:25:53.292 +03:00 [DBG] The request path  does not match the path filter
2024-05-14 19:25:53.293 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/index.html - 404 0 null 10.5256ms
2024-05-14 19:25:53.297 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7021/index.html, Response status code: 404
2024-05-14 19:26:14.476 +03:00 [INF] Application is shutting down...
2024-05-14 19:26:14.477 +03:00 [DBG] Hosting stopping
2024-05-14 19:26:14.485 +03:00 [DBG] Connection id "0HN3K6A1HN09B" is closing.
2024-05-14 19:26:14.489 +03:00 [DBG] Connection id "0HN3K6A1HN09B" is closed. The last processed stream ID was 5.
2024-05-14 19:26:14.491 +03:00 [DBG] Connection id "0HN3K6A1HN09B" received FIN.
2024-05-14 19:26:14.492 +03:00 [DBG] Connection id "0HN3K6A1HN09B" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 19:26:14.492 +03:00 [DBG] The connection queue processing loop for 0HN3K6A1HN09B completed.
2024-05-14 19:26:14.494 +03:00 [DBG] Connection id "0HN3K6A1HN09B" stopped.
2024-05-14 19:26:14.499 +03:00 [DBG] Hosting stopped
2024-05-14 19:26:29.989 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 19:26:30.087 +03:00 [DBG] Hosting starting
2024-05-14 19:26:30.101 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 19:26:30.241 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-14 19:26:30.244 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-14 19:26:30.245 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-14 19:26:30.249 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-14 19:26:30.253 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-14 19:26:30.254 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-14 19:26:30.261 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-14 19:26:30.264 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 19:26:30.268 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-14 19:26:30.270 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 19:26:30.274 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-14 19:26:30.276 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-14 19:26:30.278 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-14 19:26:30.279 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-14 19:26:30.372 +03:00 [INF] Now listening on: https://localhost:7021
2024-05-14 19:26:30.373 +03:00 [INF] Now listening on: http://localhost:5268
2024-05-14 19:26:30.374 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-14 19:26:30.374 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-14 19:26:30.375 +03:00 [INF] Hosting environment: Development
2024-05-14 19:26:30.376 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-14 19:26:30.377 +03:00 [DBG] Hosting started
2024-05-14 19:26:30.613 +03:00 [DBG] Connection id "0HN3K6AEBC7IO" received FIN.
2024-05-14 19:26:30.618 +03:00 [DBG] Connection id "0HN3K6AEBC7IO" accepted.
2024-05-14 19:26:30.620 +03:00 [DBG] Connection id "0HN3K6AEBC7IO" started.
2024-05-14 19:26:30.633 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-14 19:26:30.647 +03:00 [DBG] Connection id "0HN3K6AEBC7IO" stopped.
2024-05-14 19:26:30.650 +03:00 [DBG] Connection id "0HN3K6AEBC7IO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 19:26:30.885 +03:00 [DBG] Connection id "0HN3K6AEBC7IP" accepted.
2024-05-14 19:26:30.886 +03:00 [DBG] Connection id "0HN3K6AEBC7IP" started.
2024-05-14 19:26:30.923 +03:00 [DBG] Connection 0HN3K6AEBC7IP established using the following protocol: "Tls12"
2024-05-14 19:26:31.035 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger/index.html - null null
2024-05-14 19:26:31.039 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-14 19:26:31.084 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-14 19:26:31.085 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:26:31.122 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:26:31.158 +03:00 [DBG] The request path /swagger/index.html does not match an existing file
2024-05-14 19:26:31.161 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger/index.html - 404 0 null 131.6323ms
2024-05-14 19:26:31.165 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7021/swagger/index.html, Response status code: 404
2024-05-14 19:26:55.720 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/index.html - null null
2024-05-14 19:26:55.724 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-14 19:26:55.726 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:26:55.729 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:26:55.827 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/index.html - 200 null text/html;charset=utf-8 107.8985ms
2024-05-14 19:26:56.279 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger/v1/swagger.json - null null
2024-05-14 19:26:56.281 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-14 19:26:56.282 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:26:56.285 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:26:56.465 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 186.1748ms
2024-05-14 19:28:12.761 +03:00 [INF] Application is shutting down...
2024-05-14 19:28:12.762 +03:00 [DBG] Hosting stopping
2024-05-14 19:28:12.770 +03:00 [DBG] Connection id "0HN3K6AEBC7IP" is closing.
2024-05-14 19:28:12.774 +03:00 [DBG] Connection id "0HN3K6AEBC7IP" is closed. The last processed stream ID was 5.
2024-05-14 19:28:12.776 +03:00 [DBG] Connection id "0HN3K6AEBC7IP" received FIN.
2024-05-14 19:28:12.777 +03:00 [DBG] Connection id "0HN3K6AEBC7IP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 19:28:12.777 +03:00 [DBG] The connection queue processing loop for 0HN3K6AEBC7IP completed.
2024-05-14 19:28:12.780 +03:00 [DBG] Connection id "0HN3K6AEBC7IP" stopped.
2024-05-14 19:28:12.785 +03:00 [DBG] Hosting stopped
2024-05-14 19:28:23.958 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 19:28:24.056 +03:00 [DBG] Hosting starting
2024-05-14 19:28:24.071 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 19:28:24.227 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-14 19:28:24.231 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-14 19:28:24.232 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-14 19:28:24.236 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-14 19:28:24.239 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-14 19:28:24.240 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-14 19:28:24.247 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-14 19:28:24.251 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 19:28:24.254 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-14 19:28:24.256 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 19:28:24.261 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-14 19:28:24.262 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-14 19:28:24.264 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-14 19:28:24.265 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-14 19:28:24.358 +03:00 [INF] Now listening on: https://localhost:7021
2024-05-14 19:28:24.359 +03:00 [INF] Now listening on: http://localhost:5268
2024-05-14 19:28:24.359 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-14 19:28:24.360 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-14 19:28:24.361 +03:00 [INF] Hosting environment: Development
2024-05-14 19:28:24.361 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-14 19:28:24.362 +03:00 [DBG] Hosting started
2024-05-14 19:28:24.598 +03:00 [DBG] Connection id "0HN3K6BGADMIV" received FIN.
2024-05-14 19:28:24.604 +03:00 [DBG] Connection id "0HN3K6BGADMIV" accepted.
2024-05-14 19:28:24.606 +03:00 [DBG] Connection id "0HN3K6BGADMIV" started.
2024-05-14 19:28:24.614 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-14 19:28:24.628 +03:00 [DBG] Connection id "0HN3K6BGADMIV" stopped.
2024-05-14 19:28:24.631 +03:00 [DBG] Connection id "0HN3K6BGADMIV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 19:28:24.846 +03:00 [DBG] Connection id "0HN3K6BGADMJ0" accepted.
2024-05-14 19:28:24.847 +03:00 [DBG] Connection id "0HN3K6BGADMJ0" started.
2024-05-14 19:28:24.882 +03:00 [DBG] Connection 0HN3K6BGADMJ0 established using the following protocol: "Tls12"
2024-05-14 19:28:25.003 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger/index.html - null null
2024-05-14 19:28:25.006 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-14 19:28:25.050 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-14 19:28:25.052 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:28:25.088 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:28:25.129 +03:00 [DBG] The request path /swagger/index.html does not match an existing file
2024-05-14 19:28:25.132 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger/index.html - 404 0 null 133.3667ms
2024-05-14 19:28:25.137 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7021/swagger/index.html, Response status code: 404
2024-05-14 19:28:30.664 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/index.html - null null
2024-05-14 19:28:30.670 +03:00 [DBG] No candidates found for the request path '/index.html'
2024-05-14 19:28:30.671 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:28:30.674 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:28:30.782 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/index.html - 200 null text/html;charset=utf-8 118.6325ms
2024-05-14 19:28:31.143 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger/v1/swagger.json - null null
2024-05-14 19:28:31.145 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-14 19:28:31.146 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:28:31.150 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:28:31.323 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 180.706ms
2024-05-14 19:28:48.480 +03:00 [INF] Application is shutting down...
2024-05-14 19:28:48.481 +03:00 [DBG] Hosting stopping
2024-05-14 19:28:48.490 +03:00 [DBG] Connection id "0HN3K6BGADMJ0" is closing.
2024-05-14 19:28:48.495 +03:00 [DBG] Connection id "0HN3K6BGADMJ0" is closed. The last processed stream ID was 5.
2024-05-14 19:28:48.497 +03:00 [DBG] Connection id "0HN3K6BGADMJ0" received FIN.
2024-05-14 19:28:48.498 +03:00 [DBG] Connection id "0HN3K6BGADMJ0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 19:28:48.499 +03:00 [DBG] The connection queue processing loop for 0HN3K6BGADMJ0 completed.
2024-05-14 19:28:48.501 +03:00 [DBG] Connection id "0HN3K6BGADMJ0" stopped.
2024-05-14 19:28:48.507 +03:00 [DBG] Hosting stopped
2024-05-14 19:29:55.284 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 19:29:55.384 +03:00 [DBG] Hosting starting
2024-05-14 19:29:55.397 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 19:29:55.537 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-14 19:29:55.541 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-14 19:29:55.542 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-14 19:29:55.546 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-14 19:29:55.549 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-14 19:29:55.550 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-14 19:29:55.557 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-14 19:29:55.560 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 19:29:55.564 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-14 19:29:55.565 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 19:29:55.570 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-14 19:29:55.571 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-14 19:29:55.573 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-14 19:29:55.574 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-14 19:29:55.659 +03:00 [INF] Now listening on: https://localhost:7021
2024-05-14 19:29:55.660 +03:00 [INF] Now listening on: http://localhost:5268
2024-05-14 19:29:55.661 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-14 19:29:55.662 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-14 19:29:55.663 +03:00 [INF] Hosting environment: Development
2024-05-14 19:29:55.664 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-14 19:29:55.665 +03:00 [DBG] Hosting started
2024-05-14 19:29:55.784 +03:00 [DBG] Connection id "0HN3K6CBG1BPP" received FIN.
2024-05-14 19:29:55.794 +03:00 [DBG] Connection id "0HN3K6CBG1BPP" accepted.
2024-05-14 19:29:55.796 +03:00 [DBG] Connection id "0HN3K6CBG1BPP" started.
2024-05-14 19:29:55.805 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-14 19:29:55.819 +03:00 [DBG] Connection id "0HN3K6CBG1BPP" stopped.
2024-05-14 19:29:55.822 +03:00 [DBG] Connection id "0HN3K6CBG1BPP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 19:29:56.028 +03:00 [DBG] Connection id "0HN3K6CBG1BPQ" accepted.
2024-05-14 19:29:56.030 +03:00 [DBG] Connection id "0HN3K6CBG1BPQ" started.
2024-05-14 19:29:56.063 +03:00 [DBG] Connection 0HN3K6CBG1BPQ established using the following protocol: "Tls12"
2024-05-14 19:29:56.197 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger/index.html - null null
2024-05-14 19:29:56.200 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-14 19:29:56.243 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-14 19:29:56.245 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:29:56.283 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:29:56.335 +03:00 [DBG] The request path /swagger/index.html does not match an existing file
2024-05-14 19:29:56.339 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger/index.html - 404 0 null 145.7704ms
2024-05-14 19:29:56.343 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7021/swagger/index.html, Response status code: 404
2024-05-14 19:30:01.418 +03:00 [INF] Application is shutting down...
2024-05-14 19:30:01.419 +03:00 [DBG] Hosting stopping
2024-05-14 19:30:01.426 +03:00 [DBG] Connection id "0HN3K6CBG1BPQ" is closing.
2024-05-14 19:30:01.430 +03:00 [DBG] Connection id "0HN3K6CBG1BPQ" is closed. The last processed stream ID was 1.
2024-05-14 19:30:01.432 +03:00 [DBG] Connection id "0HN3K6CBG1BPQ" received FIN.
2024-05-14 19:30:01.433 +03:00 [DBG] Connection id "0HN3K6CBG1BPQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 19:30:01.433 +03:00 [DBG] The connection queue processing loop for 0HN3K6CBG1BPQ completed.
2024-05-14 19:30:01.436 +03:00 [DBG] Connection id "0HN3K6CBG1BPQ" stopped.
2024-05-14 19:30:01.441 +03:00 [DBG] Hosting stopped
2024-05-14 19:30:08.113 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 19:30:08.211 +03:00 [DBG] Hosting starting
2024-05-14 19:30:08.225 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 19:30:08.363 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-14 19:30:08.367 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-14 19:30:08.368 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-14 19:30:08.373 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-14 19:30:08.376 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-14 19:30:08.377 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-14 19:30:08.384 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-14 19:30:08.388 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 19:30:08.392 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-14 19:30:08.393 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 19:30:08.398 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-14 19:30:08.400 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-14 19:30:08.402 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-14 19:30:08.403 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-14 19:30:08.488 +03:00 [INF] Now listening on: https://localhost:7021
2024-05-14 19:30:08.489 +03:00 [INF] Now listening on: http://localhost:5268
2024-05-14 19:30:08.489 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-14 19:30:08.490 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-14 19:30:08.491 +03:00 [INF] Hosting environment: Development
2024-05-14 19:30:08.492 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-14 19:30:08.492 +03:00 [DBG] Hosting started
2024-05-14 19:30:08.604 +03:00 [DBG] Connection id "0HN3K6CFA9S8G" received FIN.
2024-05-14 19:30:08.610 +03:00 [DBG] Connection id "0HN3K6CFA9S8G" accepted.
2024-05-14 19:30:08.612 +03:00 [DBG] Connection id "0HN3K6CFA9S8G" started.
2024-05-14 19:30:08.627 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-14 19:30:08.642 +03:00 [DBG] Connection id "0HN3K6CFA9S8G" stopped.
2024-05-14 19:30:08.645 +03:00 [DBG] Connection id "0HN3K6CFA9S8G" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 19:30:08.853 +03:00 [DBG] Connection id "0HN3K6CFA9S8H" accepted.
2024-05-14 19:30:08.855 +03:00 [DBG] Connection id "0HN3K6CFA9S8H" started.
2024-05-14 19:30:08.887 +03:00 [DBG] Connection 0HN3K6CFA9S8H established using the following protocol: "Tls12"
2024-05-14 19:30:09.022 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger/index.html - null null
2024-05-14 19:30:09.025 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-14 19:30:09.069 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-14 19:30:09.071 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:30:09.104 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:30:09.141 +03:00 [DBG] The request path /swagger/index.html does not match an existing file
2024-05-14 19:30:09.145 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger/index.html - 404 0 null 126.5893ms
2024-05-14 19:30:09.149 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7021/swagger/index.html, Response status code: 404
2024-05-14 19:30:30.685 +03:00 [INF] Application is shutting down...
2024-05-14 19:30:30.686 +03:00 [DBG] Hosting stopping
2024-05-14 19:30:30.695 +03:00 [DBG] Connection id "0HN3K6CFA9S8H" is closing.
2024-05-14 19:30:30.700 +03:00 [DBG] Connection id "0HN3K6CFA9S8H" is closed. The last processed stream ID was 1.
2024-05-14 19:30:30.701 +03:00 [DBG] Connection id "0HN3K6CFA9S8H" received FIN.
2024-05-14 19:30:30.702 +03:00 [DBG] Connection id "0HN3K6CFA9S8H" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 19:30:30.702 +03:00 [DBG] The connection queue processing loop for 0HN3K6CFA9S8H completed.
2024-05-14 19:30:30.705 +03:00 [DBG] Connection id "0HN3K6CFA9S8H" stopped.
2024-05-14 19:30:30.710 +03:00 [DBG] Hosting stopped
2024-05-14 19:32:45.553 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 19:32:45.650 +03:00 [DBG] Hosting starting
2024-05-14 19:32:45.664 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 19:32:45.813 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-14 19:32:45.817 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-14 19:32:45.819 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-14 19:32:45.824 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-14 19:32:45.828 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-14 19:32:45.829 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-14 19:32:45.836 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-14 19:32:45.840 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 19:32:45.845 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-14 19:32:45.847 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 19:32:45.852 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-14 19:32:45.854 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-14 19:32:45.856 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-14 19:32:45.858 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-14 19:32:45.949 +03:00 [INF] Now listening on: https://localhost:7021
2024-05-14 19:32:45.950 +03:00 [INF] Now listening on: http://localhost:5268
2024-05-14 19:32:45.951 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-14 19:32:45.952 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-14 19:32:45.953 +03:00 [INF] Hosting environment: Development
2024-05-14 19:32:45.953 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-14 19:32:45.954 +03:00 [DBG] Hosting started
2024-05-14 19:32:46.108 +03:00 [DBG] Connection id "0HN3K6DU8BVHJ" received FIN.
2024-05-14 19:32:46.113 +03:00 [DBG] Connection id "0HN3K6DU8BVHJ" accepted.
2024-05-14 19:32:46.114 +03:00 [DBG] Connection id "0HN3K6DU8BVHJ" started.
2024-05-14 19:32:46.123 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-14 19:32:46.136 +03:00 [DBG] Connection id "0HN3K6DU8BVHJ" stopped.
2024-05-14 19:32:46.139 +03:00 [DBG] Connection id "0HN3K6DU8BVHJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 19:32:46.342 +03:00 [DBG] Connection id "0HN3K6DU8BVHK" accepted.
2024-05-14 19:32:46.343 +03:00 [DBG] Connection id "0HN3K6DU8BVHK" started.
2024-05-14 19:32:46.378 +03:00 [DBG] Connection 0HN3K6DU8BVHK established using the following protocol: "Tls12"
2024-05-14 19:32:46.515 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger/index.html - null null
2024-05-14 19:32:46.518 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-14 19:32:46.561 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-14 19:32:46.562 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:32:46.595 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:32:46.629 +03:00 [DBG] The request path /swagger/index.html does not match an existing file
2024-05-14 19:32:46.632 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger/index.html - 404 0 null 121.2752ms
2024-05-14 19:32:46.636 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7021/swagger/index.html, Response status code: 404
2024-05-14 19:32:52.060 +03:00 [INF] Application is shutting down...
2024-05-14 19:32:52.061 +03:00 [DBG] Hosting stopping
2024-05-14 19:32:52.070 +03:00 [DBG] Connection id "0HN3K6DU8BVHK" is closing.
2024-05-14 19:32:52.074 +03:00 [DBG] Connection id "0HN3K6DU8BVHK" is closed. The last processed stream ID was 1.
2024-05-14 19:32:52.076 +03:00 [DBG] Connection id "0HN3K6DU8BVHK" received FIN.
2024-05-14 19:32:52.077 +03:00 [DBG] Connection id "0HN3K6DU8BVHK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 19:32:52.078 +03:00 [DBG] The connection queue processing loop for 0HN3K6DU8BVHK completed.
2024-05-14 19:32:52.080 +03:00 [DBG] Connection id "0HN3K6DU8BVHK" stopped.
2024-05-14 19:32:52.086 +03:00 [DBG] Hosting stopped
2024-05-14 19:32:58.087 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 19:32:58.187 +03:00 [DBG] Hosting starting
2024-05-14 19:32:58.201 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 19:32:58.335 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-14 19:32:58.339 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-14 19:32:58.340 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-14 19:32:58.345 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-14 19:32:58.348 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-14 19:32:58.349 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-14 19:32:58.356 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-14 19:32:58.360 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 19:32:58.363 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-14 19:32:58.365 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 19:32:58.370 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-14 19:32:58.372 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-14 19:32:58.374 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-14 19:32:58.375 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-14 19:32:58.465 +03:00 [INF] Now listening on: https://localhost:7021
2024-05-14 19:32:58.466 +03:00 [INF] Now listening on: http://localhost:5268
2024-05-14 19:32:58.467 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-14 19:32:58.468 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-14 19:32:58.468 +03:00 [INF] Hosting environment: Development
2024-05-14 19:32:58.469 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-14 19:32:58.470 +03:00 [DBG] Hosting started
2024-05-14 19:32:58.698 +03:00 [DBG] Connection id "0HN3K6E20E5SD" received FIN.
2024-05-14 19:32:58.703 +03:00 [DBG] Connection id "0HN3K6E20E5SD" accepted.
2024-05-14 19:32:58.705 +03:00 [DBG] Connection id "0HN3K6E20E5SD" started.
2024-05-14 19:32:58.715 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-14 19:32:58.729 +03:00 [DBG] Connection id "0HN3K6E20E5SD" stopped.
2024-05-14 19:32:58.733 +03:00 [DBG] Connection id "0HN3K6E20E5SD" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 19:32:58.916 +03:00 [DBG] Connection id "0HN3K6E20E5SE" accepted.
2024-05-14 19:32:58.917 +03:00 [DBG] Connection id "0HN3K6E20E5SE" started.
2024-05-14 19:32:58.951 +03:00 [DBG] Connection 0HN3K6E20E5SE established using the following protocol: "Tls12"
2024-05-14 19:32:59.097 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger/index.html - null null
2024-05-14 19:32:59.100 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-14 19:32:59.142 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-14 19:32:59.143 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:32:59.176 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:32:59.309 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger/index.html - 200 null text/html;charset=utf-8 215.2211ms
2024-05-14 19:32:59.569 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger/v1/swagger.json - null null
2024-05-14 19:32:59.572 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-14 19:32:59.573 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:32:59.575 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:32:59.755 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 186.0435ms
2024-05-14 19:35:12.396 +03:00 [DBG] Connection id "0HN3K6E20E5SE" is closing.
2024-05-14 19:35:12.400 +03:00 [DBG] Connection id "0HN3K6E20E5SE" is closed. The last processed stream ID was 3.
2024-05-14 19:35:12.402 +03:00 [DBG] Connection id "0HN3K6E20E5SE" received FIN.
2024-05-14 19:35:12.403 +03:00 [DBG] Connection id "0HN3K6E20E5SE" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 19:35:12.404 +03:00 [DBG] The connection queue processing loop for 0HN3K6E20E5SE completed.
2024-05-14 19:35:12.406 +03:00 [DBG] Connection id "0HN3K6E20E5SE" stopped.
2024-05-14 19:41:54.304 +03:00 [INF] Application is shutting down...
2024-05-14 19:41:54.305 +03:00 [DBG] Hosting stopping
2024-05-14 19:41:54.315 +03:00 [DBG] Hosting stopped
2024-05-14 19:42:03.701 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 19:42:03.797 +03:00 [DBG] Hosting starting
2024-05-14 19:42:03.810 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 19:42:03.952 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-14 19:42:03.956 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-14 19:42:03.958 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-14 19:42:03.962 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-14 19:42:03.966 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-14 19:42:03.967 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-14 19:42:03.974 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-14 19:42:03.978 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 19:42:03.981 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-14 19:42:03.983 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 19:42:03.988 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-14 19:42:03.990 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-14 19:42:03.992 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-14 19:42:03.993 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-14 19:42:04.081 +03:00 [INF] Now listening on: https://localhost:7021
2024-05-14 19:42:04.082 +03:00 [INF] Now listening on: http://localhost:5268
2024-05-14 19:42:04.083 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-14 19:42:04.084 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-14 19:42:04.084 +03:00 [INF] Hosting environment: Development
2024-05-14 19:42:04.085 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-14 19:42:04.086 +03:00 [DBG] Hosting started
2024-05-14 19:42:04.219 +03:00 [DBG] Connection id "0HN3K6J4IU3QR" received FIN.
2024-05-14 19:42:04.226 +03:00 [DBG] Connection id "0HN3K6J4IU3QR" accepted.
2024-05-14 19:42:04.228 +03:00 [DBG] Connection id "0HN3K6J4IU3QR" started.
2024-05-14 19:42:04.236 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-14 19:42:04.250 +03:00 [DBG] Connection id "0HN3K6J4IU3QR" stopped.
2024-05-14 19:42:04.253 +03:00 [DBG] Connection id "0HN3K6J4IU3QR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 19:42:04.460 +03:00 [DBG] Connection id "0HN3K6J4IU3QS" accepted.
2024-05-14 19:42:04.461 +03:00 [DBG] Connection id "0HN3K6J4IU3QS" started.
2024-05-14 19:42:04.499 +03:00 [DBG] Connection 0HN3K6J4IU3QS established using the following protocol: "Tls12"
2024-05-14 19:42:04.624 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger/index.html - null null
2024-05-14 19:42:04.627 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-14 19:42:04.672 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-14 19:42:04.673 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:42:04.709 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:42:04.845 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger/index.html - 200 null text/html;charset=utf-8 224.3163ms
2024-05-14 19:42:05.117 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger/v1/swagger.json - null null
2024-05-14 19:42:05.121 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-14 19:42:05.122 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:42:05.125 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:42:05.319 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 202.2539ms
2024-05-14 19:44:17.057 +03:00 [DBG] Connection id "0HN3K6J4IU3QS" is closing.
2024-05-14 19:44:17.066 +03:00 [DBG] Connection id "0HN3K6J4IU3QS" is closed. The last processed stream ID was 3.
2024-05-14 19:44:17.069 +03:00 [DBG] Connection id "0HN3K6J4IU3QS" received FIN.
2024-05-14 19:44:17.070 +03:00 [DBG] Connection id "0HN3K6J4IU3QS" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 19:44:17.070 +03:00 [DBG] The connection queue processing loop for 0HN3K6J4IU3QS completed.
2024-05-14 19:44:17.075 +03:00 [DBG] Connection id "0HN3K6J4IU3QS" stopped.
2024-05-14 19:48:06.142 +03:00 [INF] Application is shutting down...
2024-05-14 19:48:06.144 +03:00 [DBG] Hosting stopping
2024-05-14 19:48:06.153 +03:00 [DBG] Hosting stopped
2024-05-14 19:58:10.204 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 19:58:10.300 +03:00 [DBG] Hosting starting
2024-05-14 19:58:10.314 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 19:58:10.456 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-14 19:58:10.461 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-14 19:58:10.462 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-14 19:58:10.467 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-14 19:58:10.470 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-14 19:58:10.471 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-14 19:58:10.478 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-14 19:58:10.482 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 19:58:10.486 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-14 19:58:10.487 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 19:58:10.493 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-14 19:58:10.494 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-14 19:58:10.496 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-14 19:58:10.497 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-14 19:58:10.583 +03:00 [INF] Now listening on: https://localhost:7021
2024-05-14 19:58:10.584 +03:00 [INF] Now listening on: http://localhost:5268
2024-05-14 19:58:10.584 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-14 19:58:10.585 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-14 19:58:10.586 +03:00 [INF] Hosting environment: Development
2024-05-14 19:58:10.587 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-14 19:58:10.587 +03:00 [DBG] Hosting started
2024-05-14 19:58:10.735 +03:00 [DBG] Connection id "0HN3K6S4KBAN4" received FIN.
2024-05-14 19:58:10.741 +03:00 [DBG] Connection id "0HN3K6S4KBAN4" accepted.
2024-05-14 19:58:10.743 +03:00 [DBG] Connection id "0HN3K6S4KBAN4" started.
2024-05-14 19:58:10.752 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-14 19:58:10.767 +03:00 [DBG] Connection id "0HN3K6S4KBAN4" stopped.
2024-05-14 19:58:10.771 +03:00 [DBG] Connection id "0HN3K6S4KBAN4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 19:58:10.987 +03:00 [DBG] Connection id "0HN3K6S4KBAN5" accepted.
2024-05-14 19:58:10.988 +03:00 [DBG] Connection id "0HN3K6S4KBAN5" started.
2024-05-14 19:58:11.097 +03:00 [DBG] Connection 0HN3K6S4KBAN5 established using the following protocol: "Tls12"
2024-05-14 19:58:11.157 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger/index.html - null null
2024-05-14 19:58:11.161 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-14 19:58:11.206 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-14 19:58:11.208 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:58:11.244 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:58:11.388 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger/index.html - 200 null text/html;charset=utf-8 235.1302ms
2024-05-14 19:58:11.658 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger/v1/swagger.json - null null
2024-05-14 19:58:11.661 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-14 19:58:11.662 +03:00 [DBG] Request did not match any endpoints
2024-05-14 19:58:11.665 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 19:58:11.854 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 196.3594ms
2024-05-14 19:58:54.094 +03:00 [INF] Application is shutting down...
2024-05-14 19:58:54.095 +03:00 [DBG] Hosting stopping
2024-05-14 19:58:54.104 +03:00 [DBG] Connection id "0HN3K6S4KBAN5" is closing.
2024-05-14 19:58:54.108 +03:00 [DBG] Connection id "0HN3K6S4KBAN5" is closed. The last processed stream ID was 3.
2024-05-14 19:58:54.109 +03:00 [DBG] Connection id "0HN3K6S4KBAN5" received FIN.
2024-05-14 19:58:54.110 +03:00 [DBG] The connection queue processing loop for 0HN3K6S4KBAN5 completed.
2024-05-14 19:58:54.111 +03:00 [DBG] Connection id "0HN3K6S4KBAN5" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 19:58:54.129 +03:00 [DBG] Connection id "0HN3K6S4KBAN5" stopped.
2024-05-14 19:58:54.134 +03:00 [DBG] Hosting stopped
2024-05-14 20:02:54.096 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 20:02:54.198 +03:00 [DBG] Hosting starting
2024-05-14 20:02:54.213 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 20:02:54.362 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-14 20:02:54.366 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-14 20:02:54.367 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-14 20:02:54.372 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-14 20:02:54.375 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-14 20:02:54.376 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-14 20:02:54.383 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-14 20:02:54.387 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 20:02:54.391 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-14 20:02:54.393 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 20:02:54.398 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-14 20:02:54.400 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-14 20:02:54.402 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-14 20:02:54.403 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-14 20:02:54.488 +03:00 [DBG] Connection id "0HN3K6UP6DV7L" received FIN.
2024-05-14 20:02:54.494 +03:00 [INF] Now listening on: https://localhost:7021
2024-05-14 20:02:54.494 +03:00 [DBG] Connection id "0HN3K6UP6DV7L" accepted.
2024-05-14 20:02:54.495 +03:00 [INF] Now listening on: http://localhost:5268
2024-05-14 20:02:54.496 +03:00 [DBG] Connection id "0HN3K6UP6DV7L" started.
2024-05-14 20:02:54.496 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-14 20:02:54.498 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-14 20:02:54.498 +03:00 [INF] Hosting environment: Development
2024-05-14 20:02:54.499 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-14 20:02:54.500 +03:00 [DBG] Hosting started
2024-05-14 20:02:54.505 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-14 20:02:54.520 +03:00 [DBG] Connection id "0HN3K6UP6DV7L" stopped.
2024-05-14 20:02:54.523 +03:00 [DBG] Connection id "0HN3K6UP6DV7L" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 20:02:54.733 +03:00 [DBG] Connection id "0HN3K6UP6DV7M" accepted.
2024-05-14 20:02:54.734 +03:00 [DBG] Connection id "0HN3K6UP6DV7M" started.
2024-05-14 20:02:54.770 +03:00 [DBG] Connection 0HN3K6UP6DV7M established using the following protocol: "Tls12"
2024-05-14 20:02:54.919 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger/index.html - null null
2024-05-14 20:02:54.922 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-14 20:02:54.967 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-14 20:02:54.968 +03:00 [DBG] Request did not match any endpoints
2024-05-14 20:02:55.010 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 20:02:55.161 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger/index.html - 200 null text/html;charset=utf-8 246.5603ms
2024-05-14 20:02:55.480 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger/v1/swagger.json - null null
2024-05-14 20:02:55.484 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-14 20:02:55.487 +03:00 [DBG] Request did not match any endpoints
2024-05-14 20:02:55.490 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 20:02:55.687 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 206.9811ms
2024-05-14 20:03:11.298 +03:00 [INF] Application is shutting down...
2024-05-14 20:03:11.299 +03:00 [DBG] Hosting stopping
2024-05-14 20:03:11.307 +03:00 [DBG] Connection id "0HN3K6UP6DV7M" is closing.
2024-05-14 20:03:11.311 +03:00 [DBG] Connection id "0HN3K6UP6DV7M" is closed. The last processed stream ID was 3.
2024-05-14 20:03:11.313 +03:00 [DBG] Connection id "0HN3K6UP6DV7M" received FIN.
2024-05-14 20:03:11.314 +03:00 [DBG] Connection id "0HN3K6UP6DV7M" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 20:03:11.314 +03:00 [DBG] The connection queue processing loop for 0HN3K6UP6DV7M completed.
2024-05-14 20:03:11.316 +03:00 [DBG] Connection id "0HN3K6UP6DV7M" stopped.
2024-05-14 20:03:11.322 +03:00 [DBG] Hosting stopped
2024-05-14 20:14:15.999 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 20:14:16.099 +03:00 [DBG] Hosting starting
2024-05-14 20:14:16.117 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 20:14:16.265 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-14 20:14:16.269 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-14 20:14:16.270 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-14 20:14:16.274 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-14 20:14:16.277 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-14 20:14:16.278 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-14 20:14:16.285 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-14 20:14:16.288 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 20:14:16.292 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-14 20:14:16.293 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 20:14:16.298 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-14 20:14:16.299 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-14 20:14:16.301 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-14 20:14:16.302 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-14 20:14:16.390 +03:00 [INF] Now listening on: https://localhost:7021
2024-05-14 20:14:16.391 +03:00 [INF] Now listening on: http://localhost:5268
2024-05-14 20:14:16.392 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-14 20:14:16.393 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-14 20:14:16.394 +03:00 [INF] Hosting environment: Development
2024-05-14 20:14:16.394 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-14 20:14:16.395 +03:00 [DBG] Hosting started
2024-05-14 20:14:16.543 +03:00 [DBG] Connection id "0HN3K754F0H3M" received FIN.
2024-05-14 20:14:16.548 +03:00 [DBG] Connection id "0HN3K754F0H3M" accepted.
2024-05-14 20:14:16.551 +03:00 [DBG] Connection id "0HN3K754F0H3M" started.
2024-05-14 20:14:16.564 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-14 20:14:16.577 +03:00 [DBG] Connection id "0HN3K754F0H3M" stopped.
2024-05-14 20:14:16.580 +03:00 [DBG] Connection id "0HN3K754F0H3M" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 20:14:16.789 +03:00 [DBG] Connection id "0HN3K754F0H3N" accepted.
2024-05-14 20:14:16.790 +03:00 [DBG] Connection id "0HN3K754F0H3N" started.
2024-05-14 20:14:16.825 +03:00 [DBG] Connection 0HN3K754F0H3N established using the following protocol: "Tls12"
2024-05-14 20:14:16.957 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger/index.html - null null
2024-05-14 20:14:16.960 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-14 20:14:17.006 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-14 20:14:17.007 +03:00 [DBG] Request did not match any endpoints
2024-05-14 20:14:17.042 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 20:14:17.183 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger/index.html - 200 null text/html;charset=utf-8 229.6861ms
2024-05-14 20:14:17.297 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger/swagger-ui-bundle.js - null null
2024-05-14 20:14:17.297 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger/swagger-ui-standalone-preset.js - null null
2024-05-14 20:14:17.297 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger/swagger-ui.css - null null
2024-05-14 20:14:17.300 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2024-05-14 20:14:17.301 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2024-05-14 20:14:17.304 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-05-14 20:14:17.305 +03:00 [DBG] Request did not match any endpoints
2024-05-14 20:14:17.306 +03:00 [DBG] Request did not match any endpoints
2024-05-14 20:14:17.307 +03:00 [DBG] Request did not match any endpoints
2024-05-14 20:14:17.310 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 20:14:17.310 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 20:14:17.310 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 20:14:17.318 +03:00 [INF] The file /swagger-ui.css was not modified
2024-05-14 20:14:17.318 +03:00 [INF] The file /swagger-ui-bundle.js was not modified
2024-05-14 20:14:17.318 +03:00 [INF] The file /swagger-ui-standalone-preset.js was not modified
2024-05-14 20:14:17.324 +03:00 [DBG] Handled. Status code: 304 File: /swagger-ui-bundle.js
2024-05-14 20:14:17.324 +03:00 [DBG] Handled. Status code: 304 File: /swagger-ui.css
2024-05-14 20:14:17.324 +03:00 [DBG] Handled. Status code: 304 File: /swagger-ui-standalone-preset.js
2024-05-14 20:14:17.326 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger/swagger-ui-bundle.js - 304 null text/javascript 28.965ms
2024-05-14 20:14:17.326 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger/swagger-ui.css - 304 null text/css 29.2897ms
2024-05-14 20:14:17.328 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger/swagger-ui-standalone-preset.js - 304 null text/javascript 30.5549ms
2024-05-14 20:14:17.805 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger/v1/swagger.json - null null
2024-05-14 20:14:17.807 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-14 20:14:17.808 +03:00 [DBG] Request did not match any endpoints
2024-05-14 20:14:17.813 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 20:14:18.005 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 200.2893ms
2024-05-14 20:14:28.782 +03:00 [INF] Application is shutting down...
2024-05-14 20:14:28.783 +03:00 [DBG] Hosting stopping
2024-05-14 20:14:28.791 +03:00 [DBG] Connection id "0HN3K754F0H3N" is closing.
2024-05-14 20:14:28.794 +03:00 [DBG] Connection id "0HN3K754F0H3N" is closed. The last processed stream ID was 9.
2024-05-14 20:14:28.796 +03:00 [DBG] Connection id "0HN3K754F0H3N" received FIN.
2024-05-14 20:14:28.797 +03:00 [DBG] Connection id "0HN3K754F0H3N" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 20:14:28.797 +03:00 [DBG] The connection queue processing loop for 0HN3K754F0H3N completed.
2024-05-14 20:14:28.800 +03:00 [DBG] Connection id "0HN3K754F0H3N" stopped.
2024-05-14 20:14:28.805 +03:00 [DBG] Hosting stopped
2024-05-14 20:14:35.403 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 20:14:35.502 +03:00 [DBG] Hosting starting
2024-05-14 20:14:35.516 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 20:14:35.658 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-14 20:14:35.663 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-14 20:14:35.665 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-14 20:14:35.671 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-14 20:14:35.675 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-14 20:14:35.676 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-14 20:14:35.683 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-14 20:14:35.687 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 20:14:35.690 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-14 20:14:35.692 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 20:14:35.697 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-14 20:14:35.699 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-14 20:14:35.700 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-14 20:14:35.702 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-14 20:14:35.790 +03:00 [INF] Now listening on: https://localhost:7021
2024-05-14 20:14:35.791 +03:00 [INF] Now listening on: http://localhost:5268
2024-05-14 20:14:35.792 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-14 20:14:35.792 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-14 20:14:35.793 +03:00 [INF] Hosting environment: Development
2024-05-14 20:14:35.794 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-14 20:14:35.795 +03:00 [DBG] Hosting started
2024-05-14 20:14:35.904 +03:00 [DBG] Connection id "0HN3K75A7L3TQ" received FIN.
2024-05-14 20:14:35.911 +03:00 [DBG] Connection id "0HN3K75A7L3TQ" accepted.
2024-05-14 20:14:35.913 +03:00 [DBG] Connection id "0HN3K75A7L3TQ" started.
2024-05-14 20:14:35.925 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-14 20:14:35.938 +03:00 [DBG] Connection id "0HN3K75A7L3TQ" stopped.
2024-05-14 20:14:35.941 +03:00 [DBG] Connection id "0HN3K75A7L3TQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 20:14:36.158 +03:00 [DBG] Connection id "0HN3K75A7L3TR" accepted.
2024-05-14 20:14:36.159 +03:00 [DBG] Connection id "0HN3K75A7L3TR" started.
2024-05-14 20:14:36.199 +03:00 [DBG] Connection 0HN3K75A7L3TR established using the following protocol: "Tls12"
2024-05-14 20:14:36.318 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger/index.html - null null
2024-05-14 20:14:36.321 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-14 20:14:36.364 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-14 20:14:36.366 +03:00 [DBG] Request did not match any endpoints
2024-05-14 20:14:36.405 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 20:14:36.527 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger/index.html - 200 null text/html;charset=utf-8 213.6289ms
2024-05-14 20:14:36.957 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger/v1/swagger.json - null null
2024-05-14 20:14:36.961 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-14 20:14:36.962 +03:00 [DBG] Request did not match any endpoints
2024-05-14 20:14:36.965 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 20:14:37.150 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 193.3568ms
2024-05-14 20:14:45.528 +03:00 [INF] Application is shutting down...
2024-05-14 20:14:45.529 +03:00 [DBG] Hosting stopping
2024-05-14 20:14:45.538 +03:00 [DBG] Connection id "0HN3K75A7L3TR" is closing.
2024-05-14 20:14:45.541 +03:00 [DBG] Connection id "0HN3K75A7L3TR" is closed. The last processed stream ID was 3.
2024-05-14 20:14:45.543 +03:00 [DBG] Connection id "0HN3K75A7L3TR" received FIN.
2024-05-14 20:14:45.544 +03:00 [DBG] Connection id "0HN3K75A7L3TR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 20:14:45.544 +03:00 [DBG] The connection queue processing loop for 0HN3K75A7L3TR completed.
2024-05-14 20:14:45.547 +03:00 [DBG] Connection id "0HN3K75A7L3TR" stopped.
2024-05-14 20:14:45.553 +03:00 [DBG] Hosting stopped
2024-05-14 20:18:43.674 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 20:19:01.146 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 20:19:12.328 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 20:19:38.709 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 20:19:38.809 +03:00 [DBG] Hosting starting
2024-05-14 20:19:38.823 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 20:19:38.964 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-14 20:19:38.969 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-14 20:19:38.970 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-14 20:19:38.975 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-14 20:19:38.979 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-14 20:19:38.980 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-14 20:19:38.987 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-14 20:19:38.991 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 20:19:38.994 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-14 20:19:38.996 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 20:19:39.001 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-14 20:19:39.003 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-14 20:19:39.005 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-14 20:19:39.006 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-14 20:19:39.091 +03:00 [INF] Now listening on: https://localhost:7021
2024-05-14 20:19:39.092 +03:00 [INF] Now listening on: http://localhost:5268
2024-05-14 20:19:39.093 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-14 20:19:39.094 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-14 20:19:39.094 +03:00 [INF] Hosting environment: Development
2024-05-14 20:19:39.095 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-14 20:19:39.096 +03:00 [DBG] Hosting started
2024-05-14 20:19:39.264 +03:00 [DBG] Connection id "0HN3K784KNA4G" received FIN.
2024-05-14 20:19:39.271 +03:00 [DBG] Connection id "0HN3K784KNA4G" accepted.
2024-05-14 20:19:39.273 +03:00 [DBG] Connection id "0HN3K784KNA4G" started.
2024-05-14 20:19:39.281 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-14 20:19:39.295 +03:00 [DBG] Connection id "0HN3K784KNA4G" stopped.
2024-05-14 20:19:39.298 +03:00 [DBG] Connection id "0HN3K784KNA4G" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 20:19:39.504 +03:00 [DBG] Connection id "0HN3K784KNA4H" accepted.
2024-05-14 20:19:39.505 +03:00 [DBG] Connection id "0HN3K784KNA4H" started.
2024-05-14 20:19:39.543 +03:00 [DBG] Connection 0HN3K784KNA4H established using the following protocol: "Tls12"
2024-05-14 20:19:39.684 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger/index.html - null null
2024-05-14 20:19:39.687 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-14 20:19:39.735 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-14 20:19:39.736 +03:00 [DBG] Request did not match any endpoints
2024-05-14 20:19:39.770 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 20:19:39.894 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger/index.html - 200 null text/html;charset=utf-8 214.198ms
2024-05-14 20:19:40.195 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger/v1/swagger.json - null null
2024-05-14 20:19:40.199 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-14 20:19:40.201 +03:00 [DBG] Request did not match any endpoints
2024-05-14 20:19:40.203 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 20:19:40.395 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 199.8478ms
2024-05-14 20:19:51.454 +03:00 [INF] Application is shutting down...
2024-05-14 20:19:51.455 +03:00 [DBG] Hosting stopping
2024-05-14 20:19:51.463 +03:00 [DBG] Connection id "0HN3K784KNA4H" is closing.
2024-05-14 20:19:51.466 +03:00 [DBG] Connection id "0HN3K784KNA4H" is closed. The last processed stream ID was 3.
2024-05-14 20:19:51.468 +03:00 [DBG] Connection id "0HN3K784KNA4H" received FIN.
2024-05-14 20:19:51.469 +03:00 [DBG] Connection id "0HN3K784KNA4H" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 20:19:51.469 +03:00 [DBG] The connection queue processing loop for 0HN3K784KNA4H completed.
2024-05-14 20:19:51.472 +03:00 [DBG] Connection id "0HN3K784KNA4H" stopped.
2024-05-14 20:19:51.478 +03:00 [DBG] Hosting stopped
2024-05-14 20:24:41.582 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 20:24:41.682 +03:00 [DBG] Hosting starting
2024-05-14 20:24:41.696 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 20:24:41.839 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-14 20:24:41.843 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-14 20:24:41.844 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-14 20:24:41.849 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-14 20:24:41.852 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-14 20:24:41.853 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-14 20:24:41.860 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-14 20:24:41.865 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 20:24:41.871 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-14 20:24:41.873 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 20:24:41.878 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-14 20:24:41.880 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-14 20:24:41.882 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-14 20:24:41.883 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-14 20:24:41.982 +03:00 [INF] Now listening on: https://localhost:7021
2024-05-14 20:24:41.983 +03:00 [INF] Now listening on: http://localhost:5268
2024-05-14 20:24:41.984 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-14 20:24:41.986 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-14 20:24:41.986 +03:00 [INF] Hosting environment: Development
2024-05-14 20:24:41.987 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-14 20:24:41.988 +03:00 [DBG] Hosting started
2024-05-14 20:24:42.047 +03:00 [DBG] Connection id "0HN3K7AUS994K" received FIN.
2024-05-14 20:24:42.053 +03:00 [DBG] Connection id "0HN3K7AUS994K" accepted.
2024-05-14 20:24:42.055 +03:00 [DBG] Connection id "0HN3K7AUS994K" started.
2024-05-14 20:24:42.064 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-14 20:24:42.079 +03:00 [DBG] Connection id "0HN3K7AUS994K" stopped.
2024-05-14 20:24:42.082 +03:00 [DBG] Connection id "0HN3K7AUS994K" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 20:24:42.308 +03:00 [DBG] Connection id "0HN3K7AUS994L" accepted.
2024-05-14 20:24:42.309 +03:00 [DBG] Connection id "0HN3K7AUS994L" started.
2024-05-14 20:24:42.343 +03:00 [DBG] Connection 0HN3K7AUS994L established using the following protocol: "Tls12"
2024-05-14 20:24:42.459 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger/index.html - null null
2024-05-14 20:24:42.463 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-14 20:24:42.508 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-14 20:24:42.509 +03:00 [DBG] Request did not match any endpoints
2024-05-14 20:24:42.546 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 20:24:42.693 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger/index.html - 200 null text/html;charset=utf-8 237.5315ms
2024-05-14 20:24:42.985 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger/v1/swagger.json - null null
2024-05-14 20:24:42.989 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-14 20:24:42.991 +03:00 [DBG] Request did not match any endpoints
2024-05-14 20:24:42.993 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 20:24:43.206 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 221.0928ms
2024-05-14 20:25:01.432 +03:00 [INF] Application is shutting down...
2024-05-14 20:25:01.433 +03:00 [DBG] Hosting stopping
2024-05-14 20:25:01.441 +03:00 [DBG] Connection id "0HN3K7AUS994L" is closing.
2024-05-14 20:25:01.446 +03:00 [DBG] Connection id "0HN3K7AUS994L" is closed. The last processed stream ID was 3.
2024-05-14 20:25:01.448 +03:00 [DBG] Connection id "0HN3K7AUS994L" received FIN.
2024-05-14 20:25:01.449 +03:00 [DBG] Connection id "0HN3K7AUS994L" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 20:25:01.449 +03:00 [DBG] The connection queue processing loop for 0HN3K7AUS994L completed.
2024-05-14 20:25:01.452 +03:00 [DBG] Connection id "0HN3K7AUS994L" stopped.
2024-05-14 20:25:01.458 +03:00 [DBG] Hosting stopped
2024-05-14 20:31:02.112 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 20:31:02.209 +03:00 [DBG] Hosting starting
2024-05-14 20:31:02.222 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 20:31:02.367 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-14 20:31:02.371 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-14 20:31:02.373 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-14 20:31:02.378 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-14 20:31:02.382 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-14 20:31:02.383 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-14 20:31:02.391 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-14 20:31:02.395 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 20:31:02.399 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-14 20:31:02.400 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 20:31:02.405 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-14 20:31:02.408 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-14 20:31:02.410 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-14 20:31:02.411 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-14 20:31:02.498 +03:00 [INF] Now listening on: https://localhost:7021
2024-05-14 20:31:02.499 +03:00 [INF] Now listening on: http://localhost:5268
2024-05-14 20:31:02.500 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-14 20:31:02.501 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-14 20:31:02.501 +03:00 [INF] Hosting environment: Development
2024-05-14 20:31:02.502 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-14 20:31:02.503 +03:00 [DBG] Hosting started
2024-05-14 20:31:02.658 +03:00 [DBG] Connection id "0HN3K7EGA2DI9" received FIN.
2024-05-14 20:31:02.669 +03:00 [DBG] Connection id "0HN3K7EGA2DI9" accepted.
2024-05-14 20:31:02.671 +03:00 [DBG] Connection id "0HN3K7EGA2DI9" started.
2024-05-14 20:31:02.679 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-14 20:31:02.693 +03:00 [DBG] Connection id "0HN3K7EGA2DI9" stopped.
2024-05-14 20:31:02.696 +03:00 [DBG] Connection id "0HN3K7EGA2DI9" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 20:31:02.917 +03:00 [DBG] Connection id "0HN3K7EGA2DIA" accepted.
2024-05-14 20:31:02.919 +03:00 [DBG] Connection id "0HN3K7EGA2DIA" started.
2024-05-14 20:31:03.015 +03:00 [DBG] Connection 0HN3K7EGA2DIA established using the following protocol: "Tls12"
2024-05-14 20:31:03.060 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger/index.html - null null
2024-05-14 20:31:03.064 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-14 20:31:03.104 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-14 20:31:03.106 +03:00 [DBG] Request did not match any endpoints
2024-05-14 20:31:03.139 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 20:31:03.263 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger/index.html - 200 null text/html;charset=utf-8 206.55ms
2024-05-14 20:31:03.548 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger/v1/swagger.json - null null
2024-05-14 20:31:03.551 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-14 20:31:03.552 +03:00 [DBG] Request did not match any endpoints
2024-05-14 20:31:03.554 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 20:31:03.744 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 196.991ms
2024-05-14 20:31:28.643 +03:00 [INF] Application is shutting down...
2024-05-14 20:31:28.644 +03:00 [DBG] Hosting stopping
2024-05-14 20:31:28.653 +03:00 [DBG] Connection id "0HN3K7EGA2DIA" is closing.
2024-05-14 20:31:28.657 +03:00 [DBG] Connection id "0HN3K7EGA2DIA" is closed. The last processed stream ID was 3.
2024-05-14 20:31:28.659 +03:00 [DBG] Connection id "0HN3K7EGA2DIA" received FIN.
2024-05-14 20:31:28.661 +03:00 [DBG] Connection id "0HN3K7EGA2DIA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 20:31:28.661 +03:00 [DBG] The connection queue processing loop for 0HN3K7EGA2DIA completed.
2024-05-14 20:31:28.664 +03:00 [DBG] Connection id "0HN3K7EGA2DIA" stopped.
2024-05-14 20:31:28.669 +03:00 [DBG] Hosting stopped
2024-05-14 20:32:42.780 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 20:32:42.887 +03:00 [DBG] Hosting starting
2024-05-14 20:32:42.901 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 20:32:43.042 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-14 20:32:43.046 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-14 20:32:43.047 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-14 20:32:43.052 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-14 20:32:43.056 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-14 20:32:43.057 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-14 20:32:43.064 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-14 20:32:43.067 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 20:32:43.071 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-14 20:32:43.073 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 20:32:43.078 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-14 20:32:43.080 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-14 20:32:43.082 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-14 20:32:43.083 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-14 20:32:43.169 +03:00 [INF] Now listening on: https://localhost:7021
2024-05-14 20:32:43.170 +03:00 [INF] Now listening on: http://localhost:5268
2024-05-14 20:32:43.171 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-14 20:32:43.172 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-14 20:32:43.173 +03:00 [INF] Hosting environment: Development
2024-05-14 20:32:43.174 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-14 20:32:43.175 +03:00 [DBG] Hosting started
2024-05-14 20:32:43.292 +03:00 [DBG] Connection id "0HN3K7FE9PJAE" received FIN.
2024-05-14 20:32:43.299 +03:00 [DBG] Connection id "0HN3K7FE9PJAE" accepted.
2024-05-14 20:32:43.301 +03:00 [DBG] Connection id "0HN3K7FE9PJAE" started.
2024-05-14 20:32:43.312 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-14 20:32:43.327 +03:00 [DBG] Connection id "0HN3K7FE9PJAE" stopped.
2024-05-14 20:32:43.330 +03:00 [DBG] Connection id "0HN3K7FE9PJAE" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 20:32:43.634 +03:00 [DBG] Connection id "0HN3K7FE9PJAF" accepted.
2024-05-14 20:32:43.635 +03:00 [DBG] Connection id "0HN3K7FE9PJAF" started.
2024-05-14 20:32:43.675 +03:00 [DBG] Connection 0HN3K7FE9PJAF established using the following protocol: "Tls12"
2024-05-14 20:32:43.781 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger/index.html - null null
2024-05-14 20:32:43.784 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-14 20:32:43.827 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-14 20:32:43.829 +03:00 [DBG] Request did not match any endpoints
2024-05-14 20:32:43.870 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 20:32:44.028 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger/index.html - 200 null text/html;charset=utf-8 251.231ms
2024-05-14 20:32:44.335 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger/v1/swagger.json - null null
2024-05-14 20:32:44.338 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-14 20:32:44.339 +03:00 [DBG] Request did not match any endpoints
2024-05-14 20:32:44.342 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 20:32:44.564 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 229.2231ms
2024-05-14 20:34:57.091 +03:00 [DBG] Connection id "0HN3K7FE9PJAF" is closing.
2024-05-14 20:34:57.096 +03:00 [DBG] Connection id "0HN3K7FE9PJAF" is closed. The last processed stream ID was 3.
2024-05-14 20:34:57.098 +03:00 [DBG] Connection id "0HN3K7FE9PJAF" received FIN.
2024-05-14 20:34:57.099 +03:00 [DBG] The connection queue processing loop for 0HN3K7FE9PJAF completed.
2024-05-14 20:34:57.100 +03:00 [DBG] Connection id "0HN3K7FE9PJAF" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 20:34:57.106 +03:00 [DBG] Connection id "0HN3K7FE9PJAF" stopped.
2024-05-14 20:35:00.187 +03:00 [INF] Application is shutting down...
2024-05-14 20:35:00.188 +03:00 [DBG] Hosting stopping
2024-05-14 20:35:00.197 +03:00 [DBG] Hosting stopped
2024-05-14 20:36:17.371 +03:00 [DBG] Registered model binder providers, in the following order: ["Asp.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-14 20:36:17.470 +03:00 [DBG] Hosting starting
2024-05-14 20:36:17.484 +03:00 [INF] User profile is available. Using 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-14 20:36:17.635 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c.xml'.
2024-05-14 20:36:17.640 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-d08e414e-a56c-4028-ab53-ada900b97d9b.xml'.
2024-05-14 20:36:17.641 +03:00 [DBG] Reading data from file 'C:\Users\Eugeny\AppData\Local\ASP.NET\DataProtection-Keys\key-e84327ca-0e69-40db-8715-acb4aff461a3.xml'.
2024-05-14 20:36:17.646 +03:00 [DBG] Found key {0d8c9b8e-63ef-4b0b-b493-0986a6d9e62c}.
2024-05-14 20:36:17.650 +03:00 [DBG] Found key {d08e414e-a56c-4028-ab53-ada900b97d9b}.
2024-05-14 20:36:17.651 +03:00 [DBG] Found key {e84327ca-0e69-40db-8715-acb4aff461a3}.
2024-05-14 20:36:17.659 +03:00 [DBG] Considering key {d08e414e-a56c-4028-ab53-ada900b97d9b} with expiration date 2024-07-24 12:45:18Z as default key.
2024-05-14 20:36:17.664 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 20:36:17.668 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-05-14 20:36:17.670 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-05-14 20:36:17.675 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-05-14 20:36:17.677 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-05-14 20:36:17.678 +03:00 [DBG] Using key {d08e414e-a56c-4028-ab53-ada900b97d9b} as the default key.
2024-05-14 20:36:17.680 +03:00 [DBG] Key ring with default key {d08e414e-a56c-4028-ab53-ada900b97d9b} was loaded during application startup.
2024-05-14 20:36:17.767 +03:00 [INF] Now listening on: https://localhost:7021
2024-05-14 20:36:17.769 +03:00 [INF] Now listening on: http://localhost:5268
2024-05-14 20:36:17.770 +03:00 [DBG] Loaded hosting startup assembly Diary.Api
2024-05-14 20:36:17.771 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-14 20:36:17.771 +03:00 [INF] Hosting environment: Development
2024-05-14 20:36:17.772 +03:00 [INF] Content root path: C:\Users\Eugeny\Desktop\Diary\Presentation\Diary.Api
2024-05-14 20:36:17.773 +03:00 [DBG] Hosting started
2024-05-14 20:36:17.912 +03:00 [DBG] Connection id "0HN3K7HE8IE4S" received FIN.
2024-05-14 20:36:17.923 +03:00 [DBG] Connection id "0HN3K7HE8IE4S" accepted.
2024-05-14 20:36:17.925 +03:00 [DBG] Connection id "0HN3K7HE8IE4S" started.
2024-05-14 20:36:17.933 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-14 20:36:17.946 +03:00 [DBG] Connection id "0HN3K7HE8IE4S" stopped.
2024-05-14 20:36:17.949 +03:00 [DBG] Connection id "0HN3K7HE8IE4S" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 20:36:18.310 +03:00 [DBG] Connection id "0HN3K7HE8IE4T" accepted.
2024-05-14 20:36:18.312 +03:00 [DBG] Connection id "0HN3K7HE8IE4T" started.
2024-05-14 20:36:18.350 +03:00 [DBG] Connection 0HN3K7HE8IE4T established using the following protocol: "Tls12"
2024-05-14 20:36:18.483 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger/index.html - null null
2024-05-14 20:36:18.487 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-14 20:36:18.531 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-14 20:36:18.532 +03:00 [DBG] Request did not match any endpoints
2024-05-14 20:36:18.569 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 20:36:18.739 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger/index.html - 200 null text/html;charset=utf-8 258.8356ms
2024-05-14 20:36:19.078 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7021/swagger/v1/swagger.json - null null
2024-05-14 20:36:19.080 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-14 20:36:19.082 +03:00 [DBG] Request did not match any endpoints
2024-05-14 20:36:19.085 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-05-14 20:36:19.330 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7021/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 252.7454ms
2024-05-14 20:36:35.850 +03:00 [INF] Application is shutting down...
2024-05-14 20:36:35.851 +03:00 [DBG] Hosting stopping
2024-05-14 20:36:35.860 +03:00 [DBG] Connection id "0HN3K7HE8IE4T" is closing.
2024-05-14 20:36:35.864 +03:00 [DBG] Connection id "0HN3K7HE8IE4T" is closed. The last processed stream ID was 3.
2024-05-14 20:36:35.865 +03:00 [DBG] Connection id "0HN3K7HE8IE4T" received FIN.
2024-05-14 20:36:35.866 +03:00 [DBG] Connection id "0HN3K7HE8IE4T" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-14 20:36:35.866 +03:00 [DBG] The connection queue processing loop for 0HN3K7HE8IE4T completed.
2024-05-14 20:36:35.869 +03:00 [DBG] Connection id "0HN3K7HE8IE4T" stopped.
2024-05-14 20:36:35.875 +03:00 [DBG] Hosting stopped
